var AM=Object.defineProperty,MM=Object.defineProperties;var RM=Object.getOwnPropertyDescriptors;var Hw=Object.getOwnPropertySymbols,xM=Object.getPrototypeOf,NM=Object.prototype.hasOwnProperty,PM=Object.prototype.propertyIsEnumerable,OM=Reflect.get;var zw=(t,e,n)=>e in t?AM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O=(t,e)=>{for(var n in e||={})NM.call(e,n)&&zw(t,n,e[n]);if(Hw)for(var n of Hw(e))PM.call(e,n)&&zw(t,n,e[n]);return t},ue=(t,e)=>MM(t,RM(e));var wr=(t,e,n)=>OM(xM(t),n,e);var _=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});function qw(t,e){return Object.is(t,e)}var Ye=null,Lc=!1,Vc=1,Wn=Symbol("SIGNAL");function ve(t){let e=Ye;return Ye=t,e}function Gw(){return Ye}var Ls={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Xh(t){if(Lc)throw new Error("");if(Ye===null)return;Ye.consumerOnSignalRead(t);let e=Ye.nextProducerIndex++;if($c(Ye),e<Ye.producerNode.length&&Ye.producerNode[e]!==t&&Fs(Ye)){let n=Ye.producerNode[e];Bc(n,Ye.producerIndexOfThis[e])}Ye.producerNode[e]!==t&&(Ye.producerNode[e]=t,Ye.producerIndexOfThis[e]=Fs(Ye)?Yw(t,Ye,e):0),Ye.producerLastReadVersion[e]=t.version}function kM(){Vc++}function Ww(t){if(!(Fs(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Vc)){if(!t.producerMustRecompute(t)&&!tf(t)){t.dirty=!1,t.lastCleanEpoch=Vc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Vc}}function Kw(t){if(t.liveConsumerNode===void 0)return;let e=Lc;Lc=!0;try{for(let n of t.liveConsumerNode)n.dirty||FM(n)}finally{Lc=e}}function Qw(){return Ye?.consumerAllowSignalWrites!==!1}function FM(t){t.dirty=!0,Kw(t),t.consumerMarkedDirty?.(t)}function Uc(t){return t&&(t.nextProducerIndex=0),ve(t)}function ef(t,e){if(ve(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Fs(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Bc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function tf(t){$c(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Ww(n),r!==n.version))return!0}return!1}function nf(t){if($c(t),Fs(t))for(let e=0;e<t.producerNode.length;e++)Bc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Yw(t,e,n){if(Jw(t),t.liveConsumerNode.length===0&&Zw(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Yw(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Bc(t,e){if(Jw(t),t.liveConsumerNode.length===1&&Zw(t))for(let r=0;r<t.producerNode.length;r++)Bc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];$c(i),i.producerIndexOfThis[r]=e}}function Fs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function $c(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Jw(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Zw(t){return t.producerNode!==void 0}function Xw(t){let e=Object.create(LM);e.computation=t;let n=()=>{if(Ww(e),Xh(e),e.value===jc)throw e.error;return e.value};return n[Wn]=e,n}var Jh=Symbol("UNSET"),Zh=Symbol("COMPUTING"),jc=Symbol("ERRORED"),LM=ue(O({},Ls),{value:Jh,dirty:!0,error:null,equal:qw,producerMustRecompute(t){return t.value===Jh||t.value===Zh},producerRecomputeValue(t){if(t.value===Zh)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Zh;let n=Uc(t),r;try{r=t.computation()}catch(i){r=jc,t.error=i}finally{ef(t,n)}if(e!==Jh&&e!==jc&&r!==jc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function VM(){throw new Error}var eI=VM;function tI(){eI()}function nI(t){eI=t}var jM=null;function rI(t){let e=Object.create(oI);e.value=t;let n=()=>(Xh(e),e.value);return n[Wn]=e,n}function rf(t,e){Qw()||tI(),t.equal(t.value,e)||(t.value=e,UM(t))}function iI(t,e){Qw()||tI(),rf(t,e(t.value))}var oI=ue(O({},Ls),{equal:qw,value:void 0});function UM(t){t.version++,kM(),Kw(t),jM?.()}function X(t){return typeof t=="function"}function qi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Hc=qi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Vs(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var qe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(X(r))try{r()}catch(o){e=o instanceof Hc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{sI(o)}catch(s){e=e??[],s instanceof Hc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Hc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)sI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Vs(n,e)}remove(e){let{_finalizers:n}=this;n&&Vs(n,e),e instanceof t&&e._removeParent(this)}};qe.EMPTY=(()=>{let t=new qe;return t.closed=!0,t})();var of=qe.EMPTY;function zc(t){return t instanceof qe||t&&"closed"in t&&X(t.remove)&&X(t.add)&&X(t.unsubscribe)}function sI(t){X(t)?t():t.unsubscribe()}var Zt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Gi={setTimeout(t,e,...n){let{delegate:r}=Gi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Gi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function qc(t){Gi.setTimeout(()=>{let{onUnhandledError:e}=Zt;if(e)e(t);else throw t})}function js(){}var aI=sf("C",void 0,void 0);function cI(t){return sf("E",void 0,t)}function uI(t){return sf("N",t,void 0)}function sf(t,e,n){return{kind:t,value:e,error:n}}var Jr=null;function Wi(t){if(Zt.useDeprecatedSynchronousErrorHandling){let e=!Jr;if(e&&(Jr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Jr;if(Jr=null,n)throw r}}else t()}function lI(t){Zt.useDeprecatedSynchronousErrorHandling&&Jr&&(Jr.errorThrown=!0,Jr.error=t)}var Zr=class extends qe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,zc(e)&&e.add(this)):this.destination=HM}static create(e,n,r){return new Ki(e,n,r)}next(e){this.isStopped?cf(uI(e),this):this._next(e)}error(e){this.isStopped?cf(cI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?cf(aI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},BM=Function.prototype.bind;function af(t,e){return BM.call(t,e)}var uf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Gc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Gc(r)}else Gc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Gc(n)}}},Ki=class extends Zr{constructor(e,n,r){super();let i;if(X(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Zt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&af(e.next,o),error:e.error&&af(e.error,o),complete:e.complete&&af(e.complete,o)}):i=e}this.destination=new uf(i)}};function Gc(t){Zt.useDeprecatedSynchronousErrorHandling?lI(t):qc(t)}function $M(t){throw t}function cf(t,e){let{onStoppedNotification:n}=Zt;n&&Gi.setTimeout(()=>n(t,e))}var HM={closed:!0,next:js,error:$M,complete:js};var Qi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Pt(t){return t}function lf(...t){return df(t)}function df(t){return t.length===0?Pt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var De=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=qM(n)?n:new Ki(n,r,i);return Wi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=dI(r),new r((i,o)=>{let s=new Ki({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Qi](){return this}pipe(...n){return df(n)(this)}toPromise(n){return n=dI(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function dI(t){var e;return(e=t??Zt.Promise)!==null&&e!==void 0?e:Promise}function zM(t){return t&&X(t.next)&&X(t.error)&&X(t.complete)}function qM(t){return t&&t instanceof Zr||zM(t)&&zc(t)}function hf(t){return X(t?.lift)}function pe(t){return e=>{if(hf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function le(t,e,n,r,i){return new ff(t,e,n,r,i)}var ff=class extends Zr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Yi(){return pe((t,e)=>{let n=null;t._refCount++;let r=le(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ji=class extends De{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,hf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new qe;let n=this.getSubject();e.add(this.source.subscribe(le(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=qe.EMPTY)}return e}refCount(){return Yi()(this)}};var hI=qi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var st=(()=>{class t extends De{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Wc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new hI}next(n){Wi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Wi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Wi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?of:(this.currentObservers=null,o.push(n),new qe(()=>{this.currentObservers=null,Vs(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new De;return n.source=this,n}}return t.create=(e,n)=>new Wc(e,n),t})(),Wc=class extends st{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:of}};var $e=class extends st{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ot=new De(t=>t.complete());function fI(t){return t&&X(t.schedule)}function pI(t){return t[t.length-1]}function Kc(t){return X(pI(t))?t.pop():void 0}function Ir(t){return fI(pI(t))?t.pop():void 0}function Qc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function mI(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function gI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xr(t){return this instanceof Xr?(this.v=t,this):new Xr(t)}function yI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(S){return Promise.resolve(S).then(y,p)}}function a(y,S){r[y]&&(i[y]=function(x){return new Promise(function(R,V){o.push([y,x,R,V])>1||u(y,x)})},S&&(i[y]=S(i[y])))}function u(y,S){try{l(r[y](S))}catch(x){m(o[0][3],x)}}function l(y){y.value instanceof Xr?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,S){y(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function vI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof gI=="function"?gI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Yc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Jc(t){return X(t?.then)}function Zc(t){return X(t[Qi])}function Xc(t){return Symbol.asyncIterator&&X(t?.[Symbol.asyncIterator])}function eu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function GM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var tu=GM();function nu(t){return X(t?.[tu])}function ru(t){return yI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Xr(n.read());if(i)return yield Xr(void 0);yield yield Xr(r)}}finally{n.releaseLock()}})}function iu(t){return X(t?.getReader)}function Ge(t){if(t instanceof De)return t;if(t!=null){if(Zc(t))return WM(t);if(Yc(t))return KM(t);if(Jc(t))return QM(t);if(Xc(t))return _I(t);if(nu(t))return YM(t);if(iu(t))return JM(t)}throw eu(t)}function WM(t){return new De(e=>{let n=t[Qi]();if(X(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function KM(t){return new De(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function QM(t){return new De(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,qc)})}function YM(t){return new De(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function _I(t){return new De(e=>{ZM(t,e).catch(n=>e.error(n))})}function JM(t){return _I(ru(t))}function ZM(t,e){var n,r,i,o;return mI(this,void 0,void 0,function*(){try{for(n=vI(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ct(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function ou(t,e=0){return pe((n,r)=>{n.subscribe(le(r,i=>Ct(r,t,()=>r.next(i),e),()=>Ct(r,t,()=>r.complete(),e),i=>Ct(r,t,()=>r.error(i),e)))})}function su(t,e=0){return pe((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function wI(t,e){return Ge(t).pipe(su(e),ou(e))}function II(t,e){return Ge(t).pipe(su(e),ou(e))}function EI(t,e){return new De(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function DI(t,e){return new De(n=>{let r;return Ct(n,e,()=>{r=t[tu](),Ct(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>X(r?.return)&&r.return()})}function au(t,e){if(!t)throw new Error("Iterable cannot be null");return new De(n=>{Ct(n,e,()=>{let r=t[Symbol.asyncIterator]();Ct(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function bI(t,e){return au(ru(t),e)}function CI(t,e){if(t!=null){if(Zc(t))return wI(t,e);if(Yc(t))return EI(t,e);if(Jc(t))return II(t,e);if(Xc(t))return au(t,e);if(nu(t))return DI(t,e);if(iu(t))return bI(t,e)}throw eu(t)}function He(t,e){return e?CI(t,e):Ge(t)}function ee(...t){let e=Ir(t);return He(t,e)}function Zi(t,e){let n=X(t)?t:()=>t,r=i=>i.error(n());return new De(e?i=>e.schedule(r,0,i):r)}function pf(t){return!!t&&(t instanceof De||X(t.lift)&&X(t.subscribe))}var Kn=qi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function se(t,e){return pe((n,r)=>{let i=0;n.subscribe(le(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:XM}=Array;function eR(t,e){return XM(e)?t(...e):t(e)}function cu(t){return se(e=>eR(t,e))}var{isArray:tR}=Array,{getPrototypeOf:nR,prototype:rR,keys:iR}=Object;function uu(t){if(t.length===1){let e=t[0];if(tR(e))return{args:e,keys:null};if(oR(e)){let n=iR(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function oR(t){return t&&typeof t=="object"&&nR(t)===rR}function lu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function du(...t){let e=Ir(t),n=Kc(t),{args:r,keys:i}=uu(t);if(r.length===0)return He([],e);let o=new De(sR(r,e,i?s=>lu(i,s):Pt));return n?o.pipe(cu(n)):o}function sR(t,e,n=Pt){return r=>{TI(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)TI(e,()=>{let l=He(t[u],e),h=!1;l.subscribe(le(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function TI(t,e,n){t?Ct(n,t,e):e()}function SI(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=x=>l<r?S(x):u.push(x),S=x=>{o&&e.next(x),l++;let R=!1;Ge(n(x,h++)).subscribe(le(e,V=>{i?.(V),o?y(V):e.next(V)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let V=u.shift();s?Ct(e,s,()=>S(V)):S(V)}m()}catch(V){e.error(V)}}))};return t.subscribe(le(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Je(t,e,n=1/0){return X(e)?Je((r,i)=>se((o,s)=>e(r,o,i,s))(Ge(t(r,i))),n):(typeof e=="number"&&(n=e),pe((r,i)=>SI(r,i,t,n)))}function gf(t=1/0){return Je(Pt,t)}function AI(){return gf(1)}function Xi(...t){return AI()(He(t,Ir(t)))}function hu(t){return new De(e=>{Ge(t()).subscribe(e)})}function mf(...t){let e=Kc(t),{args:n,keys:r}=uu(t),i=new De(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Ge(n[h]).subscribe(le(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?lu(r,a):a),o.complete())}))}});return e?i.pipe(cu(e)):i}function Xt(t,e){return pe((n,r)=>{let i=0;n.subscribe(le(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Er(t){return pe((e,n)=>{let r=null,i=!1,o;r=e.subscribe(le(n,void 0,void 0,s=>{o=Ge(t(s,Er(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function MI(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(le(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function eo(t,e){return X(e)?Je(t,e,1):Je(t,1)}function Dr(t){return pe((e,n)=>{let r=!1;e.subscribe(le(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Qn(t){return t<=0?()=>Ot:pe((e,n)=>{let r=0;e.subscribe(le(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function yf(t){return se(()=>t)}function fu(t=aR){return pe((e,n)=>{let r=!1;e.subscribe(le(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function aR(){return new Kn}function Us(t){return pe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function gn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Xt((i,o)=>t(i,o,r)):Pt,Qn(1),n?Dr(e):fu(()=>new Kn))}function to(t){return t<=0?()=>Ot:pe((e,n)=>{let r=[];e.subscribe(le(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function vf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Xt((i,o)=>t(i,o,r)):Pt,to(1),n?Dr(e):fu(()=>new Kn))}function _f(t,e){return pe(MI(t,e,arguments.length>=2,!0))}function wf(...t){let e=Ir(t);return pe((n,r)=>{(e?Xi(t,n,e):Xi(t,n)).subscribe(r)})}function en(t,e){return pe((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(le(r,u=>{i?.unsubscribe();let l=0,h=o++;Ge(t(u,h)).subscribe(i=le(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function If(t){return pe((e,n)=>{Ge(t).subscribe(le(n,()=>n.complete(),js)),!n.closed&&e.subscribe(n)})}function at(t,e,n){let r=X(t)||e||n?{next:t,error:e,complete:n}:t;return r?pe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(le(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Pt}var fE="https://g.co/ng/security#xss",q=class extends Error{constructor(e,n){super(Ip(e,n)),this.code=e}};function Ip(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Zs(t){return{toString:t}.toString()}var pu="__parameters__";function cR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function pE(t,e,n){return Zs(()=>{let r=cR(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(pu)?u[pu]:Object.defineProperty(u,pu,{value:[]})[pu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Ae(t){for(let e in t)if(t[e]===Ae)return e;throw Error("Could not find renamed property on target object.")}function uR(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Dt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Dt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function RI(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var lR=Ae({__forward_ref__:Ae});function vo(t){return t.__forward_ref__=vo,t.toString=function(){return Dt(this())},t}function Et(t){return gE(t)?t():t}function gE(t){return typeof t=="function"&&t.hasOwnProperty(lR)&&t.__forward_ref__===vo}function $(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function _o(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ku(t){return xI(t,yE)||xI(t,vE)}function mE(t){return Ku(t)!==null}function xI(t,e){return t.hasOwnProperty(e)?t[e]:null}function dR(t){let e=t&&(t[yE]||t[vE]);return e||null}function NI(t){return t&&(t.hasOwnProperty(PI)||t.hasOwnProperty(hR))?t[PI]:null}var yE=Ae({\u0275prov:Ae}),PI=Ae({\u0275inj:Ae}),vE=Ae({ngInjectableDef:Ae}),hR=Ae({ngInjectorDef:Ae}),W=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=$({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function _E(t){return t&&!!t.\u0275providers}var fR=Ae({\u0275cmp:Ae}),pR=Ae({\u0275dir:Ae}),gR=Ae({\u0275pipe:Ae}),mR=Ae({\u0275mod:Ae}),Du=Ae({\u0275fac:Ae}),$s=Ae({__NG_ELEMENT_ID__:Ae}),OI=Ae({__NG_ENV_ID__:Ae});function Ep(t){return typeof t=="string"?t:t==null?"":String(t)}function yR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ep(t)}function vR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new q(-200,t)}function Dp(t,e){throw new q(-201,!1)}var ie=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ie||{}),kf;function wE(){return kf}function Tt(t){let e=kf;return kf=t,e}function IE(t,e,n){let r=Ku(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ie.Optional)return null;if(e!==void 0)return e;Dp(t,"Injector")}var _R={},Hs=_R,Ff="__NG_DI_FLAG__",bu="ngTempTokenPath",wR="ngTokenPath",IR=/\n/gm,ER="\u0275",kI="__source",oo;function DR(){return oo}function br(t){let e=oo;return oo=t,e}function bR(t,e=ie.Default){if(oo===void 0)throw new q(-203,!1);return oo===null?IE(t,void 0,e):oo.get(t,e&ie.Optional?null:void 0,e)}function J(t,e=ie.Default){return(wE()||bR)(Et(t),e)}function k(t,e=ie.Default){return J(t,Qu(e))}function Qu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Lf(t){let e=[];for(let n=0;n<t.length;n++){let r=Et(t[n]);if(Array.isArray(r)){if(r.length===0)throw new q(900,!1);let i,o=ie.Default;for(let s=0;s<r.length;s++){let a=r[s],u=CR(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(J(i,o))}else e.push(J(r))}return e}function EE(t,e){return t[Ff]=e,t.prototype[Ff]=e,t}function CR(t){return t[Ff]}function TR(t,e,n,r){let i=t[bu];throw e[kI]&&i.unshift(e[kI]),t.message=SR(`
`+t.message,i,n,r),t[wR]=i,t[bu]=null,t}function SR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==ER?t.slice(2):t;let i=Dt(e);if(Array.isArray(e))i=e.map(Dt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Dt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(IR,`
  `)}`}var bp=EE(pE("Optional"),8);var DE=EE(pE("SkipSelf"),4);function ni(t,e){let n=t.hasOwnProperty(Du);return n?t[Du]:null}function Cp(t,e){t.forEach(n=>Array.isArray(n)?Cp(n,e):e(n))}function bE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Cu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function AR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function MR(t,e,n){let r=Xs(t,e);return r>=0?t[r|1]=n:(r=~r,AR(t,r,e,n)),r}function Ef(t,e){let n=Xs(t,e);if(n>=0)return t[n|1]}function Xs(t,e){return RR(t,e,1)}function RR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var ao={},Ht=[],co=new W(""),CE=new W("",-1),TE=new W(""),Tu=class{get(e,n=Hs){if(n===Hs){let r=new Error(`NullInjectorError: No provider for ${Dt(e)}!`);throw r.name="NullInjectorError",r}return n}},SE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(SE||{}),vn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(vn||{}),Sr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Sr||{});function xR(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Vf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];PR(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function NR(t){return t===3||t===4||t===6}function PR(t){return t.charCodeAt(0)===64}function zs(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?FI(t,n,i,null,e[++r]):FI(t,n,i,null,null))}}return t}function FI(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var AE="ng-template";function OR(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&xR(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Tp(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Tp(t){return t.type===4&&t.value!==AE}function kR(t,e,n){let r=t.type===4&&!n?AE:t.value;return e===r}function FR(t,e,n){let r=4,i=t.attrs,o=i!==null?jR(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!tn(r)&&!tn(u))return!1;if(s&&tn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!kR(t,u,n)||u===""&&e.length===1){if(tn(r))return!1;s=!0}}else if(r&8){if(i===null||!OR(t,i,u,n)){if(tn(r))return!1;s=!0}}else{let l=e[++a],h=LR(u,i,Tp(t),n);if(h===-1){if(tn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(tn(r))return!1;s=!0}}}}return tn(r)||s}function tn(t){return(t&1)===0}function LR(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return UR(e,t)}function VR(t,e,n=!1){for(let r=0;r<e.length;r++)if(FR(t,e[r],n))return!0;return!1}function jR(t){for(let e=0;e<t.length;e++){let n=t[e];if(NR(n))return e}return t.length}function UR(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function LI(t,e){return t?":not("+e.trim()+")":e}function BR(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!tn(s)&&(e+=LI(o,i),i=""),r=s,o=o||!tn(r);n++}return i!==""&&(e+=LI(o,i)),e}function $R(t){return t.map(BR).join(",")}function HR(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!tn(i))break;i=o}r++}return{attrs:e,classes:n}}function xe(t){return Zs(()=>{let e=OE(t),n=ue(O({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===SE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||vn.Emulated,styles:t.styles||Ht,_:null,schemas:t.schemas||null,tView:null,id:""});kE(n);let r=t.dependencies;return n.directiveDefs=jI(r,!1),n.pipeDefs=jI(r,!0),n.id=GR(n),n})}function zR(t){return ri(t)||RE(t)}function qR(t){return t!==null}function wo(t){return Zs(()=>({type:t.type,bootstrap:t.bootstrap||Ht,declarations:t.declarations||Ht,imports:t.imports||Ht,exports:t.exports||Ht,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function VI(t,e){if(t==null)return ao;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=Sr.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==Sr.None?[r,a]:r,e[o]=s):n[o]=r}return n}function kt(t){return Zs(()=>{let e=OE(t);return kE(e),e})}function ME(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function ri(t){return t[fR]||null}function RE(t){return t[pR]||null}function xE(t){return t[gR]||null}function NE(t){let e=ri(t)||RE(t)||xE(t);return e!==null?e.standalone:!1}function PE(t,e){let n=t[mR]||null;if(!n&&e===!0)throw new Error(`Type ${Dt(t)} does not have '\u0275mod' property.`);return n}function OE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ao,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Ht,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:VI(t.inputs,e),outputs:VI(t.outputs),debugInfo:null}}function kE(t){t.features?.forEach(e=>e(t))}function jI(t,e){if(!t)return null;let n=e?xE:zR;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(qR)}function GR(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Yu(t){return{\u0275providers:t}}function WR(...t){return{\u0275providers:FE(!0,t),\u0275fromNgModule:!0}}function FE(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Cp(e,s=>{let a=s;jf(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&LE(i,o),n}function LE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Sp(i,o=>{e(o,r)})}}function jf(t,e,n,r){if(t=Et(t),!t)return!1;let i=null,o=NI(t),s=!o&&ri(t);if(!o&&!s){let u=t.ngModule;if(o=NI(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)jf(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Cp(o.imports,h=>{jf(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&LE(l,e)}if(!a){let l=ni(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ht},i),e({provide:TE,useValue:i,multi:!0},i),e({provide:co,useValue:()=>J(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;Sp(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Sp(t,e){for(let n of t)_E(n)&&(n=n.\u0275providers),Array.isArray(n)?Sp(n,e):e(n)}var KR=Ae({provide:String,useValue:Ae});function VE(t){return t!==null&&typeof t=="object"&&KR in t}function QR(t){return!!(t&&t.useExisting)}function YR(t){return!!(t&&t.useFactory)}function uo(t){return typeof t=="function"}function JR(t){return!!t.useClass}var Ju=new W(""),vu={},ZR={},Df;function Ap(){return Df===void 0&&(Df=new Tu),Df}var Gt=class{},qs=class extends Gt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Bf(e,s=>this.processProvider(s)),this.records.set(CE,no(void 0,this)),i.has("environment")&&this.records.set(Gt,no(void 0,this));let o=this.records.get(Ju);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(TE,Ht,ie.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ve(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ve(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=br(this),r=Tt(void 0),i;try{return e()}finally{br(n),Tt(r)}}get(e,n=Hs,r=ie.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(OI))return e[OI](this);r=Qu(r);let i,o=br(this),s=Tt(void 0);try{if(!(r&ie.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=rx(e)&&Ku(e);l&&this.injectableDefInScope(l)?u=no(Uf(e),vu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ie.Self?Ap():this.parent;return n=r&ie.Optional&&n===Hs?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[bu]=a[bu]||[]).unshift(Dt(e)),o)throw a;return TR(a,e,"R3InjectorError",this.source)}else throw a}finally{Tt(s),br(o)}}resolveInjectorInitializers(){let e=ve(null),n=br(this),r=Tt(void 0),i;try{let o=this.get(co,Ht,ie.Self);for(let s of o)s()}finally{br(n),Tt(r),ve(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Dt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new q(205,!1)}processProvider(e){e=Et(e);let n=uo(e)?e:Et(e&&e.provide),r=ex(e);if(!uo(e)&&e.multi===!0){let i=this.records.get(n);i||(i=no(void 0,vu,!0),i.factory=()=>Lf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ve(null);try{return n.value===vu&&(n.value=ZR,n.value=n.factory()),typeof n.value=="object"&&n.value&&nx(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ve(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Et(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Uf(t){let e=Ku(t),n=e!==null?e.factory:ni(t);if(n!==null)return n;if(t instanceof W)throw new q(204,!1);if(t instanceof Function)return XR(t);throw new q(204,!1)}function XR(t){if(t.length>0)throw new q(204,!1);let n=dR(t);return n!==null?()=>n.factory(t):()=>new t}function ex(t){if(VE(t))return no(void 0,t.useValue);{let e=jE(t);return no(e,vu)}}function jE(t,e,n){let r;if(uo(t)){let i=Et(t);return ni(i)||Uf(i)}else if(VE(t))r=()=>Et(t.useValue);else if(YR(t))r=()=>t.useFactory(...Lf(t.deps||[]));else if(QR(t))r=()=>J(Et(t.useExisting));else{let i=Et(t&&(t.useClass||t.provide));if(tx(t))r=()=>new i(...Lf(t.deps));else return ni(i)||Uf(i)}return r}function no(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function tx(t){return!!t.deps}function nx(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function rx(t){return typeof t=="function"||typeof t=="object"&&t instanceof W}function Bf(t,e){for(let n of t)Array.isArray(n)?Bf(n,e):n&&_E(n)?Bf(n.\u0275providers,e):e(n)}function Jn(t,e){t instanceof qs&&t.assertNotDestroyed();let n,r=br(t),i=Tt(void 0);try{return e()}finally{br(r),Tt(i)}}function ix(){return wE()!==void 0||DR()!=null}function ox(t){return typeof t=="function"}var Zn=0,ae=1,Y=2,bt=3,nn=4,on=5,Su=6,Au=7,rn=8,lo=9,_n=10,Xe=11,Gs=12,UI=13,Io=14,wn=15,ho=16,ro=17,fo=18,Zu=19,UE=20,Cr=21,bf=22,zt=23,In=25,BE=1;var ii=7,Mu=8,Ru=9,qt=10,xu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(xu||{});function Tr(t){return Array.isArray(t)&&typeof t[BE]=="object"}function Xn(t){return Array.isArray(t)&&t[BE]===!0}function $E(t){return(t.flags&4)!==0}function Xu(t){return t.componentOffset>-1}function Mp(t){return(t.flags&1)===1}function Ar(t){return!!t.template}function $f(t){return(t[Y]&512)!==0}var Hf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function HE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Eo(){return zE}function zE(t){return t.type.prototype.ngOnChanges&&(t.setInput=ax),sx}Eo.ngInherit=!0;function sx(){let t=GE(this),e=t?.current;if(e){let n=t.previous;if(n===ao)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function ax(t,e,n,r,i){let o=this.declaredInputs[r],s=GE(t)||cx(t,{previous:ao,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Hf(l&&l.currentValue,n,u===ao),HE(t,e,i,n)}var qE="__ngSimpleChanges__";function GE(t){return t[qE]||null}function cx(t,e){return t[qE]=e}var BI=null;var mn=function(t,e,n){BI?.(t,e,n)},WE="svg",ux="math";function En(t){for(;Array.isArray(t);)t=t[Zn];return t}function KE(t,e){return En(e[t])}function sn(t,e){return En(e[t.index])}function QE(t,e){return t.data[e]}function lx(t,e){return t[e]}function Nr(t,e){let n=e[t];return Tr(n)?n:n[Zn]}function Rp(t){return(t[Y]&128)===128}function dx(t){return Xn(t[bt])}function Nu(t,e){return e==null?null:t[e]}function YE(t){t[ro]=0}function JE(t){t[Y]&1024||(t[Y]|=1024,Rp(t)&&el(t))}function hx(t,e){for(;t>0;)e=e[Io],t--;return e}function Ws(t){return!!(t[Y]&9216||t[zt]?.dirty)}function zf(t){t[_n].changeDetectionScheduler?.notify(7),t[Y]&64&&(t[Y]|=1024),Ws(t)&&el(t)}function el(t){t[_n].changeDetectionScheduler?.notify(0);let e=oi(t);for(;e!==null&&!(e[Y]&8192||(e[Y]|=8192,!Rp(e)));)e=oi(e)}function ZE(t,e){if((t[Y]&256)===256)throw new q(911,!1);t[Cr]===null&&(t[Cr]=[]),t[Cr].push(e)}function fx(t,e){if(t[Cr]===null)return;let n=t[Cr].indexOf(e);n!==-1&&t[Cr].splice(n,1)}function oi(t){let e=t[bt];return Xn(e)?e[bt]:e}var oe={lFrame:c0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var XE=!1;function px(){return oe.lFrame.elementDepthCount}function gx(){oe.lFrame.elementDepthCount++}function mx(){oe.lFrame.elementDepthCount--}function e0(){return oe.bindingsEnabled}function yx(){return oe.skipHydrationRootTNode!==null}function vx(t){return oe.skipHydrationRootTNode===t}function _x(){oe.skipHydrationRootTNode=null}function Ce(){return oe.lFrame.lView}function St(){return oe.lFrame.tView}function je(t){return oe.lFrame.contextLView=t,t[rn]}function Ue(t){return oe.lFrame.contextLView=null,t}function At(){let t=t0();for(;t!==null&&t.type===64;)t=t.parent;return t}function t0(){return oe.lFrame.currentTNode}function wx(){let t=oe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ea(t,e){let n=oe.lFrame;n.currentTNode=t,n.isParent=e}function n0(){return oe.lFrame.isParent}function Ix(){oe.lFrame.isParent=!1}function r0(){return XE}function $I(t){XE=t}function i0(){let t=oe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Ex(t){return oe.lFrame.bindingIndex=t}function xp(){return oe.lFrame.bindingIndex++}function Dx(t){let e=oe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function bx(){return oe.lFrame.inI18n}function Cx(t,e){let n=oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,qf(e)}function Tx(){return oe.lFrame.currentDirectiveIndex}function qf(t){oe.lFrame.currentDirectiveIndex=t}function Sx(t){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function o0(t){oe.lFrame.currentQueryIndex=t}function Ax(t){let e=t[ae];return e.type===2?e.declTNode:e.type===1?t[on]:null}function s0(t,e,n){if(n&ie.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ie.Host);)if(i=Ax(o),i===null||(o=o[Io],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=oe.lFrame=a0();return r.currentTNode=e,r.lView=t,!0}function Np(t){let e=a0(),n=t[ae];oe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function a0(){let t=oe.lFrame,e=t===null?null:t.child;return e===null?c0(t):e}function c0(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function u0(){let t=oe.lFrame;return oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var l0=u0;function Pp(){let t=u0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Mx(t){return(oe.lFrame.contextLView=hx(t,oe.lFrame.contextLView))[rn]}function Do(){return oe.lFrame.selectedIndex}function si(t){oe.lFrame.selectedIndex=t}function Op(){let t=oe.lFrame;return QE(t.tView,t.selectedIndex)}function d0(){oe.lFrame.currentNamespace=WE}function Rx(){return oe.lFrame.currentNamespace}var h0=!0;function kp(){return h0}function Fp(t){h0=t}function xx(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=zE(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Lp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function _u(t,e,n){f0(t,e,3,n)}function wu(t,e,n,r){(t[Y]&3)===n&&f0(t,e,n,r)}function Cf(t,e){let n=t[Y];(n&3)===e&&(n&=16383,n+=1,t[Y]=n)}function f0(t,e,n,r){let i=r!==void 0?t[ro]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[ro]+=65536),(a<o||o==-1)&&(Nx(t,n,e,u),t[ro]=(t[ro]&4294901760)+u+2),u++}function HI(t,e){mn(4,t,e);let n=ve(null);try{e.call(t)}finally{ve(n),mn(5,t,e)}}function Nx(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[Y]>>14<t[ro]>>16&&(t[Y]&3)===e&&(t[Y]+=16384,HI(a,o)):HI(a,o)}var so=-1,ai=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function Px(t){return t instanceof ai}function Ox(t){return(t.flags&8)!==0}function kx(t){return(t.flags&16)!==0}var Tf={},Gf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Qu(r);let i=this.injector.get(e,Tf,r);return i!==Tf||n===Tf?i:this.parentInjector.get(e,n,r)}};function p0(t){return t!==so}function Pu(t){return t&32767}function Fx(t){return t>>16}function Ou(t,e){let n=Fx(t),r=e;for(;n>0;)r=r[Io],n--;return r}var Wf=!0;function ku(t){let e=Wf;return Wf=t,e}var Lx=256,g0=Lx-1,m0=5,Vx=0,yn={};function jx(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty($s)&&(r=n[$s]),r==null&&(r=n[$s]=Vx++);let i=r&g0,o=1<<i;e.data[t+(i>>m0)]|=o}function Fu(t,e){let n=y0(t,e);if(n!==-1)return n;let r=e[ae];r.firstCreatePass&&(t.injectorIndex=e.length,Sf(r.data,t),Sf(e,null),Sf(r.blueprint,null));let i=Vp(t,e),o=t.injectorIndex;if(p0(i)){let s=Pu(i),a=Ou(i,e),u=a[ae].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Sf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function y0(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Vp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=E0(i),r===null)return so;if(n++,i=i[Io],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return so}function Kf(t,e,n){jx(t,e,n)}function v0(t,e,n){if(n&ie.Optional||t!==void 0)return t;Dp(e,"NodeInjector")}function _0(t,e,n,r){if(n&ie.Optional&&r===void 0&&(r=null),!(n&(ie.Self|ie.Host))){let i=t[lo],o=Tt(void 0);try{return i?i.get(e,r,n&ie.Optional):IE(e,r,n&ie.Optional)}finally{Tt(o)}}return v0(r,e,n)}function w0(t,e,n,r=ie.Default,i){if(t!==null){if(e[Y]&2048&&!(r&ie.Self)){let s=zx(t,e,n,r,yn);if(s!==yn)return s}let o=I0(t,e,n,r,yn);if(o!==yn)return o}return _0(e,n,r,i)}function I0(t,e,n,r,i){let o=$x(n);if(typeof o=="function"){if(!s0(e,t,r))return r&ie.Host?v0(i,n,r):_0(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ie.Optional))Dp(n);else return s}finally{l0()}}else if(typeof o=="number"){let s=null,a=y0(t,e),u=so,l=r&ie.Host?e[wn][on]:null;for((a===-1||r&ie.SkipSelf)&&(u=a===-1?Vp(t,e):e[a+8],u===so||!qI(r,!1)?a=-1:(s=e[ae],a=Pu(u),e=Ou(u,e)));a!==-1;){let h=e[ae];if(zI(o,a,h.data)){let p=Ux(a,e,n,s,r,l);if(p!==yn)return p}u=e[a+8],u!==so&&qI(r,e[ae].data[a+8]===l)&&zI(o,a,e)?(s=h,a=Pu(u),e=Ou(u,e)):a=-1}}return i}function Ux(t,e,n,r,i,o){let s=e[ae],a=s.data[t+8],u=r==null?Xu(a)&&Wf:r!=s&&(a.type&3)!==0,l=i&ie.Host&&o===a,h=Bx(a,s,n,u,l);return h!==null?po(e,s,h,a):yn}function Bx(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let S=s[y];if(y<u&&n===S||y>=u&&S.type===n)return y}if(i){let y=s[u];if(y&&Ar(y)&&y.type===n)return u}return null}function po(t,e,n,r){let i=t[n],o=e.data;if(Px(i)){let s=i;s.resolving&&vR(yR(o[n]));let a=ku(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Tt(s.injectImpl):null,h=s0(t,r,ie.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&xx(n,o[n],e)}finally{l!==null&&Tt(l),ku(a),s.resolving=!1,l0()}}return i}function $x(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty($s)?t[$s]:void 0;return typeof e=="number"?e>=0?e&g0:Hx:e}function zI(t,e,n){let r=1<<t;return!!(n[e+(t>>m0)]&r)}function qI(t,e){return!(t&ie.Self)&&!(t&ie.Host&&e)}var ti=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return w0(this._tNode,this._lView,e,Qu(r),n)}};function Hx(){return new ti(At(),Ce())}function bo(t){return Zs(()=>{let e=t.prototype.constructor,n=e[Du]||Qf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Du]||Qf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Qf(t){return gE(t)?()=>{let e=Qf(Et(t));return e&&e()}:ni(t)}function zx(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Y]&2048&&!(s[Y]&512);){let a=I0(o,s,n,r|ie.Self,yn);if(a!==yn)return a;let u=o.parent;if(!u){let l=s[UE];if(l){let h=l.get(n,yn,r);if(h!==yn)return h}u=E0(s),s=s[Io]}o=u}return i}function E0(t){let e=t[ae],n=e.type;return n===2?e.declTNode:n===1?t[on]:null}function GI(t,e=null,n=null,r){let i=D0(t,e,n,r);return i.resolveInjectorInitializers(),i}function D0(t,e=null,n=null,r,i=new Set){let o=[n||Ht,WR(t)];return r=r||(typeof t=="object"?void 0:Dt(t)),new qs(o,e||Ap(),r||null,i)}var ei=class ei{static create(e,n){if(Array.isArray(e))return GI({name:""},n,e,"");{let r=e.name??"";return GI({name:r},e.parent,e.providers,r)}}};ei.THROW_IF_NOT_FOUND=Hs,ei.NULL=new Tu,ei.\u0275prov=$({token:ei,providedIn:"any",factory:()=>J(CE)}),ei.__NG_ELEMENT_ID__=-1;var Mr=ei;var qx=new W("");qx.__NG_ELEMENT_ID__=t=>{let e=At();if(e===null)throw new q(204,!1);if(e.type&2)return e.value;if(t&ie.Optional)return null;throw new q(204,!1)};var Gx="ngOriginalError";function Af(t){return t[Gx]}var b0=!0,C0=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Wx,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Yf=class extends C0{constructor(e){super(),this._lView=e}onDestroy(e){return ZE(this._lView,e),()=>fx(this._lView,e)}};function Wx(){return new Yf(Ce())}var Co=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new $e(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=$({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Jf=class extends st{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,ix()&&(this.destroyRef=k(C0,{optional:!0})??void 0,this.pendingTasks=k(Co,{optional:!0})??void 0)}emit(e){let n=ve(null);try{super.next(e)}finally{ve(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof qe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},ke=Jf;function Lu(...t){}function T0(t){let e,n;function r(){t=Lu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function WI(t){return queueMicrotask(()=>t()),()=>{t=Lu}}var jp="isAngularZone",Vu=jp+"_ID",Kx=0,Ze=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ke(!1),this.onMicrotaskEmpty=new ke(!1),this.onStable=new ke(!1),this.onError=new ke(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=b0}=e;if(typeof Zone>"u")throw new q(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Jx(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(jp)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new q(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new q(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Qx,Lu,Lu);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Qx={};function Up(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Yx(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){T0(()=>{t.callbackScheduled=!1,Zf(t),t.isCheckStableRunning=!0,Up(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Zf(t)}function Jx(t){let e=()=>{Yx(t)},n=Kx++;t._inner=t._inner.fork({name:"angular",properties:{[jp]:!0,[Vu]:n,[Vu+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(Zx(u))return r.invokeTask(o,s,a,u);try{return KI(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),QI(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return KI(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Xx(u)&&e(),QI(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Zf(t),Up(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Zf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function KI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function QI(t){t._nesting--,Up(t)}var Xf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ke,this.onMicrotaskEmpty=new ke,this.onStable=new ke,this.onError=new ke}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Zx(t){return S0(t,"__ignore_ng_zone__")}function Xx(t){return S0(t,"__scheduler_tick__")}function S0(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Rr=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Af(e);for(;n&&Af(n);)n=Af(n);return n||null}},eN=new W("",{providedIn:"root",factory:()=>{let t=k(Ze),e=k(Rr);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function tN(){return tl(At(),Ce())}function tl(t,e){return new Pr(sn(t,e))}var Pr=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=tN;let t=e;return t})();function A0(t){return(t.flags&128)===128}var M0=new Map,nN=0;function rN(){return nN++}function iN(t){M0.set(t[Zu],t)}function oN(t){M0.delete(t[Zu])}var YI="__ngContext__";function ci(t,e){Tr(e)?(t[YI]=e[Zu],iN(e)):t[YI]=e}function R0(t){return N0(t[Gs])}function x0(t){return N0(t[nn])}function N0(t){for(;t!==null&&!Xn(t);)t=t[nn];return t}var ep;function P0(t){ep=t}function sN(){if(ep!==void 0)return ep;if(typeof document<"u")return document;throw new q(210,!1)}var Bp=new W("",{providedIn:"root",factory:()=>aN}),aN="ng",$p=new W(""),To=new W("",{providedIn:"platform",factory:()=>"unknown"});var Hp=new W("",{providedIn:"root",factory:()=>sN().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var cN="h",uN="b";var lN=()=>null;function zp(t,e,n=!1){return lN(t,e,n)}var O0=!1,dN=new W("",{providedIn:"root",factory:()=>O0});var ju=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${fE})`}};function nl(t){return t instanceof ju?t.changingThisBreaksApplicationSecurity:t}function k0(t,e){let n=hN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${fE})`)}return n===e}function hN(t){return t instanceof ju&&t.getTypeName()||null}var fN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function F0(t){return t=String(t),t.match(fN)?t:"unsafe:"+t}var qp=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(qp||{});function L0(t){let e=pN();return e?e.sanitize(qp.URL,t)||"":k0(t,"URL")?nl(t):F0(Ep(t))}function pN(){let t=Ce();return t&&t[_n].sanitizer}function V0(t){return t instanceof Function?t():t}var Yn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Yn||{}),gN;function Gp(t,e){return gN(t,e)}function io(t,e,n,r,i){if(r!=null){let o,s=!1;Xn(r)?o=r:Tr(r)&&(s=!0,r=r[Zn]);let a=En(r);t===0&&n!==null?i==null?H0(e,n,a):Uu(e,n,a,i||null,!0):t===1&&n!==null?Uu(e,n,a,i||null,!0):t===2?RN(e,a,s):t===3&&e.destroyNode(a),o!=null&&NN(e,t,o,n,i)}}function mN(t,e){return t.createText(e)}function yN(t,e,n){t.setValue(e,n)}function j0(t,e,n){return t.createElement(e,n)}function vN(t,e){U0(t,e),e[Zn]=null,e[on]=null}function _N(t,e,n,r,i,o){r[Zn]=i,r[on]=e,rl(t,r,n,1,i,o)}function U0(t,e){e[_n].changeDetectionScheduler?.notify(8),rl(t,e,e[Xe],2,null,null)}function wN(t){let e=t[Gs];if(!e)return Mf(t[ae],t);for(;e;){let n=null;if(Tr(e))n=e[Gs];else{let r=e[qt];r&&(n=r)}if(!n){for(;e&&!e[nn]&&e!==t;)Tr(e)&&Mf(e[ae],e),e=e[bt];e===null&&(e=t),Tr(e)&&Mf(e[ae],e),n=e&&e[nn]}e=n}}function IN(t,e,n,r){let i=qt+r,o=n.length;r>0&&(n[i-1][nn]=e),r<o-qt?(e[nn]=n[i],bE(n,qt+r,e)):(n.push(e),e[nn]=null),e[bt]=n;let s=e[ho];s!==null&&n!==s&&B0(s,e);let a=e[fo];a!==null&&a.insertView(t),zf(e),e[Y]|=128}function B0(t,e){let n=t[Ru],r=e[bt];if(Tr(r))t[Y]|=xu.HasTransplantedViews;else{let i=r[bt][wn];e[wn]!==i&&(t[Y]|=xu.HasTransplantedViews)}n===null?t[Ru]=[e]:n.push(e)}function Wp(t,e){let n=t[Ru],r=n.indexOf(e);n.splice(r,1)}function tp(t,e){if(t.length<=qt)return;let n=qt+e,r=t[n];if(r){let i=r[ho];i!==null&&i!==t&&Wp(i,r),e>0&&(t[n-1][nn]=r[nn]);let o=Cu(t,qt+e);vN(r[ae],r);let s=o[fo];s!==null&&s.detachView(o[ae]),r[bt]=null,r[nn]=null,r[Y]&=-129}return r}function $0(t,e){if(!(e[Y]&256)){let n=e[Xe];n.destroyNode&&rl(t,e,n,3,null,null),wN(e)}}function Mf(t,e){if(e[Y]&256)return;let n=ve(null);try{e[Y]&=-129,e[Y]|=256,e[zt]&&nf(e[zt]),DN(t,e),EN(t,e),e[ae].type===1&&e[Xe].destroy();let r=e[ho];if(r!==null&&Xn(e[bt])){r!==e[bt]&&Wp(r,e);let i=e[fo];i!==null&&i.detachView(t)}oN(e)}finally{ve(n)}}function EN(t,e){let n=t.cleanup,r=e[Au];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Au]=null);let i=e[Cr];if(i!==null){e[Cr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function DN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ai)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];mn(4,a,u);try{u.call(a)}finally{mn(5,a,u)}}else{mn(4,i,o);try{o.call(i)}finally{mn(5,i,o)}}}}}function bN(t,e,n){return CN(t,e.parent,n)}function CN(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Zn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===vn.None||o===vn.Emulated)return null}return sn(r,n)}}function Uu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function H0(t,e,n){t.appendChild(e,n)}function JI(t,e,n,r,i){r!==null?Uu(t,e,n,r,i):H0(t,e,n)}function z0(t,e){return t.parentNode(e)}function TN(t,e){return t.nextSibling(e)}function SN(t,e,n){return MN(t,e,n)}function AN(t,e,n){return t.type&40?sn(t,n):null}var MN=AN,ZI;function Kp(t,e,n,r){let i=bN(t,r,e),o=e[Xe],s=r.parent||e[on],a=SN(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)JI(o,i,n[u],a,!1);else JI(o,i,n,a,!1);ZI!==void 0&&ZI(o,r,e,n,i)}function Bs(t,e){if(e!==null){let n=e.type;if(n&3)return sn(e,t);if(n&4)return np(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Bs(t,r);{let i=t[e.index];return Xn(i)?np(-1,i):En(i)}}else{if(n&128)return Bs(t,e.next);if(n&32)return Gp(e,t)()||En(t[e.index]);{let r=q0(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=oi(t[wn]);return Bs(i,r)}else return Bs(t,e.next)}}}return null}function q0(t,e){if(e!==null){let r=t[wn][on],i=e.projection;return r.projection[i]}return null}function np(t,e){let n=qt+t+1;if(n<e.length){let r=e[n],i=r[ae].firstChild;if(i!==null)return Bs(r,i)}return e[ii]}function RN(t,e,n){t.removeChild(null,e,n)}function Qp(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&ci(En(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Qp(t,e,n.child,r,i,o,!1),io(e,t,i,a,o);else if(u&32){let l=Gp(n,r),h;for(;h=l();)io(e,t,i,h,o);io(e,t,i,a,o)}else u&16?xN(t,e,r,n,i,o):io(e,t,i,a,o);n=s?n.projectionNext:n.next}}function rl(t,e,n,r,i,o){Qp(n,r,t.firstChild,e,i,o,!1)}function xN(t,e,n,r,i,o){let s=n[wn],u=s[on].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];io(e,t,i,h,o)}else{let l=u,h=s[bt];A0(r)&&(l.flags|=128),Qp(t,e,l,h,i,o,!0)}}function NN(t,e,n,r,i){let o=n[ii],s=En(n);o!==s&&io(e,t,r,o,i);for(let a=qt;a<n.length;a++){let u=n[a];rl(u[ae],u,t,e,r,o)}}function PN(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Yn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Yn.Important),t.setStyle(n,r,i,o))}}function ON(t,e,n){t.setAttribute(e,"style",n)}function G0(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function W0(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Vf(t,e,r),i!==null&&G0(t,e,i),o!==null&&ON(t,e,o)}var Or={};function ge(t=1){K0(St(),Ce(),Do()+t,!1)}function K0(t,e,n,r){if(!r)if((e[Y]&3)===3){let o=t.preOrderCheckHooks;o!==null&&_u(e,o,n)}else{let o=t.preOrderHooks;o!==null&&wu(e,o,0,n)}si(n)}function B(t,e=ie.Default){let n=Ce();if(n===null)return J(t,e);let r=At();return w0(r,n,Et(t),e)}function Q0(t,e,n,r,i,o){let s=ve(null);try{let a=null;i&Sr.SignalBased&&(a=e[r][Wn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Sr.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):HE(e,a,r,o)}finally{ve(s)}}function kN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)si(~i);else{let o=i,s=n[++r],a=n[++r];Cx(s,o);let u=e[o];a(2,u)}}}finally{si(-1)}}function il(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Zn]=i,p[Y]=r|4|128|8|64,(l!==null||t&&t[Y]&2048)&&(p[Y]|=2048),YE(p),p[bt]=p[Io]=t,p[rn]=n,p[_n]=s||t&&t[_n],p[Xe]=a||t&&t[Xe],p[lo]=u||t&&t[lo]||null,p[on]=o,p[Zu]=rN(),p[Su]=h,p[UE]=l,p[wn]=e.type==2?t[wn]:p,p}function ol(t,e,n,r,i){let o=t.data[e];if(o===null)o=FN(t,e,n,r,i),bx()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=wx();o.injectorIndex=s===null?-1:s.injectorIndex}return ea(o,!0),o}function FN(t,e,n,r,i){let o=t0(),s=n0(),a=s?o:o&&o.parent,u=t.data[e]=BN(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function Y0(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function J0(t,e,n,r,i){let o=Do(),s=r&2;try{si(-1),s&&e.length>In&&K0(t,e,In,!1),mn(s?2:0,i),n(r,i)}finally{si(o),mn(s?3:1,i)}}function Z0(t,e,n){if($E(e)){let r=ve(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{ve(r)}}}function X0(t,e,n){e0()&&(WN(t,e,n,sn(n,e)),(n.flags&64)===64&&iD(t,e,n))}function eD(t,e,n=sn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function tD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Yp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Yp(t,e,n,r,i,o,s,a,u,l,h){let p=In+r,m=p+i,y=LN(p,m),S=typeof l=="function"?l():l;return y[ae]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function LN(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Or);return n}function VN(t,e,n,r){let o=r.get(dN,O0)||n===vn.ShadowDom,s=t.selectRootElement(e,o);return jN(s),s}function jN(t){UN(t)}var UN=()=>null;function BN(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return yx()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function XI(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=Sr.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?eE(r,n,l,a,u):eE(r,n,l,a)}return r}function eE(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function $N(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],m=n?n.get(p):null,y=m?m.inputs:null,S=m?m.outputs:null;u=XI(0,p.inputs,h,u,y),l=XI(1,p.outputs,h,l,S);let x=u!==null&&s!==null&&!Tp(e)?nP(u,h,s):null;a.push(x)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function HN(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Jp(t,e,n,r,i,o,s,a){let u=sn(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Zp(t,n,h,r,i),Xu(e)&&zN(n,e.index)):e.type&3?(r=HN(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function zN(t,e){let n=Nr(e,t);n[Y]&16||(n[Y]|=64)}function nD(t,e,n,r){if(e0()){let i=r===null?null:{"":-1},o=QN(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&rD(t,e,n,s,i,a),i&&YN(n,r,i)}n.mergedAttrs=zs(n.mergedAttrs,n.attrs)}function rD(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Kf(Fu(n,e),t,r[l].type);ZN(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=Y0(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=zs(n.mergedAttrs,h.hostAttrs),XN(t,n,e,u,h),JN(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}$N(t,n,o)}function qN(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;GN(s)!=a&&s.push(a),s.push(n,r,o)}}function GN(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function WN(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Xu(n)&&eP(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Fu(n,e),ci(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],l=po(e,t,a,n);if(ci(l,e),s!==null&&tP(e,a-i,l,u,n,s),Ar(u)){let h=Nr(n.index,e);h[rn]=po(e,t,a,n)}}}function iD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Tx();try{si(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];qf(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&KN(u,l)}}finally{si(-1),qf(s)}}function KN(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function QN(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(VR(e,s.selectors,!1))if(r||(r=[]),Ar(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;rp(t,e,u)}else r.unshift(s),rp(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function rp(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function YN(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new q(-301,!1);r.push(e[i],o)}}}function JN(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ar(e)&&(n[""]=t)}}function ZN(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function XN(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=ni(i.type,!0)),s=new ai(o,Ar(i),B);t.blueprint[r]=s,n[r]=s,qN(t,e,r,Y0(t,n,i.hostVars,Or),i)}function eP(t,e,n){let r=sn(e,t),i=tD(n),o=t[_n].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=sl(t,il(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function tP(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];Q0(r,n,u,l,h,p)}}function nP(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function oD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function sD(t,e){let n=t.contentQueries;if(n!==null){let r=ve(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];o0(o),a.contentQueries(2,e[s],s)}}}finally{ve(r)}}}function sl(t,e){return t[Gs]?t[UI][nn]=e:t[Gs]=e,t[UI]=e,e}function ip(t,e,n){o0(0);let r=ve(null);try{e(t,n)}finally{ve(r)}}function rP(t){return t[Au]??=[]}function iP(t){return t.cleanup??=[]}function aD(t,e){let n=t[lo],r=n?n.get(Rr,null):null;r&&r.handleError(e)}function Zp(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=e[s],h=t.data[s];Q0(h,l,r,a,u,i)}}function oP(t,e,n){let r=KE(e,t);yN(t[Xe],r,n)}function sP(t,e){let n=Nr(e,t),r=n[ae];aP(r,n);let i=n[Zn];i!==null&&n[Su]===null&&(n[Su]=zp(i,n[lo])),Xp(r,n,n[rn])}function aP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Xp(t,e,n){Np(e);try{let r=t.viewQuery;r!==null&&ip(1,r,n);let i=t.template;i!==null&&J0(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[fo]?.finishViewCreation(t),t.staticContentQueries&&sD(t,e),t.staticViewQueries&&ip(2,t.viewQuery,n);let o=t.components;o!==null&&cP(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Y]&=-5,Pp()}}function cP(t,e){for(let n=0;n<e.length;n++)sP(t,e[n])}function uP(t,e,n,r){let i=ve(null);try{let o=e.tView,a=t[Y]&4096?4096:16,u=il(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[ho]=l;let h=t[fo];return h!==null&&(u[fo]=h.createEmbeddedView(o)),Xp(o,u,n),u}finally{ve(i)}}function tE(t,e){return!e||e.firstChild===null||A0(t)}function lP(t,e,n,r=!0){let i=e[ae];if(IN(i,e,t,n),r){let s=np(n,t),a=e[Xe],u=z0(a,t[ii]);u!==null&&_N(i,t[on],a,e,u,s)}let o=e[Su];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Bu(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(En(o)),Xn(o)&&dP(o,r);let s=n.type;if(s&8)Bu(t,e,n.child,r);else if(s&32){let a=Gp(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=q0(e,n);if(Array.isArray(a))r.push(...a);else{let u=oi(e[wn]);Bu(u[ae],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function dP(t,e){for(let n=qt;n<t.length;n++){let r=t[n],i=r[ae].firstChild;i!==null&&Bu(r[ae],r,i,e)}t[ii]!==t[Zn]&&e.push(t[ii])}var cD=[];function hP(t){return t[zt]??fP(t)}function fP(t){let e=cD.pop()??Object.create(gP);return e.lView=t,e}function pP(t){t.lView[zt]!==t&&(t.lView=null,cD.push(t))}var gP=ue(O({},Ls),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{el(t.lView)},consumerOnSignalRead(){this.lView[zt]=this}});function mP(t){let e=t[zt]??Object.create(yP);return e.lView=t,e}var yP=ue(O({},Ls),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=oi(t.lView);for(;e&&!uD(e[ae]);)e=oi(e);e&&JE(e)},consumerOnSignalRead(){this.lView[zt]=this}});function uD(t){return t.type!==2}var vP=100;function lD(t,e=!0,n=0){let r=t[_n],i=r.rendererFactory,o=!1;o||i.begin?.();try{_P(t,n)}catch(s){throw e&&aD(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function _P(t,e){let n=r0();try{$I(!0),op(t,e);let r=0;for(;Ws(t);){if(r===vP)throw new q(103,!1);r++,op(t,1)}}finally{$I(n)}}function wP(t,e,n,r){let i=e[Y];if((i&256)===256)return;let o=!1,s=!1;!o&&e[_n].inlineEffectRunner?.flush(),Np(e);let a=!0,u=null,l=null;o||(uD(t)?(l=hP(e),u=Uc(l)):Gw()===null?(a=!1,l=mP(e),u=Uc(l)):e[zt]&&(nf(e[zt]),e[zt]=null));try{YE(e),Ex(t.bindingStartIndex),n!==null&&J0(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&_u(e,y,null)}else{let y=t.preOrderHooks;y!==null&&wu(e,y,0,null),Cf(e,0)}if(s||IP(e),dD(e,0),t.contentQueries!==null&&sD(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&_u(e,y)}else{let y=t.contentHooks;y!==null&&wu(e,y,1),Cf(e,1)}kN(t,e);let p=t.components;p!==null&&fD(e,p,0);let m=t.viewQuery;if(m!==null&&ip(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&_u(e,y)}else{let y=t.viewHooks;y!==null&&wu(e,y,2),Cf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[bf]){for(let y of e[bf])y();e[bf]=null}o||(e[Y]&=-73)}catch(h){throw o||el(e),h}finally{l!==null&&(ef(l,u),a&&pP(l)),Pp()}}function dD(t,e){for(let n=R0(t);n!==null;n=x0(n))for(let r=qt;r<n.length;r++){let i=n[r];hD(i,e)}}function IP(t){for(let e=R0(t);e!==null;e=x0(e)){if(!(e[Y]&xu.HasTransplantedViews))continue;let n=e[Ru];for(let r=0;r<n.length;r++){let i=n[r];JE(i)}}}function EP(t,e,n){let r=Nr(e,t);hD(r,n)}function hD(t,e){Rp(t)&&op(t,e)}function op(t,e){let r=t[ae],i=t[Y],o=t[zt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&tf(o)),s||=!1,o&&(o.dirty=!1),t[Y]&=-9217,s)wP(r,t,r.template,t[rn]);else if(i&8192){dD(t,1);let a=r.components;a!==null&&fD(t,a,1)}}function fD(t,e,n){for(let r=0;r<e.length;r++)EP(t,e[r],n)}function eg(t,e){let n=r0()?64:1088;for(t[_n].changeDetectionScheduler?.notify(e);t;){t[Y]|=n;let r=oi(t);if($f(t)&&!r)return t;t=r}return null}var ui=class{get rootNodes(){let e=this._lView,n=e[ae];return Bu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[rn]}set context(e){this._lView[rn]=e}get destroyed(){return(this._lView[Y]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[bt];if(Xn(e)){let n=e[Mu],r=n?n.indexOf(this):-1;r>-1&&(tp(e,r),Cu(n,r))}this._attachedToViewContainer=!1}$0(this._lView[ae],this._lView)}onDestroy(e){ZE(this._lView,e)}markForCheck(){eg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Y]&=-129}reattach(){zf(this._lView),this._lView[Y]|=128}detectChanges(){this._lView[Y]|=1024,lD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=$f(this._lView),n=this._lView[ho];n!==null&&!e&&Wp(n,this._lView),U0(this._lView[ae],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new q(902,!1);this._appRef=e;let n=$f(this._lView),r=this._lView[ho];r!==null&&!n&&B0(r,this._lView),zf(this._lView)}},al=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=CP;let t=e;return t})(),DP=al,bP=class extends DP{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=uP(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ui(i)}};function CP(){return TP(At(),Ce())}function TP(t,e){return t.type&4?new bP(e,t,tl(t,e)):null}var g8=new RegExp(`^(\\d+)*(${uN}|${cN})*(.*)`);var SP=()=>null;function nE(t,e){return SP(t,e)}var Ks=class{},tg=new W("",{providedIn:"root",factory:()=>!1});var pD=new W(""),gD=new W(""),sp=class{},$u=class{};function AP(t){let e=Error(`No component factory found for ${Dt(t)}.`);return e[MP]=t,e}var MP="ngComponent";var ap=class{resolveComponentFactory(e){throw AP(e)}},lg=class lg{};lg.NULL=new ap;var go=lg,mo=class{},di=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>RP();let t=e;return t})();function RP(){let t=Ce(),e=At(),n=Nr(e.index,t);return(Tr(n)?n:t)[Xe]}var xP=(()=>{let e=class e{};e.\u0275prov=$({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();var rE=new Set;function ta(t){rE.has(t)||(rE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var mD=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=$({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function cp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=RI(i,a);else if(o==2){let u=a,l=e[++s];r=RI(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Hu=class extends go{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=ri(e);return new Qs(n,this.ngModule)}};function iE(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Sr.None;e?n.push({propName:s,templateName:r,isSignal:(a&Sr.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function NP(t){let e=t.toLowerCase();return e==="svg"?WE:e==="math"?ux:null}var Qs=class extends $u{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=iE(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return iE(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=$R(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=ve(null);try{i=i||this.ngModule;let s=i instanceof Gt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Gf(e,s):e,u=a.get(mo,null);if(u===null)throw new q(407,!1);let l=a.get(xP,null),h=a.get(mD,null),p=a.get(Ks,null),m={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},y=u.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",x=r?VN(y,r,this.componentDef.encapsulation,a):j0(y,S,NP(S)),R=512;this.componentDef.signals?R|=4096:this.componentDef.onPush||(R|=16);let V=null;x!==null&&(V=zp(x,a,!0));let G=Yp(0,null,null,1,0,null,null,null,null,null,null),H=il(null,G,null,R,null,null,m,y,a,null,V);Np(H);let fe,Le;try{let ne=this.componentDef,D,v=null;ne.findHostDirectiveDefs?(D=[],v=new Map,ne.findHostDirectiveDefs(ne,D,v),D.push(ne)):D=[ne];let w=PP(H,x),E=OP(w,x,ne,D,H,m,y);Le=QE(G,In),x&&LP(y,ne,x,r),n!==void 0&&VP(Le,this.ngContentSelectors,n),fe=FP(E,ne,D,v,H,[jP]),Xp(G,H,null)}finally{Pp()}return new up(this.componentType,fe,tl(Le,H),H,Le)}finally{ve(o)}}},up=class extends sp{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ui(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Zp(o[ae],o,i,e,n),this.previousInputValues.set(e,n);let s=Nr(this._tNode.index,o);eg(s,1)}}get injector(){return new ti(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function PP(t,e){let n=t[ae],r=In;return t[r]=e,ol(n,r,2,"#host",null)}function OP(t,e,n,r,i,o,s){let a=i[ae];kP(r,t,e,s);let u=null;e!==null&&(u=zp(e,i[lo]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=il(i,tD(n),null,h,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&rp(a,t,r.length-1),sl(i,p),i[t.index]=p}function kP(t,e,n,r){for(let i of t)e.mergedAttrs=zs(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(cp(e,e.mergedAttrs,!0),n!==null&&W0(r,n,e))}function FP(t,e,n,r,i,o){let s=At(),a=i[ae],u=sn(s,i);rD(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,m=po(i,a,p,s);ci(m,i)}iD(a,i,s),u&&ci(u,i);let l=po(i,a,s.directiveStart+s.componentOffset,s);if(t[rn]=i[rn]=l,o!==null)for(let h of o)h(l,e);return Z0(a,s,i),l}function LP(t,e,n,r){if(r)Vf(t,n,["ng-version","18.2.1"]);else{let{attrs:i,classes:o}=HR(e.selectors[0]);i&&Vf(t,n,i),o&&o.length>0&&G0(t,n,o.join(" "))}}function VP(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function jP(){let t=At();Lp(Ce()[ae],t)}var So=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=UP;let t=e;return t})();function UP(){let t=At();return $P(t,Ce())}var BP=So,yD=class extends BP{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return tl(this._hostTNode,this._hostLView)}get injector(){return new ti(this._hostTNode,this._hostLView)}get parentInjector(){let e=Vp(this._hostTNode,this._hostLView);if(p0(e)){let n=Ou(e,this._hostLView),r=Pu(e),i=n[ae].data[r+8];return new ti(i,n)}else return new ti(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=oE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-qt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=nE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,tE(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!ox(e),a;if(s)a=n;else{let S=n||{};a=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef}let u=s?e:new Qs(ri(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let x=(s?l:this.parentInjector).get(Gt,null);x&&(o=x)}let h=ri(u.componentType??{}),p=nE(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,o);return this.insertImpl(y.hostView,a,tE(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(dx(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[bt],l=new yD(u,u[on],u[bt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return lP(s,i,o,r),e.attachToViewContainerRef(),bE(Rf(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=oE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=tp(this._lContainer,n);r&&(Cu(Rf(this._lContainer),n),$0(r[ae],r))}detach(e){let n=this._adjustIndex(e,-1),r=tp(this._lContainer,n);return r&&Cu(Rf(this._lContainer),n)!=null?new ui(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function oE(t){return t[Mu]}function Rf(t){return t[Mu]||(t[Mu]=[])}function $P(t,e){let n,r=e[t.index];return Xn(r)?n=r:(n=oD(r,e,null,t),e[t.index]=n,sl(e,n)),zP(n,e,t,r),new yD(n,t,e)}function HP(t,e){let n=t[Xe],r=n.createComment(""),i=sn(e,t),o=z0(n,i);return Uu(n,o,r,TN(n,i),!1),r}var zP=WP,qP=()=>!1;function GP(t,e,n){return qP(t,e,n)}function WP(t,e,n,r){if(t[ii])return;let i;n.type&8?i=En(r):i=HP(e,n),t[ii]=i}function KP(t){return typeof t=="function"&&t[Wn]!==void 0}function cl(t,e){ta("NgSignals");let n=rI(t),r=n[Wn];return e?.equal&&(r.equal=e.equal),n.set=i=>rf(r,i),n.update=i=>iI(r,i),n.asReadonly=QP.bind(n),n}function QP(){let t=this[Wn];if(t.readonlyFn===void 0){let e=()=>this();e[Wn]=t,t.readonlyFn=e}return t.readonlyFn}function vD(t){return KP(t)&&typeof t.set=="function"}function YP(t){return Object.getPrototypeOf(t.prototype).constructor}function hi(t){let e=YP(t.type),n=!0,r=[t];for(;e;){let i;if(Ar(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new q(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=gu(t.inputs),s.inputTransforms=gu(t.inputTransforms),s.declaredInputs=gu(t.declaredInputs),s.outputs=gu(t.outputs);let a=i.hostBindings;a&&t1(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&XP(t,u),l&&e1(t,l),JP(t,i),uR(t.outputs,i.outputs),Ar(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===hi&&(n=!1)}}e=Object.getPrototypeOf(e)}ZP(r)}function JP(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function ZP(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=zs(i.hostAttrs,n=zs(n,i.hostAttrs))}}function gu(t){return t===ao?{}:t===Ht?[]:t}function XP(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function e1(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function t1(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var xr=class{},Ys=class{};var lp=class extends xr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Hu(this);let o=PE(e);this._bootstrapComponents=V0(o.bootstrap),this._r3Injector=D0(e,n,[{provide:xr,useValue:this},{provide:go,useValue:this.componentFactoryResolver},...r],Dt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},dp=class extends Ys{constructor(e){super(),this.moduleType=e}create(e){return new lp(this.moduleType,e,[])}};var zu=class extends xr{constructor(e){super(),this.componentFactoryResolver=new Hu(this),this.instance=null;let n=new qs([...e.providers,{provide:xr,useValue:this},{provide:go,useValue:this.componentFactoryResolver}],e.parent||Ap(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ng(t,e,n=null){return new zu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function _D(t){return r1(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function n1(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function r1(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function i1(t,e,n){return t[e]=n}function na(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function o1(t){return(t.flags&32)===32}function s1(t,e,n,r,i,o,s,a,u){let l=e.consts,h=ol(e,t,4,s||null,a||null);nD(e,n,h,Nu(l,u)),Lp(e,h);let p=h.tView=Yp(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function a1(t,e,n,r,i,o,s,a,u,l){let h=n+In,p=e.firstCreatePass?s1(h,e,t,r,i,o,s,a,u):e.data[h];ea(p,!1);let m=c1(e,t,p,n);kp()&&Kp(e,t,m,p),ci(m,t);let y=oD(m,t,m,p);return t[h]=y,sl(t,y),GP(y,p,t),Mp(p)&&X0(e,t,p),u!=null&&eD(t,p,l),p}function ct(t,e,n,r,i,o,s,a){let u=Ce(),l=St(),h=Nu(l.consts,o);return a1(u,l,t,e,n,r,i,h,s,a),ct}var c1=u1;function u1(t,e,n,r){return Fp(!0),e[Xe].createComment("")}function wD(t,e,n,r){return na(t,xp(),n)?e+Ep(n)+r:Or}function mu(t,e){return t<<17|e<<2}function li(t){return t>>17&32767}function l1(t){return(t&2)==2}function d1(t,e){return t&131071|e<<17}function hp(t){return t|2}function yo(t){return(t&131068)>>2}function xf(t,e){return t&-131069|e<<2}function h1(t){return(t&1)===1}function fp(t){return t|1}function f1(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=li(s),u=yo(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Xs(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=li(t[a+1]);t[r+1]=mu(m,a),m!==0&&(t[m+1]=xf(t[m+1],r)),t[a+1]=d1(t[a+1],r)}else t[r+1]=mu(a,0),a!==0&&(t[a+1]=xf(t[a+1],r)),a=r;else t[r+1]=mu(u,0),a===0?a=r:t[u+1]=xf(t[u+1],r),u=r;l&&(t[r+1]=hp(t[r+1])),sE(t,h,r,!0),sE(t,h,r,!1),p1(e,h,t,r,o),s=mu(a,u),o?e.classBindings=s:e.styleBindings=s}function p1(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Xs(o,e)>=0&&(n[r+1]=fp(n[r+1]))}function sE(t,e,n,r){let i=t[n+1],o=e===null,s=r?li(i):yo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];g1(u,e)&&(a=!0,t[s+1]=r?fp(l):hp(l)),s=r?li(l):yo(l)}a&&(t[n+1]=r?hp(i):fp(i))}function g1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Xs(t,e)>=0:!1}function Te(t,e,n){let r=Ce(),i=xp();if(na(r,i,e)){let o=St(),s=Op();Jp(o,s,r,t,e,r[Xe],n,!1)}return Te}function aE(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Zp(t,n,o[s],s,r)}function rg(t,e){return m1(t,e,null,!0),rg}function m1(t,e,n,r){let i=Ce(),o=St(),s=Dx(2);if(o.firstUpdatePass&&v1(o,t,s,r),e!==Or&&na(i,s,e)){let a=o.data[Do()];D1(o,a,i,i[Xe],t,i[s+1]=b1(e,n),r,s)}}function y1(t,e){return e>=t.expandoStartIndex}function v1(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Do()],s=y1(t,n);C1(o,r)&&e===null&&!s&&(e=!1),e=_1(i,o,e,r),f1(i,o,e,n,s,r)}}function _1(t,e,n,r){let i=Sx(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Nf(null,t,e,n,r),n=Js(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Nf(i,t,e,n,r),o===null){let u=w1(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Nf(null,t,e,u[1],r),u=Js(u,e.attrs,r),I1(t,e,r,u))}else o=E1(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function w1(t,e,n){let r=n?e.classBindings:e.styleBindings;if(yo(r)!==0)return t[li(r)]}function I1(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[li(i)]=r}function E1(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Js(r,s,n)}return Js(r,e.attrs,n)}function Nf(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Js(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Js(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),MR(t,s,n?!0:e[++o]))}return t===void 0?null:t}function D1(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=h1(l)?cE(u,e,n,i,yo(l),s):void 0;if(!qu(h)){qu(o)||l1(l)&&(o=cE(u,null,n,i,a,s));let p=KE(Do(),n);PN(r,s,p,i,o)}}function cE(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===Or&&(m=p?Ht:void 0);let y=p?Ef(m,r):h===r?m:void 0;if(l&&!qu(y)&&(y=Ef(u,r)),qu(y)&&(a=y,s))return a;let S=t[i+1];i=s?li(S):yo(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Ef(u,r))}return a}function qu(t){return t!==void 0}function b1(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Dt(nl(t)))),t}function C1(t,e){return(t.flags&(e?8:16))!==0}function T1(t,e,n,r,i,o){let s=e.consts,a=Nu(s,i),u=ol(e,t,2,r,a);return nD(e,n,u,Nu(s,o)),u.attrs!==null&&cp(u,u.attrs,!1),u.mergedAttrs!==null&&cp(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function L(t,e,n,r){let i=Ce(),o=St(),s=In+t,a=i[Xe],u=o.firstCreatePass?T1(s,o,i,e,n,r):o.data[s],l=S1(o,i,u,a,e,t);i[s]=l;let h=Mp(u);return ea(u,!0),W0(a,l,u),!o1(u)&&kp()&&Kp(o,i,l,u),px()===0&&ci(l,i),gx(),h&&(X0(o,i,u),Z0(o,u,i)),r!==null&&eD(i,u),L}function j(){let t=At();n0()?Ix():(t=t.parent,ea(t,!1));let e=t;vx(e)&&_x(),mx();let n=St();return n.firstCreatePass&&(Lp(n,t),$E(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&Ox(e)&&aE(n,e,Ce(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&kx(e)&&aE(n,e,Ce(),e.stylesWithoutHost,!1),j}function Ne(t,e,n,r){return L(t,e,n,r),j(),Ne}var S1=(t,e,n,r,i,o)=>(Fp(!0),j0(r,i,Rx()));function Ft(){return Ce()}var Gu="en-US";var A1=Gu;function M1(t){typeof t=="string"&&(A1=t.toLowerCase().replace(/_/g,"-"))}var R1=(t,e,n)=>{};function we(t,e,n,r){let i=Ce(),o=St(),s=At();return ID(o,i,i[Xe],s,t,e,r),we}function x1(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Au],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function ID(t,e,n,r,i,o,s){let a=Mp(r),l=t.firstCreatePass&&iP(t),h=e[rn],p=rP(e),m=!0;if(r.type&3||s){let x=sn(r,e),R=s?s(x):x,V=p.length,G=s?fe=>s(En(fe[r.index])):r.index,H=null;if(!s&&a&&(H=x1(t,e,i,r.index)),H!==null){let fe=H.__ngLastListenerFn__||H;fe.__ngNextListenerFn__=o,H.__ngLastListenerFn__=o,m=!1}else{o=lE(r,e,h,o),R1(x,i,o);let fe=n.listen(R,i,o);p.push(o,fe),l&&l.push(i,G,V,V+1)}}else o=lE(r,e,h,o);let y=r.outputs,S;if(m&&y!==null&&(S=y[i])){let x=S.length;if(x)for(let R=0;R<x;R+=2){let V=S[R],G=S[R+1],Le=e[V][G].subscribe(o),ne=p.length;p.push(o,Le),l&&l.push(i,r.index,ne,-(ne+1))}}}function uE(t,e,n,r){let i=ve(null);try{return mn(6,e,n),n(r)!==!1}catch(o){return aD(t,o),!1}finally{mn(7,e,n),ve(i)}}function lE(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?Nr(t.index,e):e;eg(s,5);let a=uE(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)a=uE(e,n,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function Ie(t=1){return Mx(t)}function ig(t,e,n){return ED(t,"",e,"",n),ig}function ED(t,e,n,r,i){let o=Ce(),s=wD(o,e,n,r);if(s!==Or){let a=St(),u=Op();Jp(a,u,o,t,s,o[Xe],i,!1)}return ED}function N1(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function ce(t,e=""){let n=Ce(),r=St(),i=t+In,o=r.firstCreatePass?ol(r,i,1,e,null):r.data[i],s=P1(r,n,o,e,t);n[i]=s,kp()&&Kp(r,n,s,o),ea(o,!1)}var P1=(t,e,n,r,i)=>(Fp(!0),mN(e[Xe],r));function fi(t){return ul("",t,""),fi}function ul(t,e,n){let r=Ce(),i=wD(r,t,e,n);return i!==Or&&oP(r,Do(),i),ul}function Dn(t,e,n){vD(e)&&(e=e());let r=Ce(),i=xp();if(na(r,i,e)){let o=St(),s=Op();Jp(o,s,r,t,e,r[Xe],n,!1)}return Dn}function er(t,e){let n=vD(t);return n&&t.set(e),n}function bn(t,e){let n=Ce(),r=St(),i=At();return ID(r,n,n[Xe],i,t,e),bn}function O1(t,e,n){let r=St();if(r.firstCreatePass){let i=Ar(t);pp(n,r.data,r.blueprint,i,!0),pp(e,r.data,r.blueprint,i,!1)}}function pp(t,e,n,r,i){if(t=Et(t),Array.isArray(t))for(let o=0;o<t.length;o++)pp(t[o],e,n,r,i);else{let o=St(),s=Ce(),a=At(),u=uo(t)?t:Et(t.provide),l=jE(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(uo(t)||!t.multi){let y=new ai(l,i,B),S=Of(u,e,i?h:h+m,p);S===-1?(Kf(Fu(a,s),o,u),Pf(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[S]=y,s[S]=y)}else{let y=Of(u,e,h+m,p),S=Of(u,e,h,h+m),x=y>=0&&n[y],R=S>=0&&n[S];if(i&&!R||!i&&!x){Kf(Fu(a,s),o,u);let V=L1(i?F1:k1,n.length,i,r,l);!i&&R&&(n[S].providerFactory=V),Pf(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(V),s.push(V)}else{let V=DD(n[i?S:y],l,!i&&r);Pf(o,t,y>-1?y:S,V)}!i&&r&&R&&n[S].componentProviders++}}}function Pf(t,e,n,r){let i=uo(e),o=JR(e);if(i||o){let u=(o?Et(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function DD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Of(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function k1(t,e,n,r){return gp(this.multi,[])}function F1(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=po(n,n[ae],this.providerFactory.index,r);o=a.slice(0,s),gp(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],gp(i,o);return o}function gp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function L1(t,e,n,r,i){let o=new ai(t,n,B);return o.multi=[],o.index=e,o.componentProviders=0,DD(o,i,r&&!n),o}function ll(t,e=[]){return n=>{n.providersResolver=(r,i)=>O1(r,i?i(t):t,e)}}var V1=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=FE(!1,r.type),o=i.length>0?ng([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=$({token:e,providedIn:"environment",factory:()=>new e(J(Gt))});let t=e;return t})();function Pe(t){ta("NgStandalone"),t.getStandaloneInjector=e=>e.get(V1).getOrCreateStandaloneInjector(t)}function Ao(t,e,n,r){return bD(Ce(),i0(),t,e,n,r)}function j1(t,e){let n=t[e];return n===Or?void 0:n}function bD(t,e,n,r,i,o){let s=e+n;return na(t,s,i)?i1(t,s+1,o?r.call(o,i):r(i)):j1(t,s+1)}function CD(t,e){let n=St(),r,i=t+In;n.firstCreatePass?(r=U1(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=ni(r.type,!0)),s,a=Tt(B);try{let u=ku(!1),l=o();return ku(u),N1(n,Ce(),i,l),l}finally{Tt(a)}}function U1(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function TD(t,e,n){let r=t+In,i=Ce(),o=lx(i,r);return B1(i,r)?bD(i,i0(),e,o.transform,n,o):o.transform(n)}function B1(t,e){return t[ae].data[e].pure}var dl=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var SD=new W("");function kr(t){return!!t&&typeof t.then=="function"}function og(t){return!!t&&typeof t.subscribe=="function"}var hl=new W(""),AD=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=k(hl,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(kr(s))r.push(s);else if(og(s)){let a=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sg=new W("");function $1(){nI(()=>{throw new q(600,!1)})}function H1(t){return t.isBoundToModule}var z1=10;function q1(t,e,n){try{let r=n();return kr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var pi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(eN),this.afterRenderEffectManager=k(mD),this.zonelessEnabled=k(tg),this.externalTestViews=new Set,this.beforeRender=new st,this.afterTick=new st,this.componentTypes=[],this.components=[],this.isStable=k(Co).hasPendingTasks.pipe(se(r=>!r)),this._injector=k(Gt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:o=>{o&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof $u;if(!this._injector.get(AD).done){let y=!o&&NE(r),S=!1;throw new q(405,S)}let a;o?a=r:a=this._injector.get(go).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=H1(a)?void 0:this._injector.get(xr),l=i||a.selector,h=a.create(Mr.NULL,[],l,u),p=h.location.nativeElement,m=h.injector.get(SD,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Iu(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new q(101,!1);let i=ve(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,ve(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(mo,null,{optional:!0}));let o=0,s=this.afterRenderEffectManager;for(;o<z1;){let a=o===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:u,notifyErrorHandler:l}of this._views)G1(u,l,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(o++,s.executeInternalCallbacks(),!this.allViews.some(({_lView:u})=>Ws(u))&&(s.execute(),!this.allViews.some(({_lView:u})=>Ws(u))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Iu(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(sg,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Iu(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new q(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Iu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function G1(t,e,n,r){if(!n&&!Ws(t))return;lD(t,e,n&&!r?0:1)}var mp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},ag=(()=>{let e=class e{compileModuleSync(r){return new dp(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=PE(r),s=V0(o.declarations).reduce((a,u)=>{let l=ri(u);return l&&a.push(new Qs(l)),a},[]);return new mp(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var W1=(()=>{let e=class e{constructor(){this.zone=k(Ze),this.changeDetectionScheduler=k(Ks),this.applicationRef=k(pi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),K1=new W("",{factory:()=>!1});function MD({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ze(ue(O({},xD()),{scheduleInRootZone:n})),[{provide:Ze,useFactory:t},{provide:co,multi:!0,useFactory:()=>{let r=k(W1,{optional:!0});return()=>r.initialize()}},{provide:co,multi:!0,useFactory:()=>{let r=k(Q1);return()=>{r.initialize()}}},e===!0?{provide:pD,useValue:!0}:[],{provide:gD,useValue:n??b0}]}function RD(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=MD({ngZoneFactory:()=>{let i=xD(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&ta("NgZone_CoalesceEvent"),new Ze(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Yu([{provide:K1,useValue:!0},{provide:tg,useValue:!1},r])}function xD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Q1=(()=>{let e=class e{constructor(){this.subscription=new qe,this.initialized=!1,this.zone=k(Ze),this.pendingTasks=k(Co)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ze.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ze.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Y1=(()=>{let e=class e{constructor(){this.appRef=k(pi),this.taskService=k(Co),this.ngZone=k(Ze),this.zonelessEnabled=k(tg),this.disableScheduling=k(pD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new qe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Vu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(k(gD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Xf||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?WI:T0;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick(this.shouldRefreshViews))):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick(this.shouldRefreshViews)))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Vu+this.angularZoneId))}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(i),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,WI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function J1(){return typeof $localize<"u"&&$localize.locale||Gu}var cg=new W("",{providedIn:"root",factory:()=>k(cg,ie.Optional|ie.SkipSelf)||J1()});var ND=new W("");function yu(t){return!!t.platformInjector}function Z1(t){let e=yu(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ze);return n.run(()=>{yu(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Rr,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),yu(t)){let o=()=>e.destroy(),s=t.platformInjector.get(ND);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else t.moduleRef.onDestroy(()=>{Iu(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return q1(r,n,()=>{let o=e.get(AD);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(cg,Gu);if(M1(s||Gu),yu(t)){let a=e.get(pi);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return X1(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function X1(t,e){let n=t.injector.get(pi);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new q(-403,!1);e.push(t)}var Eu=null;function eO(t=[],e){return Mr.create({name:e,providers:[{provide:Ju,useValue:"platform"},{provide:ND,useValue:new Set([()=>Eu=null])},...t]})}function tO(t=[]){if(Eu)return Eu;let e=eO(t);return Eu=e,$1(),nO(e),e}function nO(t){t.get($p,null)?.forEach(n=>n())}var Fr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=rO;let t=e;return t})();function rO(t){return iO(At(),Ce(),(t&16)===16)}function iO(t,e,n){if(Xu(t)&&!n){let r=Nr(t.index,e);return new ui(r,r)}else if(t.type&175){let r=e[wn];return new ui(r,e)}return null}var yp=class{constructor(){}supports(e){return _D(e)}create(e){return new vp(e)}},oO=(t,e)=>e,vp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||oO}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<dE(r,i,o)?n:r,a=dE(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,S=y+m;h<=S&&S<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!_D(e))throw new q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,n1(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new _p(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Wu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Wu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},_p=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},wp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Wu=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new wp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function dE(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function hE(){return new ug([new yp])}var ug=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||hE()),deps:[[e,new DE,new bp]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new q(901,!1)}};e.\u0275prov=$({token:e,providedIn:"root",factory:hE});let t=e;return t})();function PD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=tO(r),o=[MD({}),{provide:Ks,useExisting:Y1},...n||[]],s=new zu({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return Z1({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var OD=new W("");function fl(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function pl(t,e){ta("NgSignals");let n=Xw(t);return e?.equal&&(n[Wn].equal=e.equal),n}function Cn(t){let e=ve(null);try{return t()}finally{ve(e)}}var UD=null;function tr(){return UD}function BD(t){UD??=t}var gl=class{};var Lt=new W(""),$D=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>k(cO),providedIn:"platform"});let t=e;return t})();var cO=(()=>{let e=class e extends $D{constructor(){super(),this._doc=k(Lt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return tr().getBaseHref(this._doc)}onPopState(r){let i=tr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=tr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function HD(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function kD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function gi(t){return t&&t[0]!=="?"?"?"+t:t}var yl=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>k(zD),providedIn:"root"});let t=e;return t})(),uO=new W(""),zD=(()=>{let e=class e extends yl{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??k(Lt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return HD(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+gi(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+gi(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+gi(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(J($D),J(uO,8))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ra=(()=>{let e=class e{constructor(r){this._subject=new ke,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=hO(kD(FD(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+gi(i))}normalize(r){return e.stripTrailingSlash(dO(this._basePath,FD(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+gi(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+gi(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=gi,e.joinWithSlash=HD,e.stripTrailingSlash=kD,e.\u0275fac=function(i){return new(i||e)(J(yl))},e.\u0275prov=$({token:e,factory:()=>lO(),providedIn:"root"});let t=e;return t})();function lO(){return new ra(J(yl))}function dO(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function FD(t){return t.replace(/\/index.html$/,"")}function hO(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function qD(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var dg=/\s+/,LD=[],vl=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=LD,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(dg):LD}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(dg):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(dg).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(B(Pr),B(di))},e.\u0275dir=kt({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var hg=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Mo=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new hg(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let u=i.get(s);i.move(u,a),VD(u,o)}});for(let o=0,s=i.length;o<s;o++){let u=i.get(o).context;u.index=o,u.count=s,u.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);VD(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(B(So),B(al),B(ug))},e.\u0275dir=kt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function VD(t,e){t.context.$implicit=e.item}var Tn=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new fg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){jD("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){jD("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(B(So),B(al))},e.\u0275dir=kt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),fg=class{constructor(){this.$implicit=null,this.ngIf=null}};function jD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Dt(e)}'.`)}function fO(t,e){return new q(2100,!1)}var pg=class{createSubscription(e,n){return Cn(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){Cn(()=>e.unsubscribe())}},gg=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},pO=new gg,gO=new pg,GD=(()=>{let e=class e{constructor(r){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){if(!this._obj){if(r)try{this.markForCheckOnValueUpdate=!1,this._subscribe(r)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(kr(r))return pO;if(og(r))return gO;throw fO(e,r)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(i){return new(i||e)(B(Fr,16))},e.\u0275pipe=ME({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var WD="browser",mO="server";function yg(t){return t===mO}var ml=class{};var wg=class extends gl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Ig=class t extends wg{static makeCurrent(){BD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=yO();return n==null?null:vO(n)}resetBaseElement(){ia=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return qD(document.cookie,e)}},ia=null;function yO(){return ia=ia||document.querySelector("base"),ia?ia.getAttribute("href"):null}function vO(t){return new URL(t,document.baseURI).pathname}var _O=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),_l=new W(""),JD=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new q(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(J(_l),J(Ze))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),oa=class{constructor(e){this._doc=e}},vg="ng-app-id",ZD=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=yg(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${vg}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(vg),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(vg,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(J(Lt),J(Bp),J(Hp,8),J(To))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),_g={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Dg=/%COMP%/g,XD="%COMP%",wO=`_nghost-${XD}`,IO=`_ngcontent-${XD}`,EO=!0,DO=new W("",{providedIn:"root",factory:()=>EO});function bO(t){return IO.replace(Dg,t)}function CO(t){return wO.replace(Dg,t)}function eb(t,e){return e.map(n=>n.replace(Dg,t))}var KD=(()=>{let e=class e{constructor(r,i,o,s,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=yg(u),this.defaultRenderer=new sa(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===vn.ShadowDom&&(i=ue(O({},i),{encapsulation:vn.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof wl?o.applyToHost(r):o instanceof aa&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case vn.Emulated:s=new wl(l,h,i,this.appId,p,a,u,m);break;case vn.ShadowDom:return new Eg(l,h,r,i,a,u,this.nonce,m);default:s=new aa(l,h,i,p,a,u,m);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(J(JD),J(ZD),J(Bp),J(DO),J(Lt),J(To),J(Ze),J(Hp))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),sa=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(_g[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(QD(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(QD(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new q(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=_g[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=_g[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Yn.DashCase|Yn.Important)?e.style.setProperty(n,r,i&Yn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Yn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=tr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function QD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Eg=class extends sa{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=eb(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},aa=class extends sa{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?eb(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},wl=class extends aa{constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=bO(l),this.hostAttr=CO(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},TO=(()=>{let e=class e extends oa{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(J(Lt))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),SO=(()=>{let e=class e extends oa{constructor(r){super(r),this.delegate=k(OD,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,o){return this.delegate.addEventListener(r,i,o)}removeEventListener(r,i,o){return this.delegate.removeEventListener(r,i,o)}};e.\u0275fac=function(i){return new(i||e)(J(Lt))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),YD=["alt","control","meta","shift"],AO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},MO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},RO=(()=>{let e=class e extends oa{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>tr().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),YD.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=AO[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),YD.forEach(a=>{if(a!==o){let u=MO[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(J(Lt))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})();function tb(t,e){return PD(O({rootComponent:t},xO(e)))}function xO(t){return{appProviders:[...FO,...t?.providers??[]],platformProviders:kO}}function NO(){Ig.makeCurrent()}function PO(){return new Rr}function OO(){return P0(document),document}var kO=[{provide:To,useValue:WD},{provide:$p,useValue:NO,multi:!0},{provide:Lt,useFactory:OO,deps:[]}];var FO=[{provide:Ju,useValue:"root"},{provide:Rr,useFactory:PO,deps:[]},{provide:_l,useClass:TO,multi:!0,deps:[Lt,Ze,To]},{provide:_l,useClass:RO,multi:!0,deps:[Lt]},{provide:_l,useClass:SO,multi:!0},KD,ZD,JD,{provide:mo,useExisting:KD},{provide:ml,useClass:_O,deps:[]},[]];var nb=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(J(Lt))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var re="primary",ba=Symbol("RouteTitle"),Ag=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ko(t){return new Ag(t)}function jO(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function UO(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Sn(t[n],e[n]))return!1;return!0}function Sn(t,e){let n=t?Mg(t):void 0,r=e?Mg(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!lb(t[i],e[i]))return!1;return!0}function Mg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function lb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function db(t){return t.length>0?t[t.length-1]:null}function Lr(t){return pf(t)?t:kr(t)?He(Promise.resolve(t)):ee(t)}var BO={exact:fb,subset:pb},hb={exact:$O,subset:HO,ignored:()=>!0};function rb(t,e,n){return BO[n.paths](t.root,e.root,n.matrixParams)&&hb[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function $O(t,e){return Sn(t,e)}function fb(t,e,n){if(!yi(t.segments,e.segments)||!Dl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!fb(t.children[r],e.children[r],n))return!1;return!0}function HO(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>lb(t[n],e[n]))}function pb(t,e,n){return gb(t,e,e.segments,n)}function gb(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!yi(i,n)||e.hasChildren()||!Dl(i,n,r))}else if(t.segments.length===n.length){if(!yi(t.segments,n)||!Dl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!pb(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!yi(t.segments,i)||!Dl(t.segments,i,r)||!t.children[re]?!1:gb(t.children[re],e,o,r)}}function Dl(t,e,n){return e.every((r,i)=>hb[n](t[i].parameters,r.parameters))}var rr=class{constructor(e=new be([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ko(this.queryParams),this._queryParamMap}toString(){return GO.serialize(this)}},be=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bl(this)}},mi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ko(this.parameters),this._parameterMap}toString(){return yb(this)}};function zO(t,e){return yi(t,e)&&t.every((n,r)=>Sn(n.parameters,e[r].parameters))}function yi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function qO(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===re&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==re&&(n=n.concat(e(i,r)))}),n}var tm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>new pa,providedIn:"root"});let t=e;return t})(),pa=class{parse(e){let n=new xg(e);return new rr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ca(e.root,!0)}`,r=QO(e.queryParams),i=typeof e.fragment=="string"?`#${WO(e.fragment)}`:"";return`${n}${r}${i}`}},GO=new pa;function bl(t){return t.segments.map(e=>yb(e)).join("/")}function ca(t,e){if(!t.hasChildren())return bl(t);if(e){let n=t.children[re]?ca(t.children[re],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==re&&r.push(`${i}:${ca(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=qO(t,(r,i)=>i===re?[ca(t.children[re],!1)]:[`${i}:${ca(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[re]!=null?`${bl(t)}/${n[0]}`:`${bl(t)}/(${n.join("//")})`}}function mb(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Il(t){return mb(t).replace(/%3B/gi,";")}function WO(t){return encodeURI(t)}function Rg(t){return mb(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cl(t){return decodeURIComponent(t)}function ib(t){return Cl(t.replace(/\+/g,"%20"))}function yb(t){return`${Rg(t.path)}${KO(t.parameters)}`}function KO(t){return Object.entries(t).map(([e,n])=>`;${Rg(e)}=${Rg(n)}`).join("")}function QO(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Il(n)}=${Il(i)}`).join("&"):`${Il(n)}=${Il(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var YO=/^[^\/()?;#]+/;function bg(t){let e=t.match(YO);return e?e[0]:""}var JO=/^[^\/()?;=#]+/;function ZO(t){let e=t.match(JO);return e?e[0]:""}var XO=/^[^=?&#]+/;function ek(t){let e=t.match(XO);return e?e[0]:""}var tk=/^[^&#]+/;function nk(t){let e=t.match(tk);return e?e[0]:""}var xg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new be(e,n)),r}parseSegment(){let e=bg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new q(4009,!1);return this.capture(e),new mi(Cl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=ZO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=bg(this.remaining);i&&(r=i,this.capture(r))}e[Cl(n)]=Cl(r)}parseQueryParam(e){let n=ek(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=nk(this.remaining);s&&(r=s,this.capture(r))}let i=ib(n),o=ib(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=bg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new q(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=re);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[re]:new be([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new q(4011,!1)}};function vb(t){return t.segments.length>0?new be([],{[re]:t}):t}function _b(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=_b(i);if(r===re&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new be(t.segments,e);return rk(n)}function rk(t){if(t.numberOfChildren===1&&t.children[re]){let e=t.children[re];return new be(t.segments.concat(e.segments),e.children)}return t}function ga(t){return t instanceof rr}function ik(t,e,n=null,r=null){let i=wb(t);return Ib(i,e,n,r)}function wb(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new be(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=vb(r);return e??i}function Ib(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Cg(i,i,i,n,r);let o=ok(e);if(o.toRoot())return Cg(i,i,new be([],{}),n,r);let s=sk(o,i,t),a=s.processChildren?da(s.segmentGroup,s.index,o.commands):Db(s.segmentGroup,s.index,o.commands);return Cg(i,s.segmentGroup,a,n,r)}function Tl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ma(t){return typeof t=="object"&&t!=null&&t.outlets}function Cg(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=Eb(t,e,n);let a=vb(_b(s));return new rr(a,o,i)}function Eb(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=Eb(o,e,n)}),new be(t.segments,r)}var Sl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Tl(r[0]))throw new q(4003,!1);let i=r.find(ma);if(i&&i!==db(r))throw new q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function ok(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Sl(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Sl(n,e,r)}var No=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function sk(t,e,n){if(t.isAbsolute)return new No(e,!0,0);if(!n)return new No(e,!1,NaN);if(n.parent===null)return new No(n,!0,0);let r=Tl(t.commands[0])?0:1,i=n.segments.length-1+r;return ak(n,i,t.numberOfDoubleDots)}function ak(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new q(4005,!1);i=r.segments.length}return new No(r,!1,i-o)}function ck(t){return ma(t[0])?t[0].outlets:{[re]:t}}function Db(t,e,n){if(t??=new be([],{}),t.segments.length===0&&t.hasChildren())return da(t,e,n);let r=uk(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new be(t.segments.slice(0,r.pathIndex),{});return o.children[re]=new be(t.segments.slice(r.pathIndex),t.children),da(o,0,i)}else return r.match&&i.length===0?new be(t.segments,{}):r.match&&!t.hasChildren()?Ng(t,e,n):r.match?da(t,0,i):Ng(t,e,n)}function da(t,e,n){if(n.length===0)return new be(t.segments,{});{let r=ck(n),i={};if(Object.keys(r).some(o=>o!==re)&&t.children[re]&&t.numberOfChildren===1&&t.children[re].segments.length===0){let o=da(t.children[re],e,n);return new be(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Db(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new be(t.segments,i)}}function uk(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(ma(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!sb(u,l,s))return o;r+=2}else{if(!sb(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ng(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(ma(o)){let u=lk(o.outlets);return new be(r,u)}if(i===0&&Tl(n[0])){let u=t.segments[e];r.push(new mi(u.path,ob(n[0]))),i++;continue}let s=ma(o)?o.outlets[re]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Tl(a)?(r.push(new mi(s,ob(a))),i+=2):(r.push(new mi(s,{})),i++)}return new be(r,{})}function lk(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Ng(new be([],{}),0,r))}),e}function ob(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function sb(t,e,n){return t==n.path&&Sn(e,n.parameters)}var ha="imperative",ut=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ut||{}),Wt=class{constructor(e,n){this.id=e,this.url=n}},ya=class extends Wt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=ut.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},cn=class extends Wt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ut.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},jt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(jt||{}),Pg=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Pg||{}),nr=class extends Wt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ut.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},vi=class extends Wt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ut.NavigationSkipped}},va=class extends Wt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=ut.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Al=class extends Wt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ut.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Og=class extends Wt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ut.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kg=class extends Wt{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ut.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Fg=class extends Wt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ut.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lg=class extends Wt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ut.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vg=class{constructor(e){this.route=e,this.type=ut.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},jg=class{constructor(e){this.route=e,this.type=ut.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ug=class{constructor(e){this.snapshot=e,this.type=ut.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bg=class{constructor(e){this.snapshot=e,this.type=ut.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$g=class{constructor(e){this.snapshot=e,this.type=ut.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hg=class{constructor(e){this.snapshot=e,this.type=ut.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var _a=class{},Fo=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function dk(t,e){return t.providers&&!t._injector&&(t._injector=ng(t.providers,e,`Route: ${t.path}`)),t._injector??e}function an(t){return t.outlet||re}function hk(t,e){let n=t.filter(r=>an(r)===e);return n.push(...t.filter(r=>an(r)!==e)),n}function Ca(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var zg=class{get injector(){return Ca(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new kl(this.rootInjector),this.attachRef=null}},kl=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new zg(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(J(Gt))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ml=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=qg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=qg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Gg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Gg(e,this._root).map(n=>n.value)}};function qg(t,e){if(t===e.value)return e;for(let n of e.children){let r=qg(t,n);if(r)return r}return null}function Gg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Gg(t,n);if(r.length)return r.unshift(e),r}return[]}var Vt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function xo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Rl=class extends Ml{constructor(e,n){super(e),this.snapshot=n,nm(this,e)}toString(){return this.snapshot.toString()}};function bb(t){let e=fk(t),n=new $e([new mi("",{})]),r=new $e({}),i=new $e({}),o=new $e({}),s=new $e(""),a=new An(n,r,o,s,i,re,t,e.root);return a.snapshot=e.root,new Rl(new Vt(a,[]),e)}function fk(t){let e={},n={},r={},i="",o=new Po([],e,r,i,n,re,t,null,{});return new Nl("",new Vt(o,[]))}var An=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(se(l=>l[ba]))??ee(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(se(e=>ko(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(se(e=>ko(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function xl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),t.params),data:O(O({},e.data),t.data),resolve:O(O(O(O({},t.data),e.data),i?.data),t._resolvedData)}:r={params:O({},t.params),data:O({},t.data),resolve:O(O({},t.data),t._resolvedData??{})},i&&Tb(i)&&(r.resolve[ba]=i.title),r}var Po=class{get title(){return this.data?.[ba]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ko(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ko(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Nl=class extends Ml{constructor(e,n){super(n),this.url=e,nm(this,n)}toString(){return Cb(this._root)}};function nm(t,e){e.value._routerState=t,e.children.forEach(n=>nm(t,n))}function Cb(t){let e=t.children.length>0?` { ${t.children.map(Cb).join(", ")} } `:"";return`${t.value}${e}`}function Tg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Sn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Sn(e.params,n.params)||t.paramsSubject.next(n.params),UO(e.url,n.url)||t.urlSubject.next(n.url),Sn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Wg(t,e){let n=Sn(t.params,e.params)&&zO(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Wg(t.parent,e.parent))}function Tb(t){return typeof t.title=="string"||t.title===null}var rm=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=re,this.activateEvents=new ke,this.deactivateEvents=new ke,this.attachEvents=new ke,this.detachEvents=new ke,this.parentContexts=k(kl),this.location=k(So),this.changeDetector=k(Fr),this.inputBinder=k(im,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new q(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new q(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new Kg(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=kt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Eo]});let t=e;return t})(),Kg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===An?this.route:e===kl?this.childContexts:this.parent.get(e,n)}},im=new W("");function pk(t,e,n){let r=wa(t,e._root,n?n._root:void 0);return new Rl(r,e)}function wa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=gk(t,e,n);return new Vt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>wa(t,a)),s}}let r=mk(e.value),i=e.children.map(o=>wa(t,o));return new Vt(r,i)}}function gk(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return wa(t,r,i);return wa(t,r)})}function mk(t){return new An(new $e(t.url),new $e(t.params),new $e(t.queryParams),new $e(t.fragment),new $e(t.data),t.outlet,t.component,t)}var Ia=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},Sb="ngNavigationCancelingError";function Pl(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ga(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Ab(!1,jt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Ab(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Sb]=!0,n.cancellationCode=e,n}function yk(t){return Mb(t)&&ga(t.url)}function Mb(t){return!!t&&t[Sb]}var vk=(t,e,n,r)=>se(i=>(new Qg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Qg=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Tg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=xo(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=xo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=xo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=xo(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Hg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Bg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Tg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Tg(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Ol=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Oo=class{constructor(e,n){this.component=e,this.route=n}};function _k(t,e,n){let r=t._root,i=e?e._root:null;return ua(r,i,n,[r.value])}function wk(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Vo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!mE(t)?t:e.get(t):r}function ua(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=xo(e);return t.children.forEach(s=>{Ik(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>fa(a,n.getContext(s),i)),i}function Ik(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=Ek(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Ol(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ua(t,e,a?a.children:null,r,i):ua(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Oo(a.outlet.component,s))}else s&&fa(e,a,i),i.canActivateChecks.push(new Ol(r)),o.component?ua(t,null,a?a.children:null,r,i):ua(t,null,n,r,i);return i}function Ek(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!yi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!yi(t.url,e.url)||!Sn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wg(t,e)||!Sn(t.queryParams,e.queryParams);case"paramsChange":default:return!Wg(t,e)}}function fa(t,e,n){let r=xo(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?fa(s,e.children.getContext(o),n):fa(s,null,n):fa(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Oo(e.outlet.component,i)):n.canDeactivateChecks.push(new Oo(null,i)):n.canDeactivateChecks.push(new Oo(null,i))}function Ta(t){return typeof t=="function"}function Dk(t){return typeof t=="boolean"}function bk(t){return t&&Ta(t.canLoad)}function Ck(t){return t&&Ta(t.canActivate)}function Tk(t){return t&&Ta(t.canActivateChild)}function Sk(t){return t&&Ta(t.canDeactivate)}function Ak(t){return t&&Ta(t.canMatch)}function Rb(t){return t instanceof Kn||t?.name==="EmptyError"}var El=Symbol("INITIAL_VALUE");function Lo(){return en(t=>du(t.map(e=>e.pipe(Qn(1),wf(El)))).pipe(se(e=>{for(let n of e)if(n!==!0){if(n===El)return El;if(n===!1||Mk(n))return n}return!0}),Xt(e=>e!==El),Qn(1)))}function Mk(t){return ga(t)||t instanceof Ia}function Rk(t,e){return Je(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?ee(ue(O({},n),{guardsResult:!0})):xk(s,r,i,t).pipe(Je(a=>a&&Dk(a)?Nk(r,o,t,e):ee(a)),se(a=>ue(O({},n),{guardsResult:a})))})}function xk(t,e,n,r){return He(t).pipe(Je(i=>Lk(i.component,i.route,n,e,r)),gn(i=>i!==!0,!0))}function Nk(t,e,n,r){return He(e).pipe(eo(i=>Xi(Ok(i.route.parent,r),Pk(i.route,r),Fk(t,i.path,n),kk(t,i.route,n))),gn(i=>i!==!0,!0))}function Pk(t,e){return t!==null&&e&&e(new $g(t)),ee(!0)}function Ok(t,e){return t!==null&&e&&e(new Ug(t)),ee(!0)}function kk(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ee(!0);let i=r.map(o=>hu(()=>{let s=Ca(e)??n,a=Vo(o,s),u=Ck(a)?a.canActivate(e,t):Jn(s,()=>a(e,t));return Lr(u).pipe(gn())}));return ee(i).pipe(Lo())}function Fk(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>wk(s)).filter(s=>s!==null).map(s=>hu(()=>{let a=s.guards.map(u=>{let l=Ca(s.node)??n,h=Vo(u,l),p=Tk(h)?h.canActivateChild(r,t):Jn(l,()=>h(r,t));return Lr(p).pipe(gn())});return ee(a).pipe(Lo())}));return ee(o).pipe(Lo())}function Lk(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ee(!0);let s=o.map(a=>{let u=Ca(e)??i,l=Vo(a,u),h=Sk(l)?l.canDeactivate(t,e,n,r):Jn(u,()=>l(t,e,n,r));return Lr(h).pipe(gn())});return ee(s).pipe(Lo())}function Vk(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return ee(!0);let o=i.map(s=>{let a=Vo(s,t),u=bk(a)?a.canLoad(e,n):Jn(t,()=>a(e,n));return Lr(u)});return ee(o).pipe(Lo(),xb(r))}function xb(t){return lf(at(e=>{if(typeof e!="boolean")throw Pl(t,e)}),se(e=>e===!0))}function jk(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return ee(!0);let o=i.map(s=>{let a=Vo(s,t),u=Ak(a)?a.canMatch(e,n):Jn(t,()=>a(e,n));return Lr(u)});return ee(o).pipe(Lo(),xb(r))}var Ea=class{constructor(e){this.segmentGroup=e||null}},Da=class extends Error{constructor(e){super(),this.urlTree=e}};function Ro(t){return Zi(new Ea(t))}function Uk(t){return Zi(new q(4e3,!1))}function Bk(t){return Zi(Ab(!1,jt.GuardRejected))}var Yg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ee(r);if(i.numberOfChildren>1||!i.children[re])return Uk(`${e.redirectTo}`);i=i.children[re]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:S,title:x}=i,R=Jn(o,()=>a({params:y,data:S,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:x}));if(R instanceof rr)throw new Da(R);n=R}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Da(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new rr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new be(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new q(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Jg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $k(t,e,n,r,i){let o=om(t,e,n);return o.matched?(r=dk(e,r),jk(r,e,n,i).pipe(se(s=>s===!0?o:O({},Jg)))):ee(o)}function om(t,e,n){if(e.path==="**")return Hk(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?O({},Jg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||jO)(n,t,e);if(!i)return O({},Jg);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?O(O({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Hk(t){return{matched:!0,parameters:t.length>0?db(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function ab(t,e,n,r){return n.length>0&&Gk(t,n,r)?{segmentGroup:new be(e,qk(r,new be(n,t.children))),slicedSegments:[]}:n.length===0&&Wk(t,n,r)?{segmentGroup:new be(t.segments,zk(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new be(t.segments,t.children),slicedSegments:n}}function zk(t,e,n,r){let i={};for(let o of n)if(Fl(t,e,o)&&!r[an(o)]){let s=new be([],{});i[an(o)]=s}return O(O({},r),i)}function qk(t,e){let n={};n[re]=e;for(let r of t)if(r.path===""&&an(r)!==re){let i=new be([],{});n[an(r)]=i}return n}function Gk(t,e,n){return n.some(r=>Fl(t,e,r)&&an(r)!==re)}function Wk(t,e,n){return n.some(r=>Fl(t,e,r))}function Fl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Kk(t,e,n,r){return an(t)!==r&&(r===re||!Fl(e,n,t))?!1:om(e,t,n).matched}function Qk(t,e,n){return e.length===0&&!t.children[n]}var Zg=class{};function Yk(t,e,n,r,i,o,s="emptyOnly"){return new Xg(t,e,n,r,i,s,o).recognize()}var Jk=31,Xg=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Yg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new q(4002,`'${e.segmentGroup}'`)}recognize(){let e=ab(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(se(({children:n,rootSnapshot:r})=>{let i=new Vt(r,n),o=new Nl("",i),s=ik(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Po([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),re,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,re,n).pipe(se(r=>({children:r,rootSnapshot:n})),Er(r=>{if(r instanceof Da)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ea?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(se(s=>s instanceof Vt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return He(o).pipe(eo(s=>{let a=r.children[s],u=hk(n,s);return this.processSegmentGroup(e,u,a,s,i)}),_f((s,a)=>(s.push(...a),s)),Dr(null),vf(),Je(s=>{if(s===null)return Ro(r);let a=Nb(s);return Zk(a),ee(a)}))}processSegment(e,n,r,i,o,s,a){return He(n).pipe(eo(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(Er(l=>{if(l instanceof Ea)return ee(null);throw l}))),gn(u=>!!u),Er(u=>{if(Rb(u))return Qk(r,i,o)?ee(new Zg):Ro(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return Kk(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):Ro(i):Ro(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=om(n,i,o);if(!u)return Ro(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Jk&&(this.allowRedirects=!1));let y=new Po(o,l,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,cb(i),an(i),i.component??i._loadedComponent??null,i,ub(i)),S=xl(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(S.params),y.data=Object.freeze(S.data);let x=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,x).pipe(Je(R=>this.processSegment(e,r,n,R.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=$k(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(en(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(en(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,S=new Po(m,p,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,cb(r),an(r),r.component??r._loadedComponent??null,r,ub(r)),x=xl(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(x.params),S.data=Object.freeze(x.data);let{segmentGroup:R,slicedSegments:V}=ab(n,m,y,l);if(V.length===0&&R.hasChildren())return this.processChildren(h,l,R,S).pipe(se(H=>new Vt(S,H)));if(l.length===0&&V.length===0)return ee(new Vt(S,[]));let G=an(r)===o;return this.processSegment(h,l,R,V,G?re:o,!0,S).pipe(se(H=>new Vt(S,H instanceof Vt?[H]:[])))}))):Ro(n)))}getChildConfig(e,n,r){return n.children?ee({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ee({routes:n._loadedRoutes,injector:n._loadedInjector}):Vk(e,n,r,this.urlSerializer).pipe(Je(i=>i?this.configLoader.loadChildren(e,n).pipe(at(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Bk(n))):ee({routes:[],injector:e})}};function Zk(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}function Xk(t){let e=t.value.routeConfig;return e&&e.path===""}function Nb(t){let e=[],n=new Set;for(let r of t){if(!Xk(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Nb(r.children);e.push(new Vt(r.value,i))}return e.filter(r=>!n.has(r))}function cb(t){return t.data||{}}function ub(t){return t.resolve||{}}function eF(t,e,n,r,i,o){return Je(s=>Yk(t,e,n,r,s.extractedUrl,i,o).pipe(se(({state:a,tree:u})=>ue(O({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function tF(t,e){return Je(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ee(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of Pb(u))s.add(l);let a=0;return He(s).pipe(eo(u=>o.has(u)?nF(u,r,t,e):(u.data=xl(u,u.parent,t).resolve,ee(void 0))),at(()=>a++),to(1),Je(u=>a===s.size?ee(n):Ot))})}function Pb(t){let e=t.children.map(n=>Pb(n)).flat();return[t,...e]}function nF(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!Tb(i)&&(o[ba]=i.title),rF(o,t,e,r).pipe(se(s=>(t._resolvedData=s,t.data=xl(t,t.parent,n).resolve,null)))}function rF(t,e,n,r){let i=Mg(t);if(i.length===0)return ee({});let o={};return He(i).pipe(Je(s=>iF(t[s],e,n,r).pipe(gn(),at(a=>{if(a instanceof Ia)throw Pl(new pa,a);o[s]=a}))),to(1),yf(o),Er(s=>Rb(s)?Ot:Zi(s)))}function iF(t,e,n,r){let i=Ca(e)??r,o=Vo(t,i),s=o.resolve?o.resolve(e,n):Jn(i,()=>o(e,n));return Lr(s)}function Sg(t){return en(e=>{let n=t(e);return n?He(n).pipe(se(()=>e)):ee(e)})}var Ob=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===re);return i}getResolvedTitleForRoute(r){return r.data[ba]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>k(oF),providedIn:"root"});let t=e;return t})(),oF=(()=>{let e=class e extends Ob{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(J(nb))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sm=new W("",{providedIn:"root",factory:()=>({})}),sF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=xe({type:e,selectors:[["ng-component"]],standalone:!0,features:[Pe],decls:1,vars:0,template:function(i,o){i&1&&Ne(0,"router-outlet")},dependencies:[rm],encapsulation:2});let t=e;return t})();function am(t){let e=t.children&&t.children.map(am),n=e?ue(O({},t),{children:e}):O({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=sF),n}var cm=new W(""),aF=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(ag)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ee(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Lr(r.loadComponent()).pipe(se(kb),at(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Us(()=>{this.componentLoaders.delete(r)})),o=new Ji(i,()=>new st).pipe(Yi());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ee({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=cF(i,this.compiler,r,this.onLoadEndListener).pipe(Us(()=>{this.childrenLoaders.delete(i)})),a=new Ji(s,()=>new st).pipe(Yi());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function cF(t,e,n,r){return Lr(t.loadChildren()).pipe(se(kb),Je(i=>i instanceof Ys||Array.isArray(i)?ee(i):He(e.compileModuleAsync(i))),se(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(cm,[],{optional:!0,self:!0}).flat()),{routes:s.map(am),injector:o}}))}function uF(t){return t&&typeof t=="object"&&"default"in t}function kb(t){return uF(t)?t.default:t}var um=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>k(lF),providedIn:"root"});let t=e;return t})(),lF=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dF=new W("");var hF=new W(""),fF=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new st,this.transitionAbortSubject=new st,this.configLoader=k(aF),this.environmentInjector=k(Gt),this.urlSerializer=k(tm),this.rootContexts=k(kl),this.location=k(ra),this.inputBindingEnabled=k(im,{optional:!0})!==null,this.titleStrategy=k(Ob),this.options=k(sm,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(um),this.createViewTransition=k(dF,{optional:!0}),this.navigationErrorHandler=k(hF,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ee(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Vg(o)),i=o=>this.events.next(new jg(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ue(O(O({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new $e({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ha,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Xt(s=>s.id!==0),se(s=>ue(O({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),en(s=>{let a=!1,u=!1;return ee(s).pipe(en(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",jt.SupersededByNewNavigation),Ot;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ue(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new vi(l.id,this.urlSerializer.serialize(l.rawUrl),m,Pg.IgnoredSameUrlNavigation)),l.resolve(!1),Ot}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ee(l).pipe(en(m=>{let y=this.transitions?.getValue();return this.events.next(new ya(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?Ot:Promise.resolve(m)}),eF(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),at(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=ue(O({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let y=new Al(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:y,source:S,restoredState:x,extras:R}=l,V=new ya(m,this.urlSerializer.serialize(y),S,x);this.events.next(V);let G=bb(this.rootComponentType).snapshot;return this.currentTransition=s=ue(O({},l),{targetSnapshot:G,urlAfterRedirects:y,extras:ue(O({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,ee(s)}else{let m="";return this.events.next(new vi(l.id,this.urlSerializer.serialize(l.extractedUrl),m,Pg.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Ot}}),at(l=>{let h=new Og(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),se(l=>(this.currentTransition=s=ue(O({},l),{guards:_k(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),Rk(this.environmentInjector,l=>this.events.next(l)),at(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Pl(this.urlSerializer,l.guardsResult);let h=new kg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Xt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",jt.GuardRejected),!1)),Sg(l=>{if(l.guards.canActivateChecks.length)return ee(l).pipe(at(h=>{let p=new Fg(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),en(h=>{let p=!1;return ee(h).pipe(tF(this.paramsInheritanceStrategy,this.environmentInjector),at({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",jt.NoDataFromResolver)}}))}),at(h=>{let p=new Lg(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),Sg(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(at(y=>{p.component=y}),se(()=>{})));for(let y of p.children)m.push(...h(y));return m};return du(h(l.targetSnapshot.root)).pipe(Dr(null),Qn(1))}),Sg(()=>this.afterPreactivation()),en(()=>{let{currentSnapshot:l,targetSnapshot:h}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?He(p).pipe(se(()=>s)):ee(s)}),se(l=>{let h=pk(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=ue(O({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),at(()=>{this.events.next(new _a)}),vk(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Qn(1),at({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new cn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),If(this.transitionAbortSubject.pipe(at(l=>{throw l}))),Us(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",jt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Er(l=>{if(u=!0,Mb(l))this.events.next(new nr(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),yk(l)?this.events.next(new Fo(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let h=new va(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let p=Jn(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(p instanceof Ia){let{message:m,cancellationCode:y}=Pl(this.urlSerializer,p);this.events.next(new nr(s.id,this.urlSerializer.serialize(s.extractedUrl),m,y)),this.events.next(new Fo(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(h);let m=r.errorHandler(l);s.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(p)}}return Ot}))}))}cancelNavigationTransition(r,i,o){let s=new nr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pF(t){return t!==ha}var gF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>k(mF),providedIn:"root"});let t=e;return t})(),em=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},mF=(()=>{let e=class e extends em{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=bo(e)))(o||e)}})(),e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Fb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>k(yF),providedIn:"root"});let t=e;return t})(),yF=(()=>{let e=class e extends Fb{constructor(){super(...arguments),this.location=k(ra),this.urlSerializer=k(tm),this.options=k(sm,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(um),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new rr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=bb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof ya)this.stateMemento=this.createStateMemento();else if(r instanceof vi)this.rawUrlTree=i.initialUrl;else if(r instanceof Al){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??o,i)}}else r instanceof _a?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof nr&&(r.code===jt.GuardRejected||r.code===jt.NoDataFromResolver)?this.restoreHistory(i):r instanceof va?this.restoreHistory(i,!0):r instanceof cn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=r instanceof rr?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=O(O({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=O(O({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=bo(e)))(o||e)}})(),e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),la=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(la||{});function vF(t,e){t.events.pipe(Xt(n=>n instanceof cn||n instanceof nr||n instanceof va||n instanceof vi),se(n=>n instanceof cn||n instanceof vi?la.COMPLETE:(n instanceof nr?n.code===jt.Redirect||n.code===jt.SupersededByNewNavigation:!1)?la.REDIRECTING:la.FAILED),Xt(n=>n!==la.REDIRECTING),Qn(1)).subscribe(()=>{e()})}function _F(t){throw t}var wF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},et=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=k(dl),this.stateManager=k(Fb),this.options=k(sm,{optional:!0})||{},this.pendingTasks=k(Co),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(fF),this.urlSerializer=k(tm),this.location=k(ra),this.urlHandlingStrategy=k(um),this._events=new st,this.errorHandler=this.options.errorHandler||_F,this.navigated=!1,this.routeReuseStrategy=k(gF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(cm,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(im,{optional:!0}),this.eventsSubscription=new qe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof nr&&i.code!==jt.Redirect&&i.code!==jt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof cn)this.navigated=!0;else if(i instanceof Fo){let a=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l=O({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||pF(o.source)},a);this.scheduleNavigation(u,ha,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}DF(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ha,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=O({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(am),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":p=O(O({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let y=o?o.snapshot:this.routerState.snapshot.root;m=wb(y)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),m=this.currentUrlTree.root}return Ib(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=ga(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,ha,null,i)}navigate(r,i={skipLocationChange:!1}){return EF(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=O({},wF):i===!1?o=O({},IF):o=i,ga(r))return rb(this.currentUrlTree,r,o);let s=this.parseUrl(r);return rb(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,y)=>{u=m,l=y});let p=this.pendingTasks.add();return vF(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function EF(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new q(4008,!1)}function DF(t){return!(t instanceof _a)&&!(t instanceof Fo)}var bF=new W("");function Lb(t,...e){return Yu([{provide:cm,multi:!0,useValue:t},[],{provide:An,useFactory:CF,deps:[et]},{provide:sg,multi:!0,useFactory:TF},e.map(n=>n.\u0275providers)])}function CF(t){return t.routerState.root}function TF(){let t=k(Mr);return e=>{let n=t.get(pi);if(e!==n.components[0])return;let r=t.get(et),i=t.get(SF);t.get(AF)===1&&r.initialNavigation(),t.get(MF,null,ie.Optional)?.setUpPreloading(),t.get(bF,null,ie.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var SF=new W("",{factory:()=>new st}),AF=new W("",{providedIn:"root",factory:()=>1});var MF=new W("");var jb=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},RF=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Ub={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):RF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new dm;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},dm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},xF=function(t){let e=jb(t);return Ub.encodeByteArray(e,!0)},Sa=function(t){return xF(t).replace(/\./g,"")},fm=function(t){try{return Ub.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function NF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var PF=()=>NF().__FIREBASE_DEFAULTS__,OF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},kF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&fm(t[1]);return e&&JSON.parse(e)},Vl=()=>{try{return PF()||OF()||kF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pm=t=>{var e,n;return(n=(e=Vl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Bb=t=>{let e=pm(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},gm=()=>{var t;return(t=Vl())===null||t===void 0?void 0:t.config},mm=t=>{var e;return(e=Vl())===null||e===void 0?void 0:e[`_${t}`]};var Ll=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function $b(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Sa(JSON.stringify(n)),Sa(JSON.stringify(s)),""].join(".")}function tt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tt())}function FF(){var t;let e=(t=Vl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jl(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function zb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qb(){let t=tt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Gb(){return!FF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Aa(){try{return typeof indexedDB=="object"}catch{return!1}}function Ul(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function Wb(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var LF="FirebaseError",lt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=LF,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ut.prototype.create)}},Ut=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?VF(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new lt(i,a,r)}};function VF(t,e){return t.replace(jF,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var jF=/\{\$([^}]+)}/g;function Kb(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ir(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(Vb(o)&&Vb(s)){if(!ir(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function Vb(t){return t!==null&&typeof t=="object"}function jo(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Qb(t,e){let n=new hm(t,e);return n.subscribe.bind(n)}var hm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");UF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=lm),i.error===void 0&&(i.error=lm),i.complete===void 0&&(i.complete=lm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function UF(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function lm(){}var BF=1e3,$F=2,HF=4*60*60*1e3,zF=.5;function ym(t,e=BF,n=$F){let r=e*Math.pow(n,t),i=Math.round(zF*r*(Math.random()-.5)*2);return Math.min(HF,r+i)}function nt(t){return t&&t._delegate?t._delegate:t}var rt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var wi="[DEFAULT]";var vm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Ll;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GF(e))try{this.getOrInitializeService({instanceIdentifier:wi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=wi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=wi){return this.instances.has(e)}getOptions(e=wi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wi){return this.component?this.component.multipleInstances?e:wi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function qF(t){return t===wi?void 0:t}function GF(t){return t.instantiationMode==="EAGER"}var Bl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new vm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var WF=[],de=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(de||{}),KF={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},QF=de.INFO,YF={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},JF=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=YF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Mn=class{constructor(e){this.name=e,this._logLevel=QF,this._logHandler=JF,this._userLogHandler=null,WF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}};var ZF=(t,e)=>e.some(n=>t instanceof n),Yb,Jb;function XF(){return Yb||(Yb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eL(){return Jb||(Jb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Zb=new WeakMap,wm=new WeakMap,Xb=new WeakMap,_m=new WeakMap,Em=new WeakMap;function tL(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Rn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Zb.set(n,t)}).catch(()=>{}),Em.set(e,t),e}function nL(t){if(wm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});wm.set(t,e)}var Im={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Xb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eC(t){Im=t(Im)}function rL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call($l(this),e,...n);return Xb.set(r,e.sort?e.sort():[e]),Rn(r)}:eL().includes(t)?function(...e){return t.apply($l(this),e),Rn(Zb.get(this))}:function(...e){return Rn(t.apply($l(this),e))}}function iL(t){return typeof t=="function"?rL(t):(t instanceof IDBTransaction&&nL(t),ZF(t,XF())?new Proxy(t,Im):t)}function Rn(t){if(t instanceof IDBRequest)return tL(t);if(_m.has(t))return _m.get(t);let e=iL(t);return e!==t&&(_m.set(t,e),Em.set(e,t)),e}var $l=t=>Em.get(t);function Hl(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Rn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Rn(s.result),u.oldVersion,u.newVersion,Rn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var oL=["get","getKey","getAll","getAllKeys","count"],sL=["put","add","delete","clear"],Dm=new Map;function tC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dm.get(e))return Dm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=sL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||oL.includes(n)))return;let o=function(s,...a){return _(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Dm.set(e,o),o}eC(t=>ue(O({},t),{get:(e,n,r)=>tC(e,n)||t.get(e,n,r),has:(e,n)=>!!tC(e,n)||t.has(e,n)}));var Cm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aL(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function aL(t){let e=t.getComponent();return e?.type==="VERSION"}var Tm="@firebase/app",nC="0.10.9";var or=new Mn("@firebase/app"),cL="@firebase/app-compat",uL="@firebase/analytics-compat",lL="@firebase/analytics",dL="@firebase/app-check-compat",hL="@firebase/app-check",fL="@firebase/auth",pL="@firebase/auth-compat",gL="@firebase/database",mL="@firebase/database-compat",yL="@firebase/functions",vL="@firebase/functions-compat",_L="@firebase/installations",wL="@firebase/installations-compat",IL="@firebase/messaging",EL="@firebase/messaging-compat",DL="@firebase/performance",bL="@firebase/performance-compat",CL="@firebase/remote-config",TL="@firebase/remote-config-compat",SL="@firebase/storage",AL="@firebase/storage-compat",ML="@firebase/firestore",RL="@firebase/vertexai-preview",xL="@firebase/firestore-compat",NL="firebase",PL="10.13.0";var Sm="[DEFAULT]",OL={[Tm]:"fire-core",[cL]:"fire-core-compat",[lL]:"fire-analytics",[uL]:"fire-analytics-compat",[hL]:"fire-app-check",[dL]:"fire-app-check-compat",[fL]:"fire-auth",[pL]:"fire-auth-compat",[gL]:"fire-rtdb",[mL]:"fire-rtdb-compat",[yL]:"fire-fn",[vL]:"fire-fn-compat",[_L]:"fire-iid",[wL]:"fire-iid-compat",[IL]:"fire-fcm",[EL]:"fire-fcm-compat",[DL]:"fire-perf",[bL]:"fire-perf-compat",[CL]:"fire-rc",[TL]:"fire-rc-compat",[SL]:"fire-gcs",[AL]:"fire-gcs-compat",[ML]:"fire-fst",[xL]:"fire-fst-compat",[RL]:"fire-vertex","fire-js":"fire-js",[NL]:"fire-js-all"};var zl=new Map,kL=new Map,Am=new Map;function rC(t,e){try{t.container.addComponent(e)}catch(n){or.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Mt(t){let e=t.name;if(Am.has(e))return or.debug(`There were multiple attempts to register component ${e}.`),!1;Am.set(e,t);for(let n of zl.values())rC(n,t);for(let n of kL.values())rC(n,t);return!0}function un(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xn(t){return t.settings!==void 0}var FL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vr=new Ut("app","Firebase",FL);var Mm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}};var jr=PL;function Nm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Sm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Vr.create("bad-app-name",{appName:String(i)});if(n||(n=gm()),!n)throw Vr.create("no-options");let o=zl.get(i);if(o){if(ir(n,o.options)&&ir(r,o.config))return o;throw Vr.create("duplicate-app",{appName:i})}let s=new Bl(i);for(let u of Am.values())s.addComponent(u);let a=new Mm(n,r,s);return zl.set(i,a),a}function Ii(t=Sm){let e=zl.get(t);if(!e&&t===Sm&&gm())return Nm();if(!e)throw Vr.create("no-app",{appName:t});return e}function dt(t,e,n){var r;let i=(r=OL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),or.warn(a.join(" "));return}Mt(new rt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var LL="firebase-heartbeat-database",VL=1,Ma="firebase-heartbeat-store",bm=null;function aC(){return bm||(bm=Hl(LL,VL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ma)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vr.create("idb-open",{originalErrorMessage:t.message})})),bm}function jL(t){return _(this,null,function*(){try{let n=(yield aC()).transaction(Ma),r=yield n.objectStore(Ma).get(cC(t));return yield n.done,r}catch(e){if(e instanceof lt)or.warn(e.message);else{let n=Vr.create("idb-get",{originalErrorMessage:e?.message});or.warn(n.message)}}})}function iC(t,e){return _(this,null,function*(){try{let r=(yield aC()).transaction(Ma,"readwrite");yield r.objectStore(Ma).put(e,cC(t)),yield r.done}catch(n){if(n instanceof lt)or.warn(n.message);else{let r=Vr.create("idb-set",{originalErrorMessage:n?.message});or.warn(r.message)}}})}function cC(t){return`${t.name}!${t.options.appId}`}var UL=1024,BL=30*24*60*60*1e3,Rm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new xm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n,r;try{let o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=oC();return console.log("heartbeats",(e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats),((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{let u=new Date(a.date).valueOf();return Date.now()-u<=BL}),this._storage.overwrite(this._heartbeatsCache))}catch(i){or.warn(i)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=oC(),{heartbeatsToSend:r,unsentEntries:i}=$L(this._heartbeatsCache.heartbeats),o=Sa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return or.warn(n),""}})}};function oC(){return new Date().toISOString().substring(0,10)}function $L(t,e=UL){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),sC(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),sC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var xm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return Aa()?Ul().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield jL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return iC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return iC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function sC(t){return Sa(JSON.stringify({version:2,heartbeats:t})).length}function HL(t){Mt(new rt("platform-logger",e=>new Cm(e),"PRIVATE")),Mt(new rt("heartbeat",e=>new Rm(e),"PRIVATE")),dt(Tm,nC,t),dt(Tm,nC,"esm2017"),dt("fire-js","")}HL("");var uC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lC={};var Ur,Pm;(function(){var t;function e(D,v){function w(){}w.prototype=v.prototype,D.D=v.prototype,D.prototype=new w,D.prototype.constructor=D,D.C=function(E,b,T){for(var I=Array(arguments.length-2),zn=2;zn<arguments.length;zn++)I[zn-2]=arguments[zn];return v.prototype[b].apply(E,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,v,w){w||(w=0);var E=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)E[b]=v.charCodeAt(w++)|v.charCodeAt(w++)<<8|v.charCodeAt(w++)<<16|v.charCodeAt(w++)<<24;else for(b=0;16>b;++b)E[b]=v[w++]|v[w++]<<8|v[w++]<<16|v[w++]<<24;v=D.g[0],w=D.g[1],b=D.g[2];var T=D.g[3],I=v+(T^w&(b^T))+E[0]+3614090360&4294967295;v=w+(I<<7&4294967295|I>>>25),I=T+(b^v&(w^b))+E[1]+3905402710&4294967295,T=v+(I<<12&4294967295|I>>>20),I=b+(w^T&(v^w))+E[2]+606105819&4294967295,b=T+(I<<17&4294967295|I>>>15),I=w+(v^b&(T^v))+E[3]+3250441966&4294967295,w=b+(I<<22&4294967295|I>>>10),I=v+(T^w&(b^T))+E[4]+4118548399&4294967295,v=w+(I<<7&4294967295|I>>>25),I=T+(b^v&(w^b))+E[5]+1200080426&4294967295,T=v+(I<<12&4294967295|I>>>20),I=b+(w^T&(v^w))+E[6]+2821735955&4294967295,b=T+(I<<17&4294967295|I>>>15),I=w+(v^b&(T^v))+E[7]+4249261313&4294967295,w=b+(I<<22&4294967295|I>>>10),I=v+(T^w&(b^T))+E[8]+1770035416&4294967295,v=w+(I<<7&4294967295|I>>>25),I=T+(b^v&(w^b))+E[9]+2336552879&4294967295,T=v+(I<<12&4294967295|I>>>20),I=b+(w^T&(v^w))+E[10]+4294925233&4294967295,b=T+(I<<17&4294967295|I>>>15),I=w+(v^b&(T^v))+E[11]+2304563134&4294967295,w=b+(I<<22&4294967295|I>>>10),I=v+(T^w&(b^T))+E[12]+1804603682&4294967295,v=w+(I<<7&4294967295|I>>>25),I=T+(b^v&(w^b))+E[13]+4254626195&4294967295,T=v+(I<<12&4294967295|I>>>20),I=b+(w^T&(v^w))+E[14]+2792965006&4294967295,b=T+(I<<17&4294967295|I>>>15),I=w+(v^b&(T^v))+E[15]+1236535329&4294967295,w=b+(I<<22&4294967295|I>>>10),I=v+(b^T&(w^b))+E[1]+4129170786&4294967295,v=w+(I<<5&4294967295|I>>>27),I=T+(w^b&(v^w))+E[6]+3225465664&4294967295,T=v+(I<<9&4294967295|I>>>23),I=b+(v^w&(T^v))+E[11]+643717713&4294967295,b=T+(I<<14&4294967295|I>>>18),I=w+(T^v&(b^T))+E[0]+3921069994&4294967295,w=b+(I<<20&4294967295|I>>>12),I=v+(b^T&(w^b))+E[5]+3593408605&4294967295,v=w+(I<<5&4294967295|I>>>27),I=T+(w^b&(v^w))+E[10]+38016083&4294967295,T=v+(I<<9&4294967295|I>>>23),I=b+(v^w&(T^v))+E[15]+3634488961&4294967295,b=T+(I<<14&4294967295|I>>>18),I=w+(T^v&(b^T))+E[4]+3889429448&4294967295,w=b+(I<<20&4294967295|I>>>12),I=v+(b^T&(w^b))+E[9]+568446438&4294967295,v=w+(I<<5&4294967295|I>>>27),I=T+(w^b&(v^w))+E[14]+3275163606&4294967295,T=v+(I<<9&4294967295|I>>>23),I=b+(v^w&(T^v))+E[3]+4107603335&4294967295,b=T+(I<<14&4294967295|I>>>18),I=w+(T^v&(b^T))+E[8]+1163531501&4294967295,w=b+(I<<20&4294967295|I>>>12),I=v+(b^T&(w^b))+E[13]+2850285829&4294967295,v=w+(I<<5&4294967295|I>>>27),I=T+(w^b&(v^w))+E[2]+4243563512&4294967295,T=v+(I<<9&4294967295|I>>>23),I=b+(v^w&(T^v))+E[7]+1735328473&4294967295,b=T+(I<<14&4294967295|I>>>18),I=w+(T^v&(b^T))+E[12]+2368359562&4294967295,w=b+(I<<20&4294967295|I>>>12),I=v+(w^b^T)+E[5]+4294588738&4294967295,v=w+(I<<4&4294967295|I>>>28),I=T+(v^w^b)+E[8]+2272392833&4294967295,T=v+(I<<11&4294967295|I>>>21),I=b+(T^v^w)+E[11]+1839030562&4294967295,b=T+(I<<16&4294967295|I>>>16),I=w+(b^T^v)+E[14]+4259657740&4294967295,w=b+(I<<23&4294967295|I>>>9),I=v+(w^b^T)+E[1]+2763975236&4294967295,v=w+(I<<4&4294967295|I>>>28),I=T+(v^w^b)+E[4]+1272893353&4294967295,T=v+(I<<11&4294967295|I>>>21),I=b+(T^v^w)+E[7]+4139469664&4294967295,b=T+(I<<16&4294967295|I>>>16),I=w+(b^T^v)+E[10]+3200236656&4294967295,w=b+(I<<23&4294967295|I>>>9),I=v+(w^b^T)+E[13]+681279174&4294967295,v=w+(I<<4&4294967295|I>>>28),I=T+(v^w^b)+E[0]+3936430074&4294967295,T=v+(I<<11&4294967295|I>>>21),I=b+(T^v^w)+E[3]+3572445317&4294967295,b=T+(I<<16&4294967295|I>>>16),I=w+(b^T^v)+E[6]+76029189&4294967295,w=b+(I<<23&4294967295|I>>>9),I=v+(w^b^T)+E[9]+3654602809&4294967295,v=w+(I<<4&4294967295|I>>>28),I=T+(v^w^b)+E[12]+3873151461&4294967295,T=v+(I<<11&4294967295|I>>>21),I=b+(T^v^w)+E[15]+530742520&4294967295,b=T+(I<<16&4294967295|I>>>16),I=w+(b^T^v)+E[2]+3299628645&4294967295,w=b+(I<<23&4294967295|I>>>9),I=v+(b^(w|~T))+E[0]+4096336452&4294967295,v=w+(I<<6&4294967295|I>>>26),I=T+(w^(v|~b))+E[7]+1126891415&4294967295,T=v+(I<<10&4294967295|I>>>22),I=b+(v^(T|~w))+E[14]+2878612391&4294967295,b=T+(I<<15&4294967295|I>>>17),I=w+(T^(b|~v))+E[5]+4237533241&4294967295,w=b+(I<<21&4294967295|I>>>11),I=v+(b^(w|~T))+E[12]+1700485571&4294967295,v=w+(I<<6&4294967295|I>>>26),I=T+(w^(v|~b))+E[3]+2399980690&4294967295,T=v+(I<<10&4294967295|I>>>22),I=b+(v^(T|~w))+E[10]+4293915773&4294967295,b=T+(I<<15&4294967295|I>>>17),I=w+(T^(b|~v))+E[1]+2240044497&4294967295,w=b+(I<<21&4294967295|I>>>11),I=v+(b^(w|~T))+E[8]+1873313359&4294967295,v=w+(I<<6&4294967295|I>>>26),I=T+(w^(v|~b))+E[15]+4264355552&4294967295,T=v+(I<<10&4294967295|I>>>22),I=b+(v^(T|~w))+E[6]+2734768916&4294967295,b=T+(I<<15&4294967295|I>>>17),I=w+(T^(b|~v))+E[13]+1309151649&4294967295,w=b+(I<<21&4294967295|I>>>11),I=v+(b^(w|~T))+E[4]+4149444226&4294967295,v=w+(I<<6&4294967295|I>>>26),I=T+(w^(v|~b))+E[11]+3174756917&4294967295,T=v+(I<<10&4294967295|I>>>22),I=b+(v^(T|~w))+E[2]+718787259&4294967295,b=T+(I<<15&4294967295|I>>>17),I=w+(T^(b|~v))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+v&4294967295,D.g[1]=D.g[1]+(b+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+b&4294967295,D.g[3]=D.g[3]+T&4294967295}r.prototype.u=function(D,v){v===void 0&&(v=D.length);for(var w=v-this.blockSize,E=this.B,b=this.h,T=0;T<v;){if(b==0)for(;T<=w;)i(this,D,T),T+=this.blockSize;if(typeof D=="string"){for(;T<v;)if(E[b++]=D.charCodeAt(T++),b==this.blockSize){i(this,E),b=0;break}}else for(;T<v;)if(E[b++]=D[T++],b==this.blockSize){i(this,E),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var v=1;v<D.length-8;++v)D[v]=0;var w=8*this.o;for(v=D.length-8;v<D.length;++v)D[v]=w&255,w/=256;for(this.u(D),D=Array(16),v=w=0;4>v;++v)for(var E=0;32>E;E+=8)D[w++]=this.g[v]>>>E&255;return D};function o(D,v){var w=a;return Object.prototype.hasOwnProperty.call(w,D)?w[D]:w[D]=v(D)}function s(D,v){this.h=v;for(var w=[],E=!0,b=D.length-1;0<=b;b--){var T=D[b]|0;E&&T==v||(w[b]=T,E=!1)}this.g=w}var a={};function u(D){return-128<=D&&128>D?o(D,function(v){return new s([v|0],0>v?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return R(l(-D));for(var v=[],w=1,E=0;D>=w;E++)v[E]=D/w|0,w*=4294967296;return new s(v,0)}function h(D,v){if(D.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(D.charAt(0)=="-")return R(h(D.substring(1),v));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=l(Math.pow(v,8)),E=p,b=0;b<D.length;b+=8){var T=Math.min(8,D.length-b),I=parseInt(D.substring(b,b+T),v);8>T?(T=l(Math.pow(v,T)),E=E.j(T).add(l(I))):(E=E.j(w),E=E.add(l(I)))}return E}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(x(this))return-R(this).m();for(var D=0,v=1,w=0;w<this.g.length;w++){var E=this.i(w);D+=(0<=E?E:4294967296+E)*v,v*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(x(this))return"-"+R(this).toString(D);for(var v=l(Math.pow(D,6)),w=this,E="";;){var b=fe(w,v).g;w=V(w,b.j(v));var T=((0<w.g.length?w.g[0]:w.h)>>>0).toString(D);if(w=b,S(w))return T+E;for(;6>T.length;)T="0"+T;E=T+E}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var v=0;v<D.g.length;v++)if(D.g[v]!=0)return!1;return!0}function x(D){return D.h==-1}t.l=function(D){return D=V(this,D),x(D)?-1:S(D)?0:1};function R(D){for(var v=D.g.length,w=[],E=0;E<v;E++)w[E]=~D.g[E];return new s(w,~D.h).add(m)}t.abs=function(){return x(this)?R(this):this},t.add=function(D){for(var v=Math.max(this.g.length,D.g.length),w=[],E=0,b=0;b<=v;b++){var T=E+(this.i(b)&65535)+(D.i(b)&65535),I=(T>>>16)+(this.i(b)>>>16)+(D.i(b)>>>16);E=I>>>16,T&=65535,I&=65535,w[b]=I<<16|T}return new s(w,w[w.length-1]&-2147483648?-1:0)};function V(D,v){return D.add(R(v))}t.j=function(D){if(S(this)||S(D))return p;if(x(this))return x(D)?R(this).j(R(D)):R(R(this).j(D));if(x(D))return R(this.j(R(D)));if(0>this.l(y)&&0>D.l(y))return l(this.m()*D.m());for(var v=this.g.length+D.g.length,w=[],E=0;E<2*v;E++)w[E]=0;for(E=0;E<this.g.length;E++)for(var b=0;b<D.g.length;b++){var T=this.i(E)>>>16,I=this.i(E)&65535,zn=D.i(b)>>>16,ys=D.i(b)&65535;w[2*E+2*b]+=I*ys,G(w,2*E+2*b),w[2*E+2*b+1]+=T*ys,G(w,2*E+2*b+1),w[2*E+2*b+1]+=I*zn,G(w,2*E+2*b+1),w[2*E+2*b+2]+=T*zn,G(w,2*E+2*b+2)}for(E=0;E<v;E++)w[E]=w[2*E+1]<<16|w[2*E];for(E=v;E<2*v;E++)w[E]=0;return new s(w,0)};function G(D,v){for(;(D[v]&65535)!=D[v];)D[v+1]+=D[v]>>>16,D[v]&=65535,v++}function H(D,v){this.g=D,this.h=v}function fe(D,v){if(S(v))throw Error("division by zero");if(S(D))return new H(p,p);if(x(D))return v=fe(R(D),v),new H(R(v.g),R(v.h));if(x(v))return v=fe(D,R(v)),new H(R(v.g),v.h);if(30<D.g.length){if(x(D)||x(v))throw Error("slowDivide_ only works with positive integers.");for(var w=m,E=v;0>=E.l(D);)w=Le(w),E=Le(E);var b=ne(w,1),T=ne(E,1);for(E=ne(E,2),w=ne(w,2);!S(E);){var I=T.add(E);0>=I.l(D)&&(b=b.add(w),T=I),E=ne(E,1),w=ne(w,1)}return v=V(D,b.j(v)),new H(b,v)}for(b=p;0<=D.l(v);){for(w=Math.max(1,Math.floor(D.m()/v.m())),E=Math.ceil(Math.log(w)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),T=l(w),I=T.j(v);x(I)||0<I.l(D);)w-=E,T=l(w),I=T.j(v);S(T)&&(T=m),b=b.add(T),D=V(D,I)}return new H(b,D)}t.A=function(D){return fe(this,D).h},t.and=function(D){for(var v=Math.max(this.g.length,D.g.length),w=[],E=0;E<v;E++)w[E]=this.i(E)&D.i(E);return new s(w,this.h&D.h)},t.or=function(D){for(var v=Math.max(this.g.length,D.g.length),w=[],E=0;E<v;E++)w[E]=this.i(E)|D.i(E);return new s(w,this.h|D.h)},t.xor=function(D){for(var v=Math.max(this.g.length,D.g.length),w=[],E=0;E<v;E++)w[E]=this.i(E)^D.i(E);return new s(w,this.h^D.h)};function Le(D){for(var v=D.g.length+1,w=[],E=0;E<v;E++)w[E]=D.i(E)<<1|D.i(E-1)>>>31;return new s(w,D.h)}function ne(D,v){var w=v>>5;v%=32;for(var E=D.g.length-w,b=[],T=0;T<E;T++)b[T]=0<v?D.i(T+w)>>>v|D.i(T+w+1)<<32-v:D.i(T+w);return new s(b,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Pm=lC.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Ur=lC.Integer=s}).apply(typeof uC<"u"?uC:typeof self<"u"?self:typeof window<"u"?window:{});var ql=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},sr={};var Om,km,Uo,Fm,Ra,Gl,Lm,Vm,jm;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ql=="object"&&ql];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var C=c[g];if(!(C in f))break e;f=f[C]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,C={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,C,A){for(var P=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)P[Se-2]=arguments[Se];return d.prototype[C].apply(g,P)}}function x(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let C=c.length||0,A=g.length||0;c.length=C+A;for(let P=0;P<A;P++)c[C+P]=g[P]}else c.push(g)}}class V{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function G(c){return/^[\s\xa0]*$/.test(c)}function H(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function fe(c){return fe[" "](c),c}fe[" "]=function(){};var Le=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function ne(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let f,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(f in g)c[f]=g[f];for(let A=0;A<w.length;A++)f=w[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function T(c){a.setTimeout(()=>{throw c},0)}function I(){var c=Th;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class zn{constructor(){this.h=this.g=null}add(d,f){let g=ys.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var ys=new V(()=>new KA,c=>c.reset());class KA{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let vs,_s=!1,Th=new zn,$_=()=>{let c=a.Promise.resolve(void 0);vs=()=>{c.then(QA)}};var QA=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){T(f)}var d=ys;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}_s=!1};function mr(){this.s=this.s,this.C=this.C}mr.prototype.s=!1,mr.prototype.ma=function(){this.s||(this.s=!0,this.N())},mr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ft(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}ft.prototype.h=function(){this.defaultPrevented=!0};var YA=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function ws(c,d){if(ft.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Le){e:{try{fe(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:JA[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ws.aa.h.call(this)}}S(ws,ft);var JA={2:"touch",3:"pen",4:"mouse"};ws.prototype.h=function(){ws.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Is="closure_listenable_"+(1e6*Math.random()|0),ZA=0;function XA(c,d,f,g,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=C,this.key=++ZA,this.da=this.fa=!1}function wc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ic(c){this.src=c,this.g={},this.h=0}Ic.prototype.add=function(c,d,f,g,C){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var P=Ah(c,d,g,C);return-1<P?(d=c[P],f||(d.fa=!1)):(d=new XA(d,this.src,A,!!g,C),d.fa=f,c.push(d)),d};function Sh(c,d){var f=d.type;if(f in c.g){var g=c.g[f],C=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=C)&&Array.prototype.splice.call(g,C,1),A&&(wc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Ah(c,d,f,g){for(var C=0;C<c.length;++C){var A=c[C];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return C}return-1}var Mh="closure_lm_"+(1e6*Math.random()|0),Rh={};function H_(c,d,f,g,C){if(g&&g.once)return q_(c,d,f,g,C);if(Array.isArray(d)){for(var A=0;A<d.length;A++)H_(c,d[A],f,g,C);return null}return f=Oh(f),c&&c[Is]?c.K(d,f,l(g)?!!g.capture:!!g,C):z_(c,d,f,!1,g,C)}function z_(c,d,f,g,C,A){if(!d)throw Error("Invalid event type");var P=l(C)?!!C.capture:!!C,Se=Nh(c);if(Se||(c[Mh]=Se=new Ic(c)),f=Se.add(d,f,g,P,A),f.proxy)return f;if(g=eM(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)YA||(C=P),C===void 0&&(C=!1),c.addEventListener(d.toString(),g,C);else if(c.attachEvent)c.attachEvent(W_(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function eM(){function c(f){return d.call(c.src,c.listener,f)}let d=tM;return c}function q_(c,d,f,g,C){if(Array.isArray(d)){for(var A=0;A<d.length;A++)q_(c,d[A],f,g,C);return null}return f=Oh(f),c&&c[Is]?c.L(d,f,l(g)?!!g.capture:!!g,C):z_(c,d,f,!0,g,C)}function G_(c,d,f,g,C){if(Array.isArray(d))for(var A=0;A<d.length;A++)G_(c,d[A],f,g,C);else g=l(g)?!!g.capture:!!g,f=Oh(f),c&&c[Is]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=Ah(A,f,g,C),-1<f&&(wc(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=Nh(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Ah(d,f,g,C)),(f=-1<c?d[c]:null)&&xh(f))}function xh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Is])Sh(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(W_(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Nh(d))?(Sh(f,c),f.h==0&&(f.src=null,d[Mh]=null)):wc(c)}}}function W_(c){return c in Rh?Rh[c]:Rh[c]="on"+c}function tM(c,d){if(c.da)c=!0;else{d=new ws(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&xh(c),c=f.call(g,d)}return c}function Nh(c){return c=c[Mh],c instanceof Ic?c:null}var Ph="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oh(c){return typeof c=="function"?c:(c[Ph]||(c[Ph]=function(d){return c.handleEvent(d)}),c[Ph])}function pt(){mr.call(this),this.i=new Ic(this),this.M=this,this.F=null}S(pt,mr),pt.prototype[Is]=!0,pt.prototype.removeEventListener=function(c,d,f,g){G_(this,c,d,f,g)};function wt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new ft(d,c);else if(d instanceof ft)d.target=d.target||c;else{var C=d;d=new ft(g,c),E(d,C)}if(C=!0,f)for(var A=f.length-1;0<=A;A--){var P=d.g=f[A];C=Ec(P,g,!0,d)&&C}if(P=d.g=c,C=Ec(P,g,!0,d)&&C,C=Ec(P,g,!1,d)&&C,f)for(A=0;A<f.length;A++)P=d.g=f[A],C=Ec(P,g,!1,d)&&C}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)wc(f[g]);delete c.g[d],c.h--}}this.F=null},pt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},pt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Ec(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,A=0;A<d.length;++A){var P=d[A];if(P&&!P.da&&P.capture==f){var Se=P.listener,ot=P.ha||P.src;P.fa&&Sh(c.i,P),C=Se.call(ot,g)!==!1&&C}}return C&&!g.defaultPrevented}function K_(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function Q_(c){c.g=K_(()=>{c.g=null,c.i&&(c.i=!1,Q_(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class nM extends mr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Q_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Es(c){mr.call(this),this.h=c,this.g={}}S(Es,mr);var Y_=[];function J_(c){ne(c.g,function(d,f){this.g.hasOwnProperty(f)&&xh(d)},c),c.g={}}Es.prototype.N=function(){Es.aa.N.call(this),J_(this)},Es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kh=a.JSON.stringify,rM=a.JSON.parse,iM=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Fh(){}Fh.prototype.h=null;function Z_(c){return c.h||(c.h=c.i())}function X_(){}var Ds={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Lh(){ft.call(this,"d")}S(Lh,ft);function Vh(){ft.call(this,"c")}S(Vh,ft);var Wr={},ew=null;function Dc(){return ew=ew||new pt}Wr.La="serverreachability";function tw(c){ft.call(this,Wr.La,c)}S(tw,ft);function bs(c){let d=Dc();wt(d,new tw(d))}Wr.STAT_EVENT="statevent";function nw(c,d){ft.call(this,Wr.STAT_EVENT,c),this.stat=d}S(nw,ft);function It(c){let d=Dc();wt(d,new nw(d,c))}Wr.Ma="timingevent";function rw(c,d){ft.call(this,Wr.Ma,c),this.size=d}S(rw,ft);function Cs(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Ts(){this.g=!0}Ts.prototype.xa=function(){this.g=!1};function oM(c,d,f,g,C,A){c.info(function(){if(c.g)if(A)for(var P="",Se=A.split("&"),ot=0;ot<Se.length;ot++){var _e=Se[ot].split("=");if(1<_e.length){var gt=_e[0];_e=_e[1];var mt=gt.split("_");P=2<=mt.length&&mt[1]=="type"?P+(gt+"="+_e+"&"):P+(gt+"=redacted&")}}else P=null;else P=A;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+f+`
`+P})}function sM(c,d,f,g,C,A,P){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+f+`
`+A+" "+P})}function Bi(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+cM(c,f)+(g?" "+g:"")})}function aM(c,d){c.info(function(){return"TIMEOUT: "+d})}Ts.prototype.info=function(){};function cM(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var A=C[0];if(A!="noop"&&A!="stop"&&A!="close")for(var P=1;P<C.length;P++)C[P]=""}}}}return kh(f)}catch{return d}}var bc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},iw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jh;function Cc(){}S(Cc,Fh),Cc.prototype.g=function(){return new XMLHttpRequest},Cc.prototype.i=function(){return{}},jh=new Cc;function yr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Es(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ow}function ow(){this.i=null,this.g="",this.h=!1}var sw={},Uh={};function Bh(c,d,f){c.L=1,c.v=Mc(qn(d)),c.m=f,c.P=!0,aw(c,null)}function aw(c,d){c.F=Date.now(),Tc(c),c.A=qn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),Iw(f.i,"t",g),c.C=0,f=c.j.J,c.h=new ow,c.g=jw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new nM(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(Y_[0]=C.toString()),C=Y_);for(var A=0;A<C.length;A++){var P=H_(f,C[A],g||d.handleEvent,!1,d.h||d);if(!P)break;d.g[P.key]=P}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),bs(),oM(c.i,c.u,c.A,c.l,c.R,c.m)}yr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Gn(c)==3?d.j():this.Y(c)},yr.prototype.Y=function(c){try{if(c==this.g)e:{let mt=Gn(this.g);var d=this.g.Ba();let zi=this.g.Z();if(!(3>mt)&&(mt!=3||this.g&&(this.h.h||this.g.oa()||Aw(this.g)))){this.J||mt!=4||d==7||(d==8||0>=zi?bs(3):bs(2)),$h(this);var f=this.g.Z();this.X=f;t:if(cw(this)){var g=Aw(this.g);c="";var C=g.length,A=Gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kr(this),Ss(this);var P="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==C-1)});g.length=0,this.h.g+=c,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=f==200,sM(this.i,this.u,this.A,this.l,this.R,mt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,ot=this.g;if((Se=ot.g?ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Se)){var _e=Se;break t}}_e=null}if(f=_e)Bi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hh(this,f);else{this.o=!1,this.s=3,It(12),Kr(this),Ss(this);break e}}if(this.P){f=!0;let Jt;for(;!this.J&&this.C<P.length;)if(Jt=uM(this,P),Jt==Uh){mt==4&&(this.s=4,It(14),f=!1),Bi(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==sw){this.s=4,It(15),Bi(this.i,this.l,P,"[Invalid Chunk]"),f=!1;break}else Bi(this.i,this.l,Jt,null),Hh(this,Jt);if(cw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mt!=4||P.length!=0||this.h.h||(this.s=1,It(16),f=!1),this.o=this.o&&f,!f)Bi(this.i,this.l,P,"[Invalid Chunked Response]"),Kr(this),Ss(this);else if(0<P.length&&!this.W){this.W=!0;var gt=this.j;gt.g==this&&gt.ba&&!gt.M&&(gt.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Qh(gt),gt.M=!0,It(11))}}else Bi(this.i,this.l,P,null),Hh(this,P);mt==4&&Kr(this),this.o&&!this.J&&(mt==4?kw(this.j,this):(this.o=!1,Tc(this)))}else TM(this.g),f==400&&0<P.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),Kr(this),Ss(this)}}}catch{}finally{}};function cw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function uM(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Uh:(f=Number(d.substring(f,g)),isNaN(f)?sw:(g+=1,g+f>d.length?Uh:(d=d.slice(g,g+f),c.C=g+f,d)))}yr.prototype.cancel=function(){this.J=!0,Kr(this)};function Tc(c){c.S=Date.now()+c.I,uw(c,c.I)}function uw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Cs(m(c.ba,c),d)}function $h(c){c.B&&(a.clearTimeout(c.B),c.B=null)}yr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(aM(this.i,this.A),this.L!=2&&(bs(),It(17)),Kr(this),this.s=2,Ss(this)):uw(this,this.S-c)};function Ss(c){c.j.G==0||c.J||kw(c.j,c)}function Kr(c){$h(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,J_(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Hh(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||zh(f.h,c))){if(!c.K&&zh(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Oc(f),Nc(f);else break e;Kh(f),It(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=Cs(m(f.Za,f),6e3));if(1>=hw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Yr(f,11)}else if((c.K||f.g==c)&&Oc(f),!G(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let _e=C[d];if(f.T=_e[0],_e=_e[1],f.G==2)if(_e[0]=="c"){f.K=_e[1],f.ia=_e[2];let gt=_e[3];gt!=null&&(f.la=gt,f.j.info("VER="+f.la));let mt=_e[4];mt!=null&&(f.Aa=mt,f.j.info("SVER="+f.Aa));let zi=_e[5];zi!=null&&typeof zi=="number"&&0<zi&&(g=1.5*zi,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Jt=c.g;if(Jt){let Fc=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fc){var A=g.h;A.g||Fc.indexOf("spdy")==-1&&Fc.indexOf("quic")==-1&&Fc.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(qh(A,A.h),A.h=null))}if(g.D){let Yh=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Yh&&(g.ya=Yh,Re(g.I,g.D,Yh))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var P=c;if(g.qa=Vw(g,g.J?g.ia:null,g.W),P.K){fw(g.h,P);var Se=P,ot=g.L;ot&&(Se.I=ot),Se.B&&($h(Se),Tc(Se)),g.g=P}else Pw(g);0<f.i.length&&Pc(f)}else _e[0]!="stop"&&_e[0]!="close"||Yr(f,7);else f.G==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?Yr(f,7):Wh(f):_e[0]!="noop"&&f.l&&f.l.ta(_e),f.v=0)}}bs(4)}catch{}}var lM=class{constructor(c,d){this.g=c,this.map=d}};function lw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function dw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function hw(c){return c.h?1:c.g?c.g.size:0}function zh(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function qh(c,d){c.g?c.g.add(d):c.h=d}function fw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}lw.prototype.cancel=function(){if(this.i=pw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function pw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return x(c.i)}function dM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function hM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function gw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=hM(c),g=dM(c),C=g.length,A=0;A<C;A++)d.call(void 0,g[A],f&&f[A],c)}var mw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fM(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),C=null;if(0<=g){var A=c[f].substring(0,g);C=c[f].substring(g+1)}else A=c[f];d(A,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Qr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Qr){this.h=c.h,Sc(this,c.j),this.o=c.o,this.g=c.g,Ac(this,c.s),this.l=c.l;var d=c.i,f=new Rs;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),yw(this,f),this.m=c.m}else c&&(d=String(c).match(mw))?(this.h=!1,Sc(this,d[1]||"",!0),this.o=As(d[2]||""),this.g=As(d[3]||"",!0),Ac(this,d[4]),this.l=As(d[5]||"",!0),yw(this,d[6]||"",!0),this.m=As(d[7]||"")):(this.h=!1,this.i=new Rs(null,this.h))}Qr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Ms(d,vw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Ms(d,vw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Ms(f,f.charAt(0)=="/"?mM:gM,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Ms(f,vM)),c.join("")};function qn(c){return new Qr(c)}function Sc(c,d,f){c.j=f?As(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Ac(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function yw(c,d,f){d instanceof Rs?(c.i=d,_M(c.i,c.h)):(f||(d=Ms(d,yM)),c.i=new Rs(d,c.h))}function Re(c,d,f){c.i.set(d,f)}function Mc(c){return Re(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function As(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ms(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,pM),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function pM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var vw=/[#\/\?@]/g,gM=/[#\?:]/g,mM=/[#\?]/g,yM=/[#\?@]/g,vM=/#/g;function Rs(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function vr(c){c.g||(c.g=new Map,c.h=0,c.i&&fM(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Rs.prototype,t.add=function(c,d){vr(this),this.i=null,c=$i(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function _w(c,d){vr(c),d=$i(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function ww(c,d){return vr(c),d=$i(c,d),c.g.has(d)}t.forEach=function(c,d){vr(this),this.g.forEach(function(f,g){f.forEach(function(C){c.call(d,C,g,this)},this)},this)},t.na=function(){vr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let C=c[g];for(let A=0;A<C.length;A++)f.push(d[g])}return f},t.V=function(c){vr(this);let d=[];if(typeof c=="string")ww(this,c)&&(d=d.concat(this.g.get($i(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return vr(this),this.i=null,c=$i(this,c),ww(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function Iw(c,d,f){_w(c,d),0<f.length&&(c.i=null,c.g.set($i(c,d),x(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),P=this.V(g);for(g=0;g<P.length;g++){var C=A;P[g]!==""&&(C+="="+encodeURIComponent(String(P[g]))),c.push(C)}}return this.i=c.join("&")};function $i(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function _M(c,d){d&&!c.j&&(vr(c),c.i=null,c.g.forEach(function(f,g){var C=g.toLowerCase();g!=C&&(_w(this,g),Iw(this,C,f))},c)),c.j=d}function wM(c,d){let f=new Ts;if(a.Image){let g=new Image;g.onload=y(_r,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(_r,f,"TestLoadImage: error",!1,d,g),g.onabort=y(_r,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(_r,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function IM(c,d){let f=new Ts,g=new AbortController,C=setTimeout(()=>{g.abort(),_r(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(C),A.ok?_r(f,"TestPingServer: ok",!0,d):_r(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),_r(f,"TestPingServer: error",!1,d)})}function _r(c,d,f,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(f)}catch{}}function EM(){this.g=new iM}function DM(c,d,f){let g=f||"";try{gw(c,function(C,A){let P=C;l(C)&&(P=kh(C)),d.push(g+A+"="+encodeURIComponent(P))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function xs(c){this.l=c.Ub||null,this.j=c.eb||!1}S(xs,Fh),xs.prototype.g=function(){return new Rc(this.l,this.j)},xs.prototype.i=function(c){return function(){return c}}({});function Rc(c,d){pt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Rc,pt),t=Rc.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Ps(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ns(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ps(this)),this.g&&(this.readyState=3,Ps(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ew(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ew(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Ns(this):Ps(this),this.readyState==3&&Ew(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ns(this))},t.Qa=function(c){this.g&&(this.response=c,Ns(this))},t.ga=function(){this.g&&Ns(this)};function Ns(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ps(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Ps(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Rc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Dw(c){let d="";return ne(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Gh(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=Dw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Re(c,d,f))}function Ve(c){pt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Ve,pt);var bM=/^https?$/i,CM=["POST","PUT"];t=Ve.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jh.g(),this.v=this.o?Z_(this.o):Z_(jh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){bw(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)f.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(CM,d,void 0))||g||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,P]of f)this.g.setRequestHeader(A,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Sw(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){bw(this,A)}};function bw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,Cw(c),xc(c)}function Cw(c){c.A||(c.A=!0,wt(c,"complete"),wt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,wt(this,"complete"),wt(this,"abort"),xc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xc(this,!0)),Ve.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Tw(this):this.bb())},t.bb=function(){Tw(this)};function Tw(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Gn(c)!=4||c.Z()!=2)){if(c.u&&Gn(c)==4)K_(c.Ea,0,c);else if(wt(c,"readystatechange"),Gn(c)==4){c.h=!1;try{let P=c.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=P===0){var C=String(c.D).match(mw)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),g=!bM.test(C?C.toLowerCase():"")}f=g}if(f)wt(c,"complete"),wt(c,"success");else{c.m=6;try{var A=2<Gn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",Cw(c)}}finally{xc(c)}}}}function xc(c,d){if(c.g){Sw(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||wt(c,"ready");try{f.onreadystatechange=g}catch{}}}function Sw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Gn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Gn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),rM(d)}};function Aw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function TM(c){let d={};c=(c.g&&2<=Gn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(G(c[g]))continue;var f=b(c[g]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[C]||[];d[C]=A,A.push(f)}D(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Os(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function Mw(c){this.Aa=0,this.i=[],this.j=new Ts,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Os("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Os("baseRetryDelayMs",5e3,c),this.cb=Os("retryDelaySeedMs",1e4,c),this.Wa=Os("forwardChannelMaxRetries",2,c),this.wa=Os("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new lw(c&&c.concurrentRequestLimit),this.Da=new EM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Mw.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){It(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=Vw(this,null,this.W),Pc(this)};function Wh(c){if(Rw(c),c.G==3){var d=c.U++,f=qn(c.I);if(Re(f,"SID",c.K),Re(f,"RID",d),Re(f,"TYPE","terminate"),ks(c,f),d=new yr(c,c.j,d),d.L=2,d.v=Mc(qn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=jw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Tc(d)}Lw(c)}function Nc(c){c.g&&(Qh(c),c.g.cancel(),c.g=null)}function Rw(c){Nc(c),c.u&&(a.clearTimeout(c.u),c.u=null),Oc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Pc(c){if(!dw(c.h)&&!c.s){c.s=!0;var d=c.Ga;vs||$_(),_s||(vs(),_s=!0),Th.add(d,c),c.B=0}}function SM(c,d){return hw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Cs(m(c.Ga,c,d),Fw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new yr(this,this.j,c),A=this.o;if(this.S&&(A?(A=v(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(C.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Nw(this,C,d),f=qn(this.I),Re(f,"RID",c),Re(f,"CVER",22),this.D&&Re(f,"X-HTTP-Session-Id",this.D),ks(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(Dw(A)))+"&"+d:this.m&&Gh(f,this.m,A)),qh(this.h,C),this.Ua&&Re(f,"TYPE","init"),this.P?(Re(f,"$req",d),Re(f,"SID","null"),C.T=!0,Bh(C,f,null)):Bh(C,f,d),this.G=2}}else this.G==3&&(c?xw(this,c):this.i.length==0||dw(this.h)||xw(this))};function xw(c,d){var f;d?f=d.l:f=c.U++;let g=qn(c.I);Re(g,"SID",c.K),Re(g,"RID",f),Re(g,"AID",c.T),ks(c,g),c.m&&c.o&&Gh(g,c.m,c.o),f=new yr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Nw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),qh(c.h,f),Bh(f,g,d)}function ks(c,d){c.H&&ne(c.H,function(f,g){Re(d,g,f)}),c.l&&gw({},function(f,g){Re(d,g,f)})}function Nw(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var C=c.i;let A=-1;for(;;){let P=["count="+f];A==-1?0<f?(A=C[0].g,P.push("ofs="+A)):A=0:P.push("ofs="+A);let Se=!0;for(let ot=0;ot<f;ot++){let _e=C[ot].g,gt=C[ot].map;if(_e-=A,0>_e)A=Math.max(0,C[ot].g-100),Se=!1;else try{DM(gt,P,"req"+_e+"_")}catch{g&&g(gt)}}if(Se){g=P.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function Pw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;vs||$_(),_s||(vs(),_s=!0),Th.add(d,c),c.v=0}}function Kh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Cs(m(c.Fa,c),Fw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Ow(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Cs(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),Nc(this),Ow(this))};function Qh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Ow(c){c.g=new yr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=qn(c.qa);Re(d,"RID","rpc"),Re(d,"SID",c.K),Re(d,"AID",c.T),Re(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Re(d,"TO",c.ja),Re(d,"TYPE","xmlhttp"),ks(c,d),c.m&&c.o&&Gh(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Mc(qn(d)),f.m=null,f.P=!0,aw(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Nc(this),Kh(this),It(19))};function Oc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function kw(c,d){var f=null;if(c.g==d){Oc(c),Qh(c),c.g=null;var g=2}else if(zh(c.h,d))f=d.D,fw(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;g=Dc(),wt(g,new rw(g,f)),Pc(c)}else Pw(c);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&SM(c,d)||g==2&&Kh(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:Yr(c,5);break;case 4:Yr(c,10);break;case 3:Yr(c,6);break;default:Yr(c,2)}}}function Fw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Yr(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let C=!g;g=new Qr(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Sc(g,"https"),Mc(g),C?wM(g.toString(),f):IM(g.toString(),f)}else It(2);c.G=0,c.l&&c.l.sa(d),Lw(c),Rw(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function Lw(c){if(c.G=0,c.ka=[],c.l){let d=pw(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,x(c.i),c.i.length=0),c.l.ra()}}function Vw(c,d,f){var g=f instanceof Qr?qn(f):new Qr(f);if(g.g!="")d&&(g.g=d+"."+g.g),Ac(g,g.s);else{var C=a.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var A=new Qr(null);g&&Sc(A,g),d&&(A.g=d),C&&Ac(A,C),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Re(g,f,d),Re(g,"VER",c.la),ks(c,g),g}function jw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ve(new xs({eb:f})):new Ve(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uw(){}t=Uw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function kc(){}kc.prototype.g=function(c,d){return new Nt(c,d)};function Nt(c,d){pt.call(this),this.g=new Mw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!G(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!G(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Hi(this)}S(Nt,pt),Nt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nt.prototype.close=function(){Wh(this.g)},Nt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=kh(c),c=f);d.i.push(new lM(d.Ya++,c)),d.G==3&&Pc(d)},Nt.prototype.N=function(){this.g.l=null,delete this.j,Wh(this.g),delete this.g,Nt.aa.N.call(this)};function Bw(c){Lh.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(Bw,Lh);function $w(){Vh.call(this),this.status=1}S($w,Vh);function Hi(c){this.g=c}S(Hi,Uw),Hi.prototype.ua=function(){wt(this.g,"a")},Hi.prototype.ta=function(c){wt(this.g,new Bw(c))},Hi.prototype.sa=function(c){wt(this.g,new $w)},Hi.prototype.ra=function(){wt(this.g,"b")},kc.prototype.createWebChannel=kc.prototype.g,Nt.prototype.send=Nt.prototype.o,Nt.prototype.open=Nt.prototype.m,Nt.prototype.close=Nt.prototype.close,jm=sr.createWebChannelTransport=function(){return new kc},Vm=sr.getStatEventTarget=function(){return Dc()},Lm=sr.Event=Wr,Gl=sr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bc.NO_ERROR=0,bc.TIMEOUT=8,bc.HTTP_ERROR=6,Ra=sr.ErrorCode=bc,iw.COMPLETE="complete",Fm=sr.EventType=iw,X_.EventType=Ds,Ds.OPEN="a",Ds.CLOSE="b",Ds.ERROR="c",Ds.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Uo=sr.WebChannel=X_,km=sr.FetchXmlHttpFactory=xs,Ve.prototype.listenOnce=Ve.prototype.L,Ve.prototype.getLastError=Ve.prototype.Ka,Ve.prototype.getLastErrorCode=Ve.prototype.Ba,Ve.prototype.getStatus=Ve.prototype.Z,Ve.prototype.getResponseJson=Ve.prototype.Oa,Ve.prototype.getResponseText=Ve.prototype.oa,Ve.prototype.send=Ve.prototype.ea,Ve.prototype.setWithCredentials=Ve.prototype.Ha,Om=sr.XhrIo=Ve}).apply(typeof ql<"u"?ql:typeof self<"u"?self:typeof window<"u"?window:{});var dC="@firebase/firestore";var it=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};it.UNAUTHENTICATED=new it(null),it.GOOGLE_CREDENTIALS=new it("google-credentials-uid"),it.FIRST_PARTY=new it("first-party-uid"),it.MOCK_USER=new it("mock-user");var os="10.13.0";var Ci=new Mn("@firebase/firestore");function xa(){return Ci.logLevel}function U(t,...e){if(Ci.logLevel<=de.DEBUG){let n=e.map(Dv);Ci.debug(`Firestore (${os}): ${t}`,...n)}}function cr(t,...e){if(Ci.logLevel<=de.ERROR){let n=e.map(Dv);Ci.error(`Firestore (${os}): ${t}`,...n)}}function Wo(t,...e){if(Ci.logLevel<=de.WARN){let n=e.map(Dv);Ci.warn(`Firestore (${os}): ${t}`,...n)}}function Dv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function K(t="Unexpected state"){let e=`FIRESTORE (${os}) INTERNAL ASSERTION FAILED: `+t;throw cr(e),new Error(e)}function Me(t,e){t||K()}function Z(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},F=class extends lt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var dn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Jl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},zm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(it.UNAUTHENTICATED))}shutdown(){}},qm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Gm=class{constructor(e){this.t=e,this.currentUser=it.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new dn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new dn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new dn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string"),new Jl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string"),new it(e)}},Wm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=it.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Km=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Wm(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(it.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Qm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Ym=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me(typeof n.token=="string"),this.R=n.token,new Qm(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function zL(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Zl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=zL(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function Ee(t,e){return t<e?-1:t>e?1:0}function Ko(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var ht=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new F(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new F(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var te=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new ht(0,0))}static max(){return new t(new ht(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Xl=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&K(),r===void 0?r=e.length-n:r>e.length-n&&K(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Fe=class t extends Xl{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new F(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},qL=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Bt=class t extends Xl{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return qL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new F(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new F(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new F(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new F(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var z=class t{constructor(e){this.path=e}static fromPath(e){return new t(Fe.fromString(e))}static fromName(e){return new t(Fe.fromString(e).popFirst(5))}static empty(){return new t(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Fe(e.slice()))}};var Jm=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Jm.UNKNOWN_ID=-1;function GL(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new ht(n+1,0):new ht(n,r));return new Ti(i,z.empty(),e)}function WL(t){return new Ti(t.readTime,t.key,-1)}var Ti=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(te.min(),z.empty(),-1)}static max(){return new t(te.max(),z.empty(),-1)}};function KL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=z.comparator(t.documentKey,e.documentKey),n!==0?n:Ee(t.largestBatchId,e.largestBatchId))}var QL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Zm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ya(t){return _(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==QL)throw t;U("LocalStore","Unexpectedly lost primary lease")})}var N=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&K(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function YL(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ja(t){return t.name==="IndexedDbTransactionError"}var zC=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Rd(t){return t==null}function La(t){return t===0&&1/t==-1/0}function JL(t){return typeof t=="number"&&Number.isInteger(t)&&!La(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ZL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Iq=[...ZL,"documentOverlays"],XL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],eV=XL,tV=[...eV,"indexConfiguration","indexState","indexEntries"];var Eq=[...tV,"globals"];function hC(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ss(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Be=class t{constructor(e,n){this.comparator=e,this.root=n||On.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,On.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,On.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zo(this.root,e,this.comparator,!1)}getReverseIterator(){return new zo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zo(this.root,e,this.comparator,!0)}},zo=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},On=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();let e=this.left.check();if(e!==this.right.check())throw K();return e+(this.isRed()?0:1)}};On.EMPTY=null,On.RED=!0,On.BLACK=!1;On.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(e,n,r,i,o){return this}insert(e,n,r){return new On(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var vt=class t{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ed(this.data.getIterator())}getIteratorFrom(e){return new ed(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},ed=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Pn=class t{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new t([])}unionWith(e){let n=new vt(Bt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ko(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var td=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var _t=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new td("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};_t.EMPTY_BYTE_STRING=new _t("");var nV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ur(t){if(Me(!!t),typeof t=="string"){let e=0,n=nV.exec(t);if(Me(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Oe(t.seconds),nanos:Oe(t.nanos)}}function Oe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $r(t){return typeof t=="string"?_t.fromBase64String(t):_t.fromUint8Array(t)}function bv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Cv(t){let e=t.mapValue.fields.__previous_value__;return bv(e)?Cv(e):e}function Va(t){let e=ur(t.mapValue.fields.__local_write_time__.timestampValue);return new ht(e.seconds,e.nanos)}var Xm=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},nd=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Wl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Si(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bv(t)?4:WC(t)?9007199254740991:GC(t)?10:11:K()}function Ln(t,e){if(t===e)return!0;let n=Si(t);if(n!==Si(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Va(t).isEqual(Va(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=ur(i.timestampValue),a=ur(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return $r(i.bytesValue).isEqual($r(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Oe(i.geoPointValue.latitude)===Oe(o.geoPointValue.latitude)&&Oe(i.geoPointValue.longitude)===Oe(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Oe(i.integerValue)===Oe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Oe(i.doubleValue),a=Oe(o.doubleValue);return s===a?La(s)===La(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Ko(t.arrayValue.values||[],e.arrayValue.values||[],Ln);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(hC(s)!==hC(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Ln(s[u],a[u])))return!1;return!0}(t,e);default:return K()}}function ja(t,e){return(t.values||[]).find(n=>Ln(n,e))!==void 0}function Qo(t,e){if(t===e)return 0;let n=Si(t),r=Si(e);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Oe(o.integerValue||o.doubleValue),u=Oe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return fC(t.timestampValue,e.timestampValue);case 4:return fC(Va(t),Va(e));case 5:return Ee(t.stringValue,e.stringValue);case 6:return function(o,s){let a=$r(o),u=$r(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=Ee(a[l],u[l]);if(h!==0)return h}return Ee(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Ee(Oe(o.latitude),Oe(s.latitude));return a!==0?a:Ee(Oe(o.longitude),Oe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return pC(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,S=(u=m.value)===null||u===void 0?void 0:u.arrayValue,x=Ee(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return x!==0?x:pC(y,S)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Wl.mapValue&&s===Wl.mapValue)return 0;if(o===Wl.mapValue)return 1;if(s===Wl.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=Ee(u[p],h[p]);if(m!==0)return m;let y=Qo(a[u[p]],l[h[p]]);if(y!==0)return y}return Ee(u.length,h.length)}(t.mapValue,e.mapValue);default:throw K()}}function fC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);let n=ur(t),r=ur(e),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function pC(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Qo(n[i],r[i]);if(o)return o}return Ee(n.length,r.length)}function Yo(t){return ey(t)}function ey(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=ur(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return $r(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=ey(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${ey(n.fields[s])}`;return i+"}"}(t.mapValue):K()}function gC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ty(t){return!!t&&"integerValue"in t}function Tv(t){return!!t&&"arrayValue"in t}function mC(t){return!!t&&"nullValue"in t}function yC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ql(t){return!!t&&"mapValue"in t}function GC(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Pa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return ss(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Pa(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function WC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var ln=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ql(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pa(n)}setAll(e){let n=Bt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Pa(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Ql(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ln(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ql(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ss(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Pa(this.value))}};function KC(t){let e=[];return ss(t.fields,(n,r)=>{let i=new Bt([n]);if(Ql(r)){let o=KC(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Pn(e)}var hn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,te.min(),te.min(),te.min(),ln.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,te.min(),te.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,te.min(),te.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Jo=class{constructor(e,n){this.position=e,this.inclusive=n}};function vC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=z.comparator(z.fromName(s.referenceValue),n.key):r=Qo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function _C(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ln(t.position[n],e.position[n]))return!1;return!0}var Zo=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function rV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var rd=class{},Qe=class t extends rd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ry(e,n,r):n==="array-contains"?new sy(e,r):n==="in"?new ay(e,r):n==="not-in"?new cy(e,r):n==="array-contains-any"?new uy(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new iy(e,r):new oy(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Qo(n,this.value)):n!==null&&Si(this.value)===Si(n)&&this.matchesComparison(Qo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},fn=class t extends rd{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return QC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function QC(t){return t.op==="and"}function YC(t){return iV(t)&&QC(t)}function iV(t){for(let e of t.filters)if(e instanceof fn)return!1;return!0}function ny(t){if(t instanceof Qe)return t.field.canonicalString()+t.op.toString()+Yo(t.value);if(YC(t))return t.filters.map(e=>ny(e)).join(",");{let e=t.filters.map(n=>ny(n)).join(",");return`${t.op}(${e})`}}function JC(t,e){return t instanceof Qe?function(r,i){return i instanceof Qe&&r.op===i.op&&r.field.isEqual(i.field)&&Ln(r.value,i.value)}(t,e):t instanceof fn?function(r,i){return i instanceof fn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&JC(s,i.filters[a]),!0):!1}(t,e):void K()}function ZC(t){return t instanceof Qe?function(n){return`${n.field.canonicalString()} ${n.op} ${Yo(n.value)}`}(t):t instanceof fn?function(n){return n.op.toString()+" {"+n.getFilters().map(ZC).join(" ,")+"}"}(t):"Filter"}var ry=class extends Qe{constructor(e,n,r){super(e,n,r),this.key=z.fromName(r.referenceValue)}matches(e){let n=z.comparator(e.key,this.key);return this.matchesComparison(n)}},iy=class extends Qe{constructor(e,n){super(e,"in",n),this.keys=XC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},oy=class extends Qe{constructor(e,n){super(e,"not-in",n),this.keys=XC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function XC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>z.fromName(r.referenceValue))}var sy=class extends Qe{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Tv(n)&&ja(n.arrayValue,this.value)}},ay=class extends Qe{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&ja(this.value.arrayValue,n)}},cy=class extends Qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(ja(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!ja(this.value.arrayValue,n)}},uy=class extends Qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Tv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ja(this.value.arrayValue,r))}};var ly=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function wC(t,e=null,n=[],r=[],i=null,o=null,s=null){return new ly(t,e,n,r,i,o,s)}function Sv(t){let e=Z(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ny(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Rd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Yo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Yo(r)).join(",")),e.ue=n}return e.ue}function Av(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!rV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!JC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_C(t.startAt,e.startAt)&&_C(t.endAt,e.endAt)}function dy(t){return z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ai=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function oV(t,e,n,r,i,o,s,a){return new Ai(t,e,n,r,i,o,s,a)}function Mv(t){return new Ai(t)}function IC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eT(t){return t.collectionGroup!==null}function Oa(t){let e=Z(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new vt(Bt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Zo(o,r))}),n.has(Bt.keyField().canonicalString())||e.ce.push(new Zo(Bt.keyField(),r))}return e.ce}function kn(t){let e=Z(t);return e.le||(e.le=sV(e,Oa(t))),e.le}function sV(t,e){if(t.limitType==="F")return wC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Zo(i.field,o)});let n=t.endAt?new Jo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Jo(t.startAt.position,t.startAt.inclusive):null;return wC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function hy(t,e){let n=t.filters.concat([e]);return new Ai(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function id(t,e,n){return new Ai(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xd(t,e){return Av(kn(t),kn(e))&&t.limitType===e.limitType}function tT(t){return`${Sv(kn(t))}|lt:${t.limitType}`}function Bo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ZC(i)).join(", ")}]`),Rd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Yo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Yo(i)).join(",")),`Target(${r})`}(kn(t))}; limitType=${t.limitType})`}function Nd(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):z.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Oa(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=vC(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Oa(r),i)||r.endAt&&!function(s,a,u){let l=vC(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Oa(r),i))}(t,e)}function aV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nT(t){return(e,n)=>{let r=!1;for(let i of Oa(t)){let o=cV(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function cV(t,e,n){let r=t.field.isKeyField()?z.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Qo(u,l):K()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return K()}}var Hr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ss(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return qC(this.inner)}size(){return this.innerSize}};var uV=new Be(z.comparator);function lr(){return uV}var rT=new Be(z.comparator);function Na(...t){let e=rT;for(let n of t)e=e.insert(n.key,n);return e}function iT(t){let e=rT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ei(){return ka()}function oT(){return ka()}function ka(){return new Hr(t=>t.toString(),(t,e)=>t.isEqual(e))}var lV=new Be(z.comparator),dV=new vt(z.comparator);function he(...t){let e=dV;for(let n of t)e=e.add(n);return e}var hV=new vt(Ee);function fV(){return hV}function Rv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:La(e)?"-0":e}}function sT(t){return{integerValue:""+t}}function pV(t,e){return JL(e)?sT(e):Rv(t,e)}var Xo=class{constructor(){this._=void 0}};function gV(t,e,n){return t instanceof es?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&bv(o)&&(o=Cv(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Mi?cT(t,e):t instanceof Ri?uT(t,e):function(i,o){let s=aT(i,o),a=EC(s)+EC(i.Pe);return ty(s)&&ty(i.Pe)?sT(a):Rv(i.serializer,a)}(t,e)}function mV(t,e,n){return t instanceof Mi?cT(t,e):t instanceof Ri?uT(t,e):n}function aT(t,e){return t instanceof ts?function(r){return ty(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var es=class extends Xo{},Mi=class extends Xo{constructor(e){super(),this.elements=e}};function cT(t,e){let n=lT(e);for(let r of t.elements)n.some(i=>Ln(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ri=class extends Xo{constructor(e){super(),this.elements=e}};function uT(t,e){let n=lT(e);for(let r of t.elements)n=n.filter(i=>!Ln(i,r));return{arrayValue:{values:n}}}var ts=class extends Xo{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function EC(t){return Oe(t.integerValue||t.doubleValue)}function lT(t){return Tv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function yV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Mi&&i instanceof Mi||r instanceof Ri&&i instanceof Ri?Ko(r.elements,i.elements,Ln):r instanceof ts&&i instanceof ts?Ln(r.Pe,i.Pe):r instanceof es&&i instanceof es}(t.transform,e.transform)}var fy=class{constructor(e,n){this.version=e,this.transformResults=n}},ar=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Yl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ns=class{};function dT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ua(t.key,ar.none()):new xi(t.key,t.data,ar.none());{let n=t.data,r=ln.empty(),i=new vt(Bt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new dr(t.key,r,new Pn(i.toArray()),ar.none())}}function vV(t,e,n){t instanceof xi?function(i,o,s){let a=i.value.clone(),u=bC(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof dr?function(i,o,s){if(!Yl(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=bC(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(hT(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Fa(t,e,n,r){return t instanceof xi?function(o,s,a,u){if(!Yl(o.precondition,s))return a;let l=o.value.clone(),h=CC(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof dr?function(o,s,a,u){if(!Yl(o.precondition,s))return a;let l=CC(o.fieldTransforms,u,s),h=s.data;return h.setAll(hT(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return Yl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function _V(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=aT(r.transform,i||null);o!=null&&(n===null&&(n=ln.empty()),n.set(r.field,o))}return n||null}function DC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ko(r,i,(o,s)=>yV(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var xi=class extends ns{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},dr=class extends ns{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function hT(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function bC(t,e,n){let r=new Map;Me(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,mV(s,a,n[i]))}return r}function CC(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,gV(o,s,e))}return r}var Ua=class extends ns{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},py=class extends ns{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var gy=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&vV(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fa(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Fa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=oT();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=dT(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),he())}isEqual(e){return this.batchId===e.batchId&&Ko(this.mutations,e.mutations,(n,r)=>DC(n,r))&&Ko(this.baseMutations,e.baseMutations,(n,r)=>DC(n,r))}},my=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Me(e.mutations.length===r.length);let i=function(){return lV}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var yy=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var vy=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var We,me;function wV(t){switch(t){default:return K();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function fT(t){if(t===void 0)return cr("GRPC error has no .code"),M.UNKNOWN;switch(t){case We.OK:return M.OK;case We.CANCELLED:return M.CANCELLED;case We.UNKNOWN:return M.UNKNOWN;case We.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case We.INTERNAL:return M.INTERNAL;case We.UNAVAILABLE:return M.UNAVAILABLE;case We.UNAUTHENTICATED:return M.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case We.NOT_FOUND:return M.NOT_FOUND;case We.ALREADY_EXISTS:return M.ALREADY_EXISTS;case We.PERMISSION_DENIED:return M.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case We.ABORTED:return M.ABORTED;case We.OUT_OF_RANGE:return M.OUT_OF_RANGE;case We.UNIMPLEMENTED:return M.UNIMPLEMENTED;case We.DATA_LOSS:return M.DATA_LOSS;default:return K()}}(me=We||(We={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";var TC=null;function IV(){return new TextEncoder}var EV=new Ur([4294967295,4294967295],0);function SC(t){let e=IV().encode(t),n=new Pm;return n.update(e),new Uint8Array(n.digest())}function AC(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ur([n,r],0),new Ur([i,o],0)]}var _y=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Di(`Invalid padding: ${n}`);if(r<0)throw new Di(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Di(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Di(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ur.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ur.fromNumber(r)));return i.compare(EV)===1&&(i=new Ur([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=SC(e),[r,i]=AC(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=SC(e),[r,i]=AC(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Di=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var od=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Ba.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(te.min(),i,new Be(Ee),lr(),he())}},Ba=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,he(),he(),he())}};var qo=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},sd=class{constructor(e,n){this.targetId=e,this.me=n}},ad=class{constructor(e,n,r=_t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},cd=class{constructor(){this.fe=0,this.ge=RC(),this.pe=_t.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=he(),n=he(),r=he();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:K()}}),new Ba(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=RC()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Me(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},wy=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=lr(),this.qe=MC(),this.Qe=new Be(Ee)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:K()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(dy(o))if(r===0){let s=new z(o.path);this.Ue(n,s,hn.newNoDocument(s,te.min()))}else Me(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}TC?.et(function(h,p,m,y,S){var x,R,V,G,H,fe;let Le={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},ne=p.unchangedNames;return ne&&(Le.bloomFilter={applied:S===0,hashCount:(x=ne?.hashCount)!==null&&x!==void 0?x:0,bitmapLength:(G=(V=(R=ne?.bits)===null||R===void 0?void 0:R.bitmap)===null||V===void 0?void 0:V.length)!==null&&G!==void 0?G:0,padding:(fe=(H=ne?.bits)===null||H===void 0?void 0:H.padding)!==null&&fe!==void 0?fe:0,mightContain:D=>{var v;return(v=y?.mightContain(D))!==null&&v!==void 0&&v}}),Le}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=$r(r).toUint8Array()}catch(u){if(u instanceof td)return Wo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new _y(s,i,o)}catch(u){return Wo(u instanceof Di?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&dy(a.target)){let u=new z(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,hn.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=he();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new od(e,n,this.Qe,this.ke,r);return this.ke=lr(),this.qe=MC(),this.Qe=new Be(Ee),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new cd,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new vt(Ee),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||U("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new cd),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function MC(){return new Be(z.comparator)}function RC(){return new Be(z.comparator)}var DV={asc:"ASCENDING",desc:"DESCENDING"},bV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CV={and:"AND",or:"OR"},Iy=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Ey(t,e){return t.useProto3Json||Rd(e)?e:{value:e}}function ud(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function TV(t,e){return ud(t,e.toTimestamp())}function Fn(t){return Me(!!t),te.fromTimestamp(function(n){let r=ur(n);return new ht(r.seconds,r.nanos)}(t))}function xv(t,e){return Dy(t,e).canonicalString()}function Dy(t,e){let n=function(i){return new Fe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function gT(t){let e=Fe.fromString(t);return Me(wT(e)),e}function by(t,e){return xv(t.databaseId,e.path)}function Um(t,e){let n=gT(e);if(n.get(1)!==t.databaseId.projectId)throw new F(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new F(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new z(yT(n))}function mT(t,e){return xv(t.databaseId,e)}function SV(t){let e=gT(t);return e.length===4?Fe.emptyPath():yT(e)}function Cy(t){return new Fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yT(t){return Me(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function xC(t,e,n){return{name:by(t,e),fields:n.value.mapValue.fields}}function AV(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:K()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Me(h===void 0||typeof h=="string"),_t.fromBase64String(h||"")):(Me(h===void 0||h instanceof Buffer||h instanceof Uint8Array),_t.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?M.UNKNOWN:fT(l.code);return new F(h,l.message||"")}(s);n=new ad(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Um(t,r.document.name),o=Fn(r.document.updateTime),s=r.document.createTime?Fn(r.document.createTime):te.min(),a=new ln({mapValue:{fields:r.document.fields}}),u=hn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new qo(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Um(t,r.document),o=r.readTime?Fn(r.readTime):te.min(),s=hn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new qo([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Um(t,r.document),o=r.removedTargetIds||[];n=new qo([],o,i,null)}else{if(!("filter"in e))return K();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new vy(i,o),a=r.targetId;n=new sd(a,s)}}return n}function MV(t,e){let n;if(e instanceof xi)n={update:xC(t,e.key,e.value)};else if(e instanceof Ua)n={delete:by(t,e.key)};else if(e instanceof dr)n={update:xC(t,e.key,e.data),updateMask:VV(e.fieldMask)};else{if(!(e instanceof py))return K();n={verify:by(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof es)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Mi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ri)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ts)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw K()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:TV(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:K()}(t,e.precondition)),n}function RV(t,e){return t&&t.length>0?(Me(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Fn(i.updateTime):Fn(o);return s.isEqual(te.min())&&(s=Fn(o)),new fy(s,i.transformResults||[])}(n,e))):[]}function xV(t,e){return{documents:[mT(t,e.path)]}}function NV(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=mT(t,i);let o=function(l){if(l.length!==0)return _T(fn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:$o(m.field),direction:kV(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=Ey(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function PV(t){let e=SV(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Me(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=vT(p);return m instanceof fn&&YC(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(S){return new Zo(Ho(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Rd(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new Jo(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new Jo(y,m)}(n.endAt)),oV(e,i,s,o,a,"F",u,l)}function OV(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ho(n.unaryFilter.field);return Qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ho(n.unaryFilter.field);return Qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ho(n.unaryFilter.field);return Qe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ho(n.unaryFilter.field);return Qe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return K()}}(t):t.fieldFilter!==void 0?function(n){return Qe.create(Ho(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return K()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fn.create(n.compositeFilter.filters.map(r=>vT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return K()}}(n.compositeFilter.op))}(t):K()}function kV(t){return DV[t]}function FV(t){return bV[t]}function LV(t){return CV[t]}function $o(t){return{fieldPath:t.canonicalString()}}function Ho(t){return Bt.fromServerFormat(t.fieldPath)}function _T(t){return t instanceof Qe?function(n){if(n.op==="=="){if(yC(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NAN"}};if(mC(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yC(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NOT_NAN"}};if(mC(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$o(n.field),op:FV(n.op),value:n.value}}}(t):t instanceof fn?function(n){let r=n.getFilters().map(i=>_T(i));return r.length===1?r[0]:{compositeFilter:{op:LV(n.op),filters:r}}}(t):K()}function VV(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function wT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var $a=class t{constructor(e,n,r,i,o=te.min(),s=te.min(),a=_t.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Ty=class{constructor(e){this.ct=e}};function jV(t){let e=PV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?id(e,e.limit,"L"):e}var ld=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Oe(e.integerValue));else if("doubleValue"in e){let r=Oe(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),La(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=ur(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt($r(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?WC(e)?this.dt(n,Number.MAX_SAFE_INTEGER):GC(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):K()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Oe(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),z.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};ld.vt=new ld;var Sy=class{constructor(){this.un=new Ay}addToCollectionParentIndex(e,n){return this.un.add(n),N.resolve()}getCollectionParents(e,n){return N.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return N.resolve()}deleteFieldIndex(e,n){return N.resolve()}deleteAllFieldIndexes(e){return N.resolve()}createTargetIndexes(e,n){return N.resolve()}getDocumentsMatchingTarget(e,n){return N.resolve(null)}getIndexType(e,n){return N.resolve(0)}getFieldIndexes(e,n){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,n){return N.resolve(Ti.min())}getMinOffsetFromCollectionGroup(e,n){return N.resolve(Ti.min())}updateCollectionGroup(e,n,r){return N.resolve()}updateIndexEntries(e,n){return N.resolve()}},Ay=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new vt(Fe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vt(Fe.comparator)).toArray()}};var bq=new Uint8Array(0);var Nn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(41943040,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);var Ha=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var My=class{constructor(){this.changes=new Hr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?N.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Ry=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var xy=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Fa(r.mutation,i,Pn.empty(),ht.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,he()).next(()=>r))}getLocalViewOfDocuments(e,n,r=he()){let i=Ei();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Na();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Ei();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,he()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=lr(),s=ka(),a=function(){return ka()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof dr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Fa(h.mutation,l,h.mutation.getFieldMask(),ht.now())):s.set(l.key,Pn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new Ry(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=ka(),i=new Be((s,a)=>s-a),o=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Pn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||he()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=oT();h.forEach(m=>{if(!o.has(m)){let y=dT(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return N.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):N.resolve(Ei()),a=-1,u=o;return s.next(l=>N.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?N.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,he())).next(h=>({batchId:a,changes:iT(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new z(n)).next(r=>{let i=Na();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Na();return this.indexManager.getCollectionParents(e,o).next(a=>N.forEach(a,u=>{let l=function(p,m){return new Ai(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,hn.newInvalidDocument(h)))});let a=Na();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Fa(h.mutation,l,Pn.empty(),ht.now()),Nd(n,l)&&(a=a.insert(u,l))}),a})}};var Ny=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return N.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Fn(i.createTime)}}(n)),N.resolve()}getNamedQuery(e,n){return N.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:jV(i.bundledQuery),readTime:Fn(i.readTime)}}(n)),N.resolve()}};var Py=class{constructor(){this.overlays=new Be(z.comparator),this.Ir=new Map}getOverlay(e,n){return N.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ei();return N.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),N.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),N.resolve()}getOverlaysForCollection(e,n,r){let i=Ei(),o=n.length+1,s=new z(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return N.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Be((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Ei(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Ei(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return N.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new yy(n,r));let o=this.Ir.get(n);o===void 0&&(o=he(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var Oy=class{constructor(){this.sessionToken=_t.EMPTY_BYTE_STRING}getSessionToken(e){return N.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,N.resolve()}};var za=class{constructor(){this.Tr=new vt(Ke.Er),this.dr=new vt(Ke.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Ke(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ke(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new z(new Fe([])),r=new Ke(n,e),i=new Ke(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new z(new Fe([])),r=new Ke(n,e),i=new Ke(n,e+1),o=he();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ke(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ke=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return z.comparator(e.key,n.key)||Ee(e.wr,n.wr)}static Ar(e,n){return Ee(e.wr,n.wr)||z.comparator(e.key,n.key)}};var ky=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new vt(Ke.Er)}checkEmpty(e){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new gy(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new Ke(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return N.resolve(s)}lookupMutationBatch(e,n){return N.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return N.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ke(n,0),i=new Ke(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),N.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vt(Ee);return n.forEach(i=>{let o=new Ke(i,0),s=new Ke(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),N.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;z.isDocumentKey(o)||(o=o.child(""));let s=new Ke(new z(o),0),a=new vt(Ee);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),N.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Me(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return N.forEach(n.mutations,i=>{let o=new Ke(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Ke(n,0),i=this.br.firstAfterOrEqual(r);return N.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,N.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Fy=class{constructor(e){this.Mr=e,this.docs=function(){return new Be(z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return N.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(n))}getEntries(e,n){let r=lr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():hn.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=lr(),s=n.path,a=new z(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||KL(WL(h),r)<=0||(i.has(h.key)||Nd(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return N.resolve(o)}getAllFromCollectionGroup(e,n,r,i){K()}Or(e,n){return N.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ly(this)}getSize(e){return N.resolve(this.size)}},Ly=class extends My{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),N.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Vy=class{constructor(e){this.persistence=e,this.Nr=new Hr(n=>Sv(n),Av),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Lr=0,this.Br=new za,this.targetCount=0,this.kr=Ha.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),N.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Ha(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,N.resolve()}updateTargetData(e,n){return this.Kn(n),N.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),N.waitFor(o).next(()=>i)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return N.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),N.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),N.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),N.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return N.resolve(r)}containsKey(e,n){return N.resolve(this.Br.containsKey(n))}};var jy=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new zC(0),this.Kr=!1,this.Kr=!0,this.$r=new Oy,this.referenceDelegate=e(this),this.Ur=new Vy(this),this.indexManager=new Sy,this.remoteDocumentCache=function(i){return new Fy(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Ty(n),this.Gr=new Ny(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Py,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new ky(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){U("MemoryPersistence","Starting transaction:",e);let i=new Uy(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return N.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Uy=class extends Zm{constructor(e){super(),this.currentSequenceNumber=e}},By=class t{constructor(e){this.persistence=e,this.Jr=new za,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw K()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),N.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),N.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),N.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Xr,r=>{let i=z.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,te.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return N.or([()=>N.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var $y=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=he(),i=he();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Hy=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var zy=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Gb()?8:YL(tt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Hy;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(xa()<=de.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",Bo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),N.resolve()):(xa()<=de.DEBUG&&U("QueryEngine","Query:",Bo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(xa()<=de.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",Bo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kn(n))):N.resolve())}Yi(e,n){if(IC(n))return N.resolve(null);let r=kn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=id(n,null,"F"),r=kn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=he(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,s,u.readTime)?this.Yi(e,id(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return IC(n)||i.isEqual(te.min())?N.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?N.resolve(null):(xa()<=de.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Bo(n)),this.rs(e,s,n,GL(i,-1)).next(a=>a))})}ts(e,n){let r=new vt(nT(e));return n.forEach((i,o)=>{Nd(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return xa()<=de.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Bo(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ti.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var qy=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Be(Ee),this._s=new Hr(o=>Sv(o),Av),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xy(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function UV(t,e,n,r){return new qy(t,e,n,r)}function IT(t,e){return _(this,null,function*(){let n=Z(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=he();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function BV(t,e){let n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=N.resolve();return m.forEach(S=>{y=y.next(()=>h.getEntry(u,S)).next(x=>{let R=l.docVersions.get(S);Me(R!==null),x.version.compareTo(R)<0&&(p.applyToRemoteDocument(x,l),x.isValidDocument()&&(x.setReadTime(l.commitVersion),h.addEntry(x)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=he();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function ET(t){let e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function $V(t,e){let n=Z(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(_t.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(x,R,V){return x.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(m,y,h)&&a.push(n.Ur.updateTargetData(o,y))});let u=lr(),l=he();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(HV(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(te.min())){let h=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return N.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function HV(t,e,n){let r=he(),i=he();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=lr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):U("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function zV(t,e){let n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function qV(t,e){let n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,N.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new $a(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function Gy(t,e,n){return _(this,null,function*(){let r=Z(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ja(s))throw s;U("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function NC(t,e,n){let r=Z(t),i=te.min(),o=he();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=Z(u),m=p._s.get(h);return m!==void 0?N.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,s,kn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:te.min(),n?o:he())).next(a=>(GV(r,aV(e),a),{documents:a,Ts:o})))}function GV(t,e,n){let r=t.us.get(e)||te.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var dd=class{constructor(){this.activeTargetIds=fV()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Wy=class{constructor(){this.so=new dd,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new dd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Ky=class{_o(e){}shutdown(){}};var hd=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Kl=null;function Bm(){return Kl===null?Kl=function(){return 268435456+Math.round(2147483648*Math.random())}():Kl++,"0x"+Kl.toString(16)}var WV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Qy=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var yt="WebChannelConnection",Yy=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=Bm(),u=this.xo(n,r.toUriEncodedString());U("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(h=>(U("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Wo("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+os}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=WV[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=Bm();return new Promise((s,a)=>{let u=new Om;u.setWithCredentials(!0),u.listenOnce(Fm.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ra.NO_ERROR:let h=u.getResponseJson();U(yt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Ra.TIMEOUT:U(yt,`RPC '${e}' ${o} timed out`),a(new F(M.DEADLINE_EXCEEDED,"Request time out"));break;case Ra.HTTP_ERROR:let p=u.getStatus();if(U(yt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let S=function(R){let V=R.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(V)>=0?V:M.UNKNOWN}(y.status);a(new F(S,y.message))}else a(new F(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new F(M.UNAVAILABLE,"Connection failed."));break;default:K()}}finally{U(yt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);U(yt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Bm(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=jm(),a=Vm(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new km({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");U(yt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),m=!1,y=!1,S=new Qy({Io:R=>{y?U(yt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(U(yt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),U(yt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),x=(R,V,G)=>{R.listen(V,H=>{try{G(H)}catch(fe){setTimeout(()=>{throw fe},0)}})};return x(p,Uo.EventType.OPEN,()=>{y||(U(yt,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),x(p,Uo.EventType.CLOSE,()=>{y||(y=!0,U(yt,`RPC '${e}' stream ${i} transport closed`),S.So())}),x(p,Uo.EventType.ERROR,R=>{y||(y=!0,Wo(yt,`RPC '${e}' stream ${i} transport errored:`,R),S.So(new F(M.UNAVAILABLE,"The operation could not be completed")))}),x(p,Uo.EventType.MESSAGE,R=>{var V;if(!y){let G=R.data[0];Me(!!G);let H=G,fe=H.error||((V=H[0])===null||V===void 0?void 0:V.error);if(fe){U(yt,`RPC '${e}' stream ${i} received error:`,fe);let Le=fe.status,ne=function(w){let E=We[w];if(E!==void 0)return fT(E)}(Le),D=fe.message;ne===void 0&&(ne=M.INTERNAL,D="Unknown error status: "+Le+" with message "+fe.message),y=!0,S.So(new F(ne,D)),p.close()}else U(yt,`RPC '${e}' stream ${i} received:`,G),S.bo(G)}}),x(a,Lm.STAT_EVENT,R=>{R.stat===Gl.PROXY?U(yt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Gl.NOPROXY&&U(yt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function $m(){return typeof document<"u"?document:null}function Pd(t){return new Iy(t,!0)}var fd=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var pd=class{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new fd(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return _(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return _(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return _(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(cr(n.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new F(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>_(this,null,function*(){this.state=0,this.start()}))}I_(e){return U("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Jy=class extends pd{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=AV(this.serializer,e),r=function(o){if(!("targetChange"in o))return te.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?te.min():s.readTime?Fn(s.readTime):te.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=Cy(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=dy(u)?{documents:xV(o,u)}:{query:NV(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=pT(o,s.resumeToken);let l=Ey(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(te.min())>0){a.readTime=ud(o,s.snapshotVersion.toTimestamp());let l=Ey(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=OV(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=Cy(this.serializer),n.removeTarget=e,this.a_(n)}},Zy=class extends pd{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Me(!!e.streamToken),this.lastStreamToken=e.streamToken,Me(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=RV(e.writeResults,e.commitTime),r=Fn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=Cy(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>MV(this.serializer,r))};this.a_(n)}};var Xy=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new F(M.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Dy(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new F(M.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,Dy(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(M.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},ev=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(cr(n),this.D_=!1):U("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var tv=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>_(this,null,function*(){Pi(this)&&(U("RemoteStore","Restarting streams for network reachability change."),yield function(u){return _(this,null,function*(){let l=Z(u);l.L_.add(4),yield Za(l),l.q_.set("Unknown"),l.L_.delete(4),yield Od(l)})}(this))}))}),this.q_=new ev(r,i)}};function Od(t){return _(this,null,function*(){if(Pi(t))for(let e of t.B_)yield e(!0)})}function Za(t){return _(this,null,function*(){for(let e of t.B_)yield e(!1)})}function DT(t,e){let n=Z(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),kv(n)?Ov(n):as(n).r_()&&Pv(n,e))}function Nv(t,e){let n=Z(t),r=as(n);n.N_.delete(e),r.r_()&&bT(n,e),n.N_.size===0&&(r.r_()?r.o_():Pi(n)&&n.q_.set("Unknown"))}function Pv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}as(t).A_(e)}function bT(t,e){t.Q_.xe(e),as(t).R_(e)}function Ov(t){t.Q_=new wy({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),as(t).start(),t.q_.v_()}function kv(t){return Pi(t)&&!as(t).n_()&&t.N_.size>0}function Pi(t){return Z(t).L_.size===0}function CT(t){t.Q_=void 0}function KV(t){return _(this,null,function*(){t.q_.set("Online")})}function QV(t){return _(this,null,function*(){t.N_.forEach((e,n)=>{Pv(t,e)})})}function YV(t,e){return _(this,null,function*(){CT(t),kv(t)?(t.q_.M_(e),Ov(t)):t.q_.set("Unknown")})}function JV(t,e,n){return _(this,null,function*(){if(t.q_.set("Online"),e instanceof ad&&e.state===2&&e.cause)try{yield function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){U("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield gd(t,r)}else if(e instanceof qo?t.Q_.Ke(e):e instanceof sd?t.Q_.He(e):t.Q_.We(e),!n.isEqual(te.min()))try{let r=yield ET(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(_t.EMPTY_BYTE_STRING,h.snapshotVersion)),bT(o,u);let p=new $a(h.target,u,l,h.sequenceNumber);Pv(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){U("RemoteStore","Failed to raise snapshot:",r),yield gd(t,r)}})}function gd(t,e,n){return _(this,null,function*(){if(!Ja(e))throw e;t.L_.add(1),yield Za(t),t.q_.set("Offline"),n||(n=()=>ET(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(this,null,function*(){U("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Od(t)}))})}function TT(t,e){return e().catch(n=>gd(t,n,e))}function kd(t){return _(this,null,function*(){let e=Z(t),n=zr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;ZV(e);)try{let i=yield zV(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,XV(e,i)}catch(i){yield gd(e,i)}ST(e)&&AT(e)})}function ZV(t){return Pi(t)&&t.O_.length<10}function XV(t,e){t.O_.push(e);let n=zr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function ST(t){return Pi(t)&&!zr(t).n_()&&t.O_.length>0}function AT(t){zr(t).start()}function e2(t){return _(this,null,function*(){zr(t).p_()})}function t2(t){return _(this,null,function*(){let e=zr(t);for(let n of t.O_)e.m_(n.mutations)})}function n2(t,e,n){return _(this,null,function*(){let r=t.O_.shift(),i=my.from(r,e,n);yield TT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield kd(t)})}function r2(t,e){return _(this,null,function*(){e&&zr(t).V_&&(yield function(r,i){return _(this,null,function*(){if(function(s){return wV(s)&&s!==M.ABORTED}(i.code)){let o=r.O_.shift();zr(r).s_(),yield TT(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield kd(r)}})}(t,e)),ST(t)&&AT(t)})}function PC(t,e){return _(this,null,function*(){let n=Z(t);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");let r=Pi(n);n.L_.add(3),yield Za(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Od(n)})}function i2(t,e){return _(this,null,function*(){let n=Z(t);e?(n.L_.delete(2),yield Od(n)):e||(n.L_.add(2),yield Za(n),n.q_.set("Unknown"))})}function as(t){return t.K_||(t.K_=function(n,r,i){let o=Z(n);return o.w_(),new Jy(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:KV.bind(null,t),Ro:QV.bind(null,t),mo:YV.bind(null,t),d_:JV.bind(null,t)}),t.B_.push(e=>_(this,null,function*(){e?(t.K_.s_(),kv(t)?Ov(t):t.q_.set("Unknown")):(yield t.K_.stop(),CT(t))}))),t.K_}function zr(t){return t.U_||(t.U_=function(n,r,i){let o=Z(n);return o.w_(),new Zy(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:e2.bind(null,t),mo:r2.bind(null,t),f_:t2.bind(null,t),g_:n2.bind(null,t)}),t.B_.push(e=>_(this,null,function*(){e?(t.U_.s_(),yield kd(t)):(yield t.U_.stop(),t.O_.length>0&&(U("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var nv=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new dn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Fv(t,e){if(cr("AsyncQueue",`${e}: ${t}`),Ja(t))return new F(M.UNAVAILABLE,`${e}: ${t}`);throw t}var md=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||z.comparator(n.key,r.key):(n,r)=>z.comparator(n.key,r.key),this.keyedMap=Na(),this.sortedSet=new Be(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var yd=class{constructor(){this.W_=new Be(z.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):K():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},rs=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,md.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var rv=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},iv=class{constructor(){this.queries=OC(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=Z(n),o=i.queries;i.queries=OC(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new F(M.ABORTED,"Firestore shutting down"))}};function OC(){return new Hr(t=>tT(t),xd)}function MT(t,e){return _(this,null,function*(){let n=Z(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new rv,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=Fv(s,`Initialization of query '${Bo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Lv(n)})}function RT(t,e){return _(this,null,function*(){let n=Z(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function o2(t,e){let n=Z(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&Lv(n)}function s2(t,e,n){let r=Z(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function Lv(t){t.Y_.forEach(e=>{e.next()})}var ov,kC;(kC=ov||(ov={})).ea="default",kC.Cache="cache";var vd=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new rs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=rs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ov.Cache}};var _d=class{constructor(e){this.key=e}},wd=class{constructor(e){this.key=e}},sv=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=he(),this.mutatedKeys=he(),this.Aa=nT(e),this.Ra=new md(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new yd,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Nd(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),x=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?S!==x&&(r.track({type:3,doc:y}),R=!0):this.ga(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=x?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(y,S){let x=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K()}};return x(y)-x(S)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new rs(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new yd,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=he(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new wd(r))}),this.da.forEach(r=>{e.has(r)||n.push(new _d(r))}),n}ba(e){this.Ta=e.Ts,this.da=he();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return rs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},av=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},cv=class{constructor(e){this.key=e,this.va=!1}},uv=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Hr(a=>tT(a),xd),this.Ma=new Map,this.xa=new Set,this.Oa=new Be(z.comparator),this.Na=new Map,this.La=new za,this.Ba={},this.ka=new Map,this.qa=Ha.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function a2(t,e,n=!0){return _(this,null,function*(){let r=FT(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield xT(r,e,n,!0),i})}function c2(t,e){return _(this,null,function*(){let n=FT(t);yield xT(n,e,!0,!1)})}function xT(t,e,n,r){return _(this,null,function*(){let i=yield qV(t.localStore,kn(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current",a;return r&&(a=yield u2(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&DT(t.remoteStore,i),a})}function u2(t,e,n,r,i){return _(this,null,function*(){t.Ka=(p,m,y)=>function(x,R,V,G){return _(this,null,function*(){let H=R.view.ma(V);H.ns&&(H=yield NC(x.localStore,R.query,!1).then(({documents:D})=>R.view.ma(D,H)));let fe=G&&G.targetChanges.get(R.targetId),Le=G&&G.targetMismatches.get(R.targetId)!=null,ne=R.view.applyChanges(H,x.isPrimaryClient,fe,Le);return LC(x,R.targetId,ne.wa),ne.snapshot})}(t,p,m,y);let o=yield NC(t.localStore,e,!0),s=new sv(e,o.Ts),a=s.ma(o.documents),u=Ba.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);LC(t,n,l.wa);let h=new av(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function l2(t,e,n){return _(this,null,function*(){let r=Z(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!xd(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Gy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Nv(r.remoteStore,i.targetId),lv(r,i.targetId)}).catch(Ya))):(lv(r,i.targetId),yield Gy(r.localStore,i.targetId,!0))})}function d2(t,e){return _(this,null,function*(){let n=Z(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Nv(n.remoteStore,r.targetId))})}function h2(t,e,n){return _(this,null,function*(){let r=_2(t);try{let i=yield function(s,a){let u=Z(s),l=ht.now(),h=a.reduce((y,S)=>y.add(S.key),he()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let S=lr(),x=he();return u.cs.getEntries(y,h).next(R=>{S=R,S.forEach((V,G)=>{G.isValidDocument()||(x=x.add(V))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,S)).next(R=>{p=R;let V=[];for(let G of a){let H=_V(G,p.get(G.key).overlayedDocument);H!=null&&V.push(new dr(G.key,H,KC(H.value.mapValue),ar.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,V,a)}).next(R=>{m=R;let V=R.applyToLocalDocumentSet(p,x);return u.documentOverlayCache.saveOverlays(y,R.batchId,V)})}).then(()=>({batchId:m.batchId,changes:iT(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new Be(Ee)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Xa(r,i.changes),yield kd(r.remoteStore)}catch(i){let o=Fv(i,"Failed to persist write");n.reject(o)}})}function NT(t,e){return _(this,null,function*(){let n=Z(t);try{let r=yield $V(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(Me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Me(s.va):i.removedDocuments.size>0&&(Me(s.va),s.va=!1))}),yield Xa(n,r,e)}catch(r){yield Ya(r)}})}function FC(t,e,n){let r=Z(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=Z(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&Lv(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function f2(t,e,n){return _(this,null,function*(){let r=Z(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Be(z.comparator);s=s.insert(o,hn.newNoDocument(o,te.min()));let a=he().add(o),u=new od(te.min(),new Map,new Be(Ee),s,a);yield NT(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),Vv(r)}else yield Gy(r.localStore,e,!1).then(()=>lv(r,e,n)).catch(Ya)})}function p2(t,e){return _(this,null,function*(){let n=Z(t),r=e.batch.batchId;try{let i=yield BV(n.localStore,e);OT(n,r,null),PT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Xa(n,i)}catch(i){yield Ya(i)}})}function g2(t,e,n){return _(this,null,function*(){let r=Z(t);try{let i=yield function(s,a){let u=Z(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Me(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);OT(r,e,n),PT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Xa(r,i)}catch(i){yield Ya(i)}})}function PT(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function OT(t,e,n){let r=Z(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function lv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||kT(t,r)})}function kT(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(Nv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Vv(t))}function LC(t,e,n){for(let r of n)r instanceof _d?(t.La.addReference(r.key,e),m2(t,r)):r instanceof wd?(U("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||kT(t,r.key)):K()}function m2(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(U("SyncEngine","New document in limbo: "+n),t.xa.add(r),Vv(t))}function Vv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new z(Fe.fromString(e)),r=t.qa.next();t.Na.set(r,new cv(n)),t.Oa=t.Oa.insert(n,r),DT(t.remoteStore,new $a(kn(Mv(n.path)),r,"TargetPurposeLimboResolution",zC.oe))}}function Xa(t,e,n){return _(this,null,function*(){let r=Z(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=$y.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return _(this,null,function*(){let h=Z(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>N.forEach(l,m=>N.forEach(m.$i,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>N.forEach(m.Ui,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Ja(p))throw p;U("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.os.get(m),S=y.snapshotVersion,x=y.withLastLimboFreeSnapshotVersion(S);h.os=h.os.insert(m,x)}}})}(r.localStore,o))})}function y2(t,e){return _(this,null,function*(){let n=Z(t);if(!n.currentUser.isEqual(e)){U("SyncEngine","User change. New user:",e.toKey());let r=yield IT(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new F(M.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Xa(n,r.hs)}})}function v2(t,e){let n=Z(t),r=n.Na.get(e);if(r&&r.va)return he().add(r.key);{let i=he(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function FT(t){let e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=NT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=v2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=f2.bind(null,e),e.Ca.d_=o2.bind(null,e.eventManager),e.Ca.$a=s2.bind(null,e.eventManager),e}function _2(t){let e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=p2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=g2.bind(null,e),e}var Id=class{constructor(){this.synchronizeTabs=!1}initialize(e){return _(this,null,function*(){this.serializer=Pd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return UV(this.persistence,new zy,e.initialUser,this.serializer)}createPersistence(e){return new jy(By.Zr,this.serializer)}createSharedClientState(e){return new Wy}terminate(){return _(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var dv=class{initialize(e,n){return _(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>FC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=y2.bind(null,this.syncEngine),yield i2(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new iv}()}createDatastore(e){let n=Pd(e.databaseInfo.databaseId),r=function(o){return new Yy(o)}(e.databaseInfo);return function(o,s,a,u){return new Xy(o,s,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new tv(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>FC(this.syncEngine,n,0),function(){return hd.D()?new hd:new Ky}())}createSyncEngine(e,n){return function(i,o,s,a,u,l,h){let p=new uv(i,o,s,a,u,l);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return _(this,null,function*(){var e,n;yield function(i){return _(this,null,function*(){let o=Z(i);U("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Za(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var Ed=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var hv=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=it.UNAUTHENTICATED,this.clientId=Zl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>_(this,null,function*(){U("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(U("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new F(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new dn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Fv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Hm(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>_(this,null,function*(){r.isEqual(i)||(yield IT(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function VC(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield I2(t);U("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>PC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>PC(e.remoteStore,i)),t._onlineComponents=e})}function w2(t){return t.name==="FirebaseError"?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function I2(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Hm(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!w2(n))throw n;Wo("Error using user provided cache. Falling back to memory cache: "+n),yield Hm(t,new Id)}}else U("FirestoreClient","Using default OfflineComponentProvider"),yield Hm(t,new Id);return t._offlineComponents})}function LT(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),yield VC(t,t._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),yield VC(t,new dv))),t._onlineComponents})}function E2(t){return LT(t).then(e=>e.syncEngine)}function VT(t){return _(this,null,function*(){let e=yield LT(t),n=e.eventManager;return n.onListen=a2.bind(null,e.syncEngine),n.onUnlisten=l2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=c2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=d2.bind(null,e.syncEngine),n})}function D2(t,e,n={}){let r=new dn;return t.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return function(o,s,a,u,l){let h=new Ed({next:m=>{s.enqueueAndForget(()=>RT(o,p));let y=m.docs.has(a);!y&&m.fromCache?l.reject(new F(M.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?l.reject(new F(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new vd(Mv(a.path),h,{includeMetadataChanges:!0,_a:!0});return MT(o,p)}(yield VT(t),t.asyncQueue,e,n,r)})),r.promise}function b2(t,e,n={}){let r=new dn;return t.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return function(o,s,a,u,l){let h=new Ed({next:m=>{s.enqueueAndForget(()=>RT(o,p)),m.fromCache&&u.source==="server"?l.reject(new F(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new vd(a,h,{includeMetadataChanges:!0,_a:!0});return MT(o,p)}(yield VT(t),t.asyncQueue,e,n,r)})),r.promise}function jT(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var jC=new Map;function UT(t,e,n){if(!n)throw new F(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function C2(t,e,n,r){if(e===!0&&r===!0)throw new F(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function UC(t){if(!z.isDocumentKey(t))throw new F(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function BC(t){if(z.isDocumentKey(t))throw new F(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Fd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":K()}function hr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new F(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Fd(t);throw new F(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function T2(t,e){if(e<=0)throw new F(M.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var Dd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new F(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new F(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}C2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new F(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new F(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new F(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},is=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new F(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new F(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new zm;switch(r.type){case"firstParty":return new Km(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new F(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=jC.get(n);r&&(U("ComponentProvider","Removing Datastore"),jC.delete(n),r.terminate())}(this),Promise.resolve()}};function S2(t,e,n,r={}){var i;let o=(t=hr(t,is))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=it.MOCK_USER;else{a=$b(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new F(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new it(l)}t._authCredentials=new qm(new Jl(a,u))}}var Ni=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Rt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Br=class t extends Ni{constructor(e,n,r){super(e,n,Mv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new z(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Kt(t,e,...n){if(t=nt(t),UT("collection","path",e),t instanceof is){let r=Fe.fromString(e,...n);return BC(r),new Br(t,null,r)}{if(!(t instanceof Rt||t instanceof Br))throw new F(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Fe.fromString(e,...n));return BC(r),new Br(t.firestore,null,r)}}function Vn(t,e,...n){if(t=nt(t),arguments.length===1&&(e=Zl.newId()),UT("doc","path",e),t instanceof is){let r=Fe.fromString(e,...n);return UC(r),new Rt(t,null,new z(r))}{if(!(t instanceof Rt||t instanceof Br))throw new F(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Fe.fromString(e,...n));return UC(r),new Rt(t.firestore,t instanceof Br?t.converter:null,new z(r))}}var fv=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new fd(this,"async_queue_retry"),this.Eu=()=>{let n=$m();n&&U("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=$m();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=$m();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new dn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return _(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Ja(e))throw e;U("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw cr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=nv.createAndSchedule(this,e,n,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&K()}verifyOperationInProgress(){}mu(){return _(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};var qr=class extends is{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new fv}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||$T(this),this._firestoreClient.terminate()}};function BT(t,e){let n=typeof t=="object"?t:Ii(),r=typeof t=="string"?t:e||"(default)",i=un(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Bb("firestore");o&&S2(i,...o)}return i}function jv(t){return t._firestoreClient||$T(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function $T(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new Xm(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,jT(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new hv(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var qa=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(_t.fromBase64String(e))}catch(n){throw new F(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(_t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ga=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new F(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var bd=class{constructor(e){this._methodName=e}};var Wa=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new F(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new F(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}};var Ka=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var A2=/^__.*__$/,pv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new dr(e,this.data,this.fieldMask,n,this.fieldTransforms):new xi(e,this.data,n,this.fieldTransforms)}};function HT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K()}}var gv=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Cd(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(HT(this.wu)&&A2.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},mv=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Pd(e)}Nu(e,n,r,i=!1){return new gv({wu:e,methodName:n,Ou:r,path:Bt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Uv(t){let e=t._freezeSettings(),n=Pd(t._databaseId);return new mv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zT(t,e,n,r,i,o={}){let s=t.Nu(o.merge||o.mergeFields?2:0,e,n,i);WT("Data must be an object, but it was:",s,r);let a=qT(r,s),u,l;if(o.merge)u=new Pn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=R2(e,p,n);if(!s.contains(m))throw new F(M.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);N2(h,m)||h.push(m)}u=new Pn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new pv(new ln(a),u,l)}function M2(t,e,n,r=!1){return Bv(n,t.Nu(r?4:3,e))}function Bv(t,e){if(GT(t=nt(t)))return WT("Unsupported field value:",e,t),qT(t,e);if(t instanceof bd)return function(r,i){if(!HT(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Bv(a,i.Fu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ht.fromDate(r);return{timestampValue:ud(i.serializer,o)}}if(r instanceof ht){let o=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ud(i.serializer,o)}}if(r instanceof Wa)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qa)return{bytesValue:pT(i.serializer,r._byteString)};if(r instanceof Rt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:xv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ka)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return Rv(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Fd(r)}`)}(t,e)}function qT(t,e){let n={};return qC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ss(t,(r,i)=>{let o=Bv(i,e.bu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function GT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ht||t instanceof Wa||t instanceof qa||t instanceof Rt||t instanceof bd||t instanceof Ka)}function WT(t,e,n){if(!GT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Fd(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function R2(t,e,n){if((e=nt(e))instanceof Ga)return e._internalPath;if(typeof e=="string")return KT(t,e);throw Cd("Field path arguments must be of type string or ",t,!1,void 0,n)}var x2=new RegExp("[~\\*/\\[\\]]");function KT(t,e,n){if(e.search(x2)>=0)throw Cd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ga(...e.split("."))._internalPath}catch{throw Cd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Cd(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new F(M.INVALID_ARGUMENT,a+t+u)}function N2(t,e){return t.some(n=>n.isEqual(e))}var Td=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new yv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(QT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},yv=class extends Td{data(){return super.data()}};function QT(t,e){return typeof e=="string"?KT(t,e):e instanceof Ga?e._internalPath:e._delegate._internalPath}function P2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new F(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Qa=class{},Sd=class extends Qa{};function Ld(t,e,...n){let r=[];e instanceof Qa&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof _v).length,a=o.filter(u=>u instanceof vv).length;if(s>1||s>0&&a>0)throw new F(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var vv=class t extends Sd{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return JT(e._query,n),new Ni(e.firestore,e.converter,hy(e._query,n))}_parse(e){let n=Uv(e.firestore);return function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new F(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){HC(p,h);let y=[];for(let S of p)y.push($C(u,o,S));m={arrayValue:{values:y}}}else m=$C(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||HC(p,h),m=M2(a,s,p,h==="in"||h==="not-in");return Qe.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var _v=class t extends Qa{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:fn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)JT(s,u),s=hy(s,u)}(e._query,n),new Ni(e.firestore,e.converter,hy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var wv=class t extends Sd{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new Ni(e.firestore,e.converter,id(e._query,this._limit,this._limitType))}};function YT(t){return T2("limit",t),wv._create("limit",t,"F")}function $C(t,e,n){if(typeof(n=nt(n))=="string"){if(n==="")throw new F(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eT(e)&&n.indexOf("/")!==-1)throw new F(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Fe.fromString(n));if(!z.isDocumentKey(r))throw new F(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gC(t,new z(r))}if(n instanceof Rt)return gC(t,n._key);throw new F(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fd(n)}.`)}function HC(t,e){if(!Array.isArray(t)||t.length===0)throw new F(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JT(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new F(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new F(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Iv=class{convertValue(e,n="none"){switch(Si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Oe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw K()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return ss(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Oe(s.doubleValue));return new Ka(o)}convertGeoPoint(e){return new Wa(Oe(e.latitude),Oe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Cv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Va(e));default:return null}}convertTimestamp(e){let n=ur(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Fe.fromString(e);Me(wT(r));let i=new nd(r.get(1),r.get(3)),o=new z(r.popFirst(5));return i.isEqual(n)||cr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function ZT(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var bi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ad=class extends Td{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Go(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(QT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Go=class extends Ad{data(e={}){return super.data(e)}},Ev=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new bi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Go(this._firestore,this._userDataWriter,r.key,r,new bi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Go(i._firestore,i._userDataWriter,a.doc.key,a.doc,new bi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Go(i._firestore,i._userDataWriter,a.doc.key,a.doc,new bi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:O2(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function O2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K()}}function XT(t){t=hr(t,Rt);let e=hr(t.firestore,qr);return D2(jv(e),t._key).then(n=>k2(e,t,n))}var Md=class extends Iv{constructor(e){super(),this.firestore=e}convertBytes(e){return new qa(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,n)}};function Vd(t){t=hr(t,Ni);let e=hr(t.firestore,qr),n=jv(e),r=new Md(e);return P2(t._query),b2(n,t._query).then(i=>new Ev(e,r,t,i))}function Oi(t,e,n){t=hr(t,Rt);let r=hr(t.firestore,qr),i=ZT(t.converter,e,n);return $v(r,[zT(Uv(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ar.none())])}function eS(t){return $v(hr(t.firestore,qr),[new Ua(t._key,ar.none())])}function tS(t,e){let n=hr(t.firestore,qr),r=Vn(t),i=ZT(t.converter,e);return $v(n,[zT(Uv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ar.exists(!1))]).then(()=>r)}function $v(t,e){return function(r,i){let o=new dn;return r.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return h2(yield E2(r),i,o)})),o.promise}(jv(t),e)}function k2(t,e,n){let r=n.docs.get(e._key),i=new Md(t);return new Ad(t,i,e._key,r,new bi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){os=i})(jr),Mt(new rt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new qr(new Gm(r.getProvider("auth-internal")),new Ym(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new F(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nd(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),dt(dC,"4.7.0",e),dt(dC,"4.7.0","esm2017")})();var uS=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(B(di),B(Pr))},e.\u0275dir=kt({type:e});let t=e;return t})(),lS=(()=>{let e=class e extends uS{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=bo(e)))(o||e)}})(),e.\u0275dir=kt({type:e,features:[hi]});let t=e;return t})(),Wv=new W(""),F2={provide:Wv,useExisting:vo(()=>Kv),multi:!0},Kv=(()=>{let e=class e extends lS{writeValue(r){this.setProperty("checked",r)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=bo(e)))(o||e)}})(),e.\u0275dir=kt({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,o){i&1&&we("change",function(a){return o.onChange(a.target.checked)})("blur",function(){return o.onTouched()})},features:[ll([F2]),hi]});let t=e;return t})(),L2={provide:Wv,useExisting:vo(()=>ds),multi:!0};function V2(){let t=tr()?tr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var j2=new W(""),ds=(()=>{let e=class e extends uS{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!V2())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(B(di),B(Pr),B(j2,8))},e.\u0275dir=kt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&we("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[ll([L2]),hi]});let t=e;return t})();var U2=new W(""),B2=new W("");function dS(t){return t!=null}function hS(t){return kr(t)?He(t):t}function fS(t){let e={};return t.forEach(n=>{e=n!=null?O(O({},e),n):e}),Object.keys(e).length===0?null:e}function pS(t,e){return e.map(n=>n(t))}function $2(t){return!t.validate}function gS(t){return t.map(e=>$2(e)?e:n=>e.validate(n))}function H2(t){if(!t)return null;let e=t.filter(dS);return e.length==0?null:function(n){return fS(pS(n,e))}}function mS(t){return t!=null?H2(gS(t)):null}function z2(t){if(!t)return null;let e=t.filter(dS);return e.length==0?null:function(n){let r=pS(n,e).map(hS);return mf(r).pipe(se(fS))}}function yS(t){return t!=null?z2(gS(t)):null}function nS(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function q2(t){return t._rawValidators}function G2(t){return t._rawAsyncValidators}function Hv(t){return t?Array.isArray(t)?t:[t]:[]}function Ud(t,e){return Array.isArray(t)?t.includes(e):t===e}function rS(t,e){let n=Hv(e);return Hv(t).forEach(i=>{Ud(n,i)||n.push(i)}),n}function iS(t,e){return Hv(e).filter(n=>!Ud(t,n))}var Bd=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=mS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=yS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},zv=class extends Bd{get formDirective(){return null}get path(){return null}},ic=class extends Bd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},qv=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},W2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Gq=ue(O({},W2),{"[class.ng-submitted]":"isSubmitted"}),Hd=(()=>{let e=class e extends qv{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(B(ic,2))},e.\u0275dir=kt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&rg("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[hi]});let t=e;return t})();var ec="VALID",jd="INVALID",cs="PENDING",tc="DISABLED",ls=class{},$d=class extends ls{constructor(e,n){super(),this.value=e,this.source=n}},nc=class extends ls{constructor(e,n){super(),this.pristine=e,this.source=n}},rc=class extends ls{constructor(e,n){super(),this.touched=e,this.source=n}},us=class extends ls{constructor(e,n){super(),this.status=e,this.source=n}};function K2(t){return(zd(t)?t.validators:t)||null}function Q2(t){return Array.isArray(t)?mS(t):t||null}function Y2(t,e){return(zd(e)?e.asyncValidators:t)||null}function J2(t){return Array.isArray(t)?yS(t):t||null}function zd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var Gv=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=pl(()=>this.statusReactive()),this.statusReactive=cl(void 0),this._pristine=pl(()=>this.pristineReactive()),this.pristineReactive=cl(!0),this._touched=pl(()=>this.touchedReactive()),this.touchedReactive=cl(!1),this._events=new st,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Cn(this.statusReactive)}set status(e){Cn(()=>this.statusReactive.set(e))}get valid(){return this.status===ec}get invalid(){return this.status===jd}get pending(){return this.status==cs}get disabled(){return this.status===tc}get enabled(){return this.status!==tc}get pristine(){return Cn(this.pristineReactive)}set pristine(e){Cn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Cn(this.touchedReactive)}set touched(e){Cn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(rS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(rS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(iS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(iS(e,this._rawAsyncValidators))}hasValidator(e){return Ud(this._rawValidators,e)}hasAsyncValidator(e){return Ud(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ue(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new rc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new rc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ue(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new nc(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new nc(!0,r))}markAsPending(e={}){this.status=cs;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new us(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ue(O({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=tc,this.errors=null,this._forEachChild(i=>{i.disable(ue(O({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new $d(this.value,r)),this._events.next(new us(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ue(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ec,this._forEachChild(r=>{r.enable(ue(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ue(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ec||this.status===cs)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new $d(this.value,n)),this._events.next(new us(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ue(O({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?tc:ec}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=cs,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=hS(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new us(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new ke,this.statusChanges=new ke}_calculateStatus(){return this._allControlsDisabled()?tc:this.errors?jd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(cs)?cs:this._anyControlsHaveStatus(jd)?jd:ec}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new nc(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new rc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){zd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Q2(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=J2(this._rawAsyncValidators)}};var vS=new W("CallSetDisabledState",{providedIn:"root",factory:()=>Qv}),Qv="always";function Z2(t,e){return[...e.path,t]}function X2(t,e,n=Qv){tj(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),nj(t,e),ij(t,e),rj(t,e),ej(t,e)}function oS(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function ej(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function tj(t,e){let n=q2(t);e.validator!==null?t.setValidators(nS(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=G2(t);e.asyncValidator!==null?t.setAsyncValidators(nS(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();oS(e._rawValidators,i),oS(e._rawAsyncValidators,i)}function nj(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&_S(t,e)})}function rj(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&_S(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function _S(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ij(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function oj(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function sj(t){return Object.getPrototypeOf(t.constructor)===lS}function aj(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===ds?n=o:sj(o)?r=o:i=o}),i||r||n||null}function sS(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function aS(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var cj=class extends Gv{constructor(e=null,n,r){super(K2(n),Y2(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(aS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){sS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){sS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){aS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var uj={provide:ic,useExisting:vo(()=>oc)},cS=Promise.resolve(),oc=(()=>{let e=class e extends ic{constructor(r,i,o,s,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new cj,this._registered=!1,this.name="",this.update=new ke,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=aj(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),oj(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){X2(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){cS.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&fl(i);cS.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?Z2(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(B(zv,9),B(U2,10),B(B2,10),B(Wv,10),B(Fr,8),B(vS,8))},e.\u0275dir=kt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ll([uj]),hi,Eo]});let t=e;return t})();var lj=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=wo({type:e}),e.\u0275inj=_o({});let t=e;return t})();var qd=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:vS,useValue:r.callSetDisabledState??Qv}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=wo({type:e}),e.\u0275inj=_o({imports:[lj]});let t=e;return t})();var sc={prod:!0,logging:!1,firebaseConfig:{apiKey:"AIzaSyCKKFA4iBcqm_RaojG8mBCIwRwiP_caKCE",authDomain:"impulse-develop.firebaseapp.com",projectId:"impulse-develop",storageBucket:"impulse-develop.appspot.com",messagingSenderId:"946243191276",appId:"1:946243191276:web:eed8ce767fa1d458aa40c9",measurementId:"G-BDL31YG14K"}};var ye=class{static log(...e){sc!=null&&sc.logging==!0&&console.log(...e)}};var dj="firebase",hj="10.13.0";dt(dj,hj,"app");var DS="@firebase/installations",Xv="0.6.8";var bS=1e4,CS=`w:${Xv}`,TS="FIS_v2",fj="https://firebaseinstallations.googleapis.com/v1",pj=60*60*1e3,gj="installations",mj="Installations";var yj={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Fi=new Ut(gj,mj,yj);function SS(t){return t instanceof lt&&t.code.includes("request-failed")}function AS({projectId:t}){return`${fj}/projects/${t}/installations`}function MS(t){return{token:t.token,requestStatus:2,expiresIn:_j(t.expiresIn),creationTime:Date.now()}}function RS(t,e){return _(this,null,function*(){let r=(yield e.json()).error;return Fi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function xS({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function vj(t,{refreshToken:e}){let n=xS(t);return n.append("Authorization",wj(e)),n}function NS(t){return _(this,null,function*(){let e=yield t();return e.status>=500&&e.status<600?t():e})}function _j(t){return Number(t.replace("s","000"))}function wj(t){return`${TS} ${t}`}function Ij(r,i){return _(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){let o=AS(t),s=xS(t),a=e.getImmediate({optional:!0});if(a){let p=yield a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}let u={fid:n,authVersion:TS,appId:t.appId,sdkVersion:CS},l={method:"POST",headers:s,body:JSON.stringify(u)},h=yield NS(()=>fetch(o,l));if(h.ok){let p=yield h.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:MS(p.authToken)}}else throw yield RS("Create Installation",h)})}function PS(t){return new Promise(e=>{setTimeout(e,t)})}function Ej(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}var Dj=/^[cdef][\w-]{21}$/,Zv="";function bj(){try{let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let n=Cj(t);return Dj.test(n)?n:Zv}catch{return Zv}}function Cj(t){return Ej(t).substr(0,22)}function Wd(t){return`${t.appName}!${t.appId}`}var OS=new Map;function kS(t,e){let n=Wd(t);FS(n,e),Tj(n,e)}function FS(t,e){let n=OS.get(t);if(n)for(let r of n)r(e)}function Tj(t,e){let n=Sj();n&&n.postMessage({key:t,fid:e}),Aj()}var ki=null;function Sj(){return!ki&&"BroadcastChannel"in self&&(ki=new BroadcastChannel("[Firebase] FID Change"),ki.onmessage=t=>{FS(t.data.key,t.data.fid)}),ki}function Aj(){OS.size===0&&ki&&(ki.close(),ki=null)}var Mj="firebase-installations-database",Rj=1,Li="firebase-installations-store",Yv=null;function e_(){return Yv||(Yv=Hl(Mj,Rj,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Li)}}})),Yv}function Gd(t,e){return _(this,null,function*(){let n=Wd(t),i=(yield e_()).transaction(Li,"readwrite"),o=i.objectStore(Li),s=yield o.get(n);return yield o.put(e,n),yield i.done,(!s||s.fid!==e.fid)&&kS(t,e.fid),e})}function LS(t){return _(this,null,function*(){let e=Wd(t),r=(yield e_()).transaction(Li,"readwrite");yield r.objectStore(Li).delete(e),yield r.done})}function Kd(t,e){return _(this,null,function*(){let n=Wd(t),i=(yield e_()).transaction(Li,"readwrite"),o=i.objectStore(Li),s=yield o.get(n),a=e(s);return a===void 0?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&kS(t,a.fid),a})}function t_(t){return _(this,null,function*(){let e,n=yield Kd(t.appConfig,r=>{let i=xj(r),o=Nj(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===Zv?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})}function xj(t){let e=t||{fid:bj(),registrationStatus:0};return VS(e)}function Nj(t,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(Fi.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Pj(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Oj(t)}:{installationEntry:e}}function Pj(t,e){return _(this,null,function*(){try{let n=yield Ij(t,e);return Gd(t.appConfig,n)}catch(n){throw SS(n)&&n.customData.serverCode===409?yield LS(t.appConfig):yield Gd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})}function Oj(t){return _(this,null,function*(){let e=yield IS(t.appConfig);for(;e.registrationStatus===1;)yield PS(100),e=yield IS(t.appConfig);if(e.registrationStatus===0){let{installationEntry:n,registrationPromise:r}=yield t_(t);return r||n}return e})}function IS(t){return Kd(t,e=>{if(!e)throw Fi.create("installation-not-found");return VS(e)})}function VS(t){return kj(t)?{fid:t.fid,registrationStatus:0}:t}function kj(t){return t.registrationStatus===1&&t.registrationTime+bS<Date.now()}function Fj(r,i){return _(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},n){let o=Lj(t,n),s=vj(t,n),a=e.getImmediate({optional:!0});if(a){let p=yield a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}let u={installation:{sdkVersion:CS,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(u)},h=yield NS(()=>fetch(o,l));if(h.ok){let p=yield h.json();return MS(p)}else throw yield RS("Generate Auth Token",h)})}function Lj(t,{fid:e}){return`${AS(t)}/${e}/authTokens:generate`}function n_(t,e=!1){return _(this,null,function*(){let n,r=yield Kd(t.appConfig,o=>{if(!jS(o))throw Fi.create("not-registered");let s=o.authToken;if(!e&&Uj(s))return o;if(s.requestStatus===1)return n=Vj(t,e),o;{if(!navigator.onLine)throw Fi.create("app-offline");let a=$j(o);return n=jj(t,a),a}});return n?yield n:r.authToken})}function Vj(t,e){return _(this,null,function*(){let n=yield ES(t.appConfig);for(;n.authToken.requestStatus===1;)yield PS(100),n=yield ES(t.appConfig);let r=n.authToken;return r.requestStatus===0?n_(t,e):r})}function ES(t){return Kd(t,e=>{if(!jS(e))throw Fi.create("not-registered");let n=e.authToken;return Hj(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function jj(t,e){return _(this,null,function*(){try{let n=yield Fj(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Gd(t.appConfig,r),n}catch(n){if(SS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))yield LS(t.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Gd(t.appConfig,r)}throw n}})}function jS(t){return t!==void 0&&t.registrationStatus===2}function Uj(t){return t.requestStatus===2&&!Bj(t)}function Bj(t){let e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+pj}function $j(t){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Hj(t){return t.requestStatus===1&&t.requestTime+bS<Date.now()}function zj(t){return _(this,null,function*(){let e=t,{installationEntry:n,registrationPromise:r}=yield t_(e);return r?r.catch(console.error):n_(e).catch(console.error),n.fid})}function qj(t,e=!1){return _(this,null,function*(){let n=t;return yield Gj(n),(yield n_(n,e)).token})}function Gj(t){return _(this,null,function*(){let{registrationPromise:e}=yield t_(t);e&&(yield e)})}function Wj(t){if(!t||!t.options)throw Jv("App Configuration");if(!t.name)throw Jv("App Name");let e=["projectId","apiKey","appId"];for(let n of e)if(!t.options[n])throw Jv(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Jv(t){return Fi.create("missing-app-config-values",{valueName:t})}var US="installations",Kj="installations-internal",Qj=t=>{let e=t.getProvider("app").getImmediate(),n=Wj(e),r=un(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Yj=t=>{let e=t.getProvider("app").getImmediate(),n=un(e,US).getImmediate();return{getId:()=>zj(n),getToken:i=>qj(n,i)}};function Jj(){Mt(new rt(US,Qj,"PUBLIC")),Mt(new rt(Kj,Yj,"PRIVATE"))}Jj();dt(DS,Xv);dt(DS,Xv,"esm2017");var Qd="analytics",Zj="firebase_id",Xj="origin",eU=60*1e3,tU="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",u_="https://www.googletagmanager.com/gtag/js";var xt=new Mn("@firebase/analytics");var nU={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},$t=new Ut("analytics","Analytics",nU);function rU(t){if(!t.startsWith(u_)){let e=$t.create("invalid-gtag-resource",{gtagURL:t});return xt.warn(e.message),""}return t}function WS(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function iU(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function oU(t,e){let n=iU("firebase-js-sdk-policy",{createScriptURL:rU}),r=document.createElement("script"),i=`${u_}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function sU(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function aU(t,e,n,r,i,o){return _(this,null,function*(){let s=r[i];try{if(s)yield e[s];else{let u=(yield WS(n)).find(l=>l.measurementId===i);u&&(yield e[u.appId])}}catch(a){xt.error(a)}t("config",i,o)})}function cU(t,e,n,r,i){return _(this,null,function*(){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);let a=yield WS(n);for(let u of s){let l=a.find(p=>p.measurementId===u),h=l&&e[l.appId];if(h)o.push(h);else{o=[];break}}}o.length===0&&(o=Object.values(e)),yield Promise.all(o),t("event",r,i||{})}catch(o){xt.error(o)}})}function uU(t,e,n,r){function i(o,...s){return _(this,null,function*(){try{if(o==="event"){let[a,u]=s;yield cU(t,e,n,a,u)}else if(o==="config"){let[a,u]=s;yield aU(t,e,n,r,a,u)}else if(o==="consent"){let[a,u]=s;t("consent",a,u)}else if(o==="get"){let[a,u,l]=s;t("get",a,u,l)}else if(o==="set"){let[a]=s;t("set",a)}else t(o,...s)}catch(a){xt.error(a)}})}return i}function lU(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=uU(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function dU(t){let e=window.document.getElementsByTagName("script");for(let n of Object.values(e))if(n.src&&n.src.includes(u_)&&n.src.includes(t))return n;return null}var hU=30,fU=1e3,i_=class{constructor(e={},n=fU){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}},KS=new i_;function pU(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function gU(t){return _(this,null,function*(){var e;let{appId:n,apiKey:r}=t,i={method:"GET",headers:pU(r)},o=tU.replace("{app-id}",n),s=yield fetch(o,i);if(s.status!==200&&s.status!==304){let a="";try{let u=yield s.json();!((e=u.error)===null||e===void 0)&&e.message&&(a=u.error.message)}catch{}throw $t.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})}function mU(r){return _(this,arguments,function*(t,e=KS,n){let{appId:i,apiKey:o,measurementId:s}=t.options;if(!i)throw $t.create("no-app-id");if(!o){if(s)return{measurementId:s,appId:i};throw $t.create("no-api-key")}let a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new o_;return setTimeout(()=>_(this,null,function*(){u.abort()}),n!==void 0?n:eU),QS({appId:i,apiKey:o,measurementId:s},a,u,e)})}function QS(o,s,a){return _(this,arguments,function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=KS){var u;let{appId:l,measurementId:h}=t;try{yield yU(r,e)}catch(p){if(h)return xt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:l,measurementId:h};throw p}try{let p=yield gU(t);return i.deleteThrottleMetadata(l),p}catch(p){let m=p;if(!vU(m)){if(i.deleteThrottleMetadata(l),h)return xt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:l,measurementId:h};throw p}let y=Number((u=m?.customData)===null||u===void 0?void 0:u.httpStatus)===503?ym(n,i.intervalMillis,hU):ym(n,i.intervalMillis),S={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return i.setThrottleMetadata(l,S),xt.debug(`Calling attemptFetch again in ${y} millis`),QS(t,S,r,i)}})}function yU(t,e){return new Promise((n,r)=>{let i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r($t.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function vU(t){if(!(t instanceof lt)||!t.customData)return!1;let e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var o_=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}};var s_;function _U(t,e,n,r,i){return _(this,null,function*(){if(i&&i.global){t("event",n,r);return}else{let o=yield e,s=Object.assign(Object.assign({},r),{send_to:o});t("event",n,s)}})}var a_;function wU(t){a_=t}function IU(t){s_=t}function EU(){return _(this,null,function*(){if(Aa())try{yield Ul()}catch(t){return xt.warn($t.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return xt.warn($t.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function DU(t,e,n,r,i,o,s){return _(this,null,function*(){var a;let u=mU(t);u.then(y=>{n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&xt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>xt.error(y)),e.push(u);let l=EU().then(y=>{if(y)return r.getId()}),[h,p]=yield Promise.all([u,l]);dU(o)||oU(o,h.measurementId),a_&&(i("consent","default",a_),wU(void 0)),i("js",new Date);let m=(a=s?.config)!==null&&a!==void 0?a:{};return m[Xj]="firebase",m.update=!0,p!=null&&(m[Zj]=p),i("config",h.measurementId,m),s_&&(i("set",s_),IU(void 0)),h.measurementId})}var c_=class{constructor(e){this.app=e}_delete(){return delete ac[this.app.options.appId],Promise.resolve()}},ac={},BS=[],$S={},r_="dataLayer",bU="gtag",HS,YS,zS=!1;function CU(){let t=[];if(jl()&&t.push("This is a browser extension environment."),Wb()||t.push("Cookies are not available."),t.length>0){let e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=$t.create("invalid-analytics-context",{errorInfo:e});xt.warn(n.message)}}function TU(t,e,n){CU();let r=t.options.appId;if(!r)throw $t.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)xt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw $t.create("no-api-key");if(ac[r]!=null)throw $t.create("already-exists",{id:r});if(!zS){sU(r_);let{wrappedGtag:o,gtagCore:s}=lU(ac,BS,$S,r_,bU);YS=o,HS=s,zS=!0}return ac[r]=DU(t,BS,$S,e,HS,r_,n),new c_(t)}function JS(t=Ii()){t=nt(t);let e=un(t,Qd);return e.isInitialized()?e.getImmediate():SU(t)}function SU(t,e={}){let n=un(t,Qd);if(n.isInitialized()){let i=n.getImmediate();if(ir(e,n.getOptions()))return i;throw $t.create("already-initialized")}return n.initialize({options:e})}function l_(t,e,n,r){t=nt(t),_U(YS,ac[t.app.options.appId],e,n,r).catch(i=>xt.error(i))}var qS="@firebase/analytics",GS="0.10.7";function AU(){Mt(new rt(Qd,(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return TU(r,i,n)},"PUBLIC")),Mt(new rt("analytics-internal",t,"PRIVATE")),dt(qS,GS),dt(qS,GS,"esm2017");function t(e){try{let n=e.getProvider(Qd).getImmediate();return{logEvent:(r,i,o)=>l_(n,r,i,o)}}catch(n){throw $t.create("interop-component-reg-failed",{reason:n})}}}AU();var hs=class t{app;analytics;constructor(){ye.log("FirebaseService: Init",this),this.app=Nm(sc.firebaseConfig),this.analytics=JS(this.app),ye.log("FirebaseService: Init Complete",this)}log(e,n=null){let r={url:window.location.href,device:window.navigator.userAgent,timestamp:new Date().toISOString(),event:e};n&&(r.data=n),ye.log("FirebaseService: Sending Event to Analytics: ",e,r),l_(this.analytics,e,r)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};var jn=class t{constructor(e){this.firebase=e;ye.log("FirestoreService: Init",this),this.firestore=BT(this.firebase.app),ye.log("FirestoreService: Init Complete",this)}firestore;data={};read(r){return _(this,arguments,function*(e,n={order:"order",start:1,end:100,limit:100}){ye.log("FirestoreService: read:: ",e,n);let i=Kt(this.firestore,e),o=Ld(i,YT(n.limit)),s=[];return(yield Vd(o)).forEach(u=>{let l=u.data();l.id=u.id,s.push(l)}),s.sort((u,l)=>u.order-l.order),Promise.resolve(s)})}static \u0275fac=function(n){return new(n||t)(J(hs))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};function MU(t,e){if(t&1){let n=Ft();L(0,"tr")(1,"td"),ce(2),j(),L(3,"td")(4,"i",10),we("click",function(){let i=je(n).$implicit,o=Ie();return Ue(o.edit(i))}),ce(5,"edit"),j()()()}if(t&2){let n=e.$implicit;ge(2),fi(n.id)}}function RU(t,e){if(t&1){let n=Ft();L(0,"div",11)(1,"div",12)(2,"div",13)(3,"div",14)(4,"h4",15),ce(5,"Document Data"),j(),L(6,"button",16),we("click",function(){je(n);let i=Ie();return Ue(i.document=void 0)}),j()(),L(7,"div",17)(8,"div",18)(9,"div",19)(10,"textarea",20),bn("ngModelChange",function(i){je(n);let o=Ie();return er(o.data,i)||(o.data=i),Ue(i)}),j()()()(),L(11,"div",21)(12,"i",22),we("click",function(){je(n);let i=Ie();return Ue(i.save())}),ce(13,"save"),j(),L(14,"i",23),we("click",function(){je(n);let i=Ie();return Ue(i.delete())}),ce(15,"delete"),j()()()()()}if(t&2){let n=Ie();ge(10),Dn("ngModel",n.data)}}var Jd=class t{constructor(e){this.firestore=e}key;document;data;documents=[];edit(e){this.document=e,this.data=JSON.stringify(this.document?.data(),null,1)}fetch(){if(!this.key)return;this.documents=[];let e=Kt(this.firestore.firestore,this.key),n=Ld(e);Vd(n).then(r=>{r.forEach(i=>{this.documents.push(i)})})}save(){return _(this,null,function*(){if(this.data&&!(!this.key||!this.document)){var e=void 0;try{e=JSON.parse(this.data)}catch(n){console.error(n),alert("Error while parsing document data, please check and retry");return}this.document?.id?(yield Oi(Vn(Kt(this.firestore.firestore,this.key),this.document?.id),e),alert("Document Updated.")):e.id?(yield Oi(Vn(Kt(this.firestore.firestore,this.key),e.id),e),alert("Document Added.")):(yield tS(Kt(this.firestore.firestore,this.key),e),alert("Document Added.")),this.document=void 0}})}delete(){return _(this,null,function*(){this.data&&(!this.key||!this.document||(yield eS(Vn(Kt(this.firestore.firestore,this.key),this.document?.id)),this.document=void 0))})}static \u0275fac=function(n){return new(n||t)(B(jn))};static \u0275cmp=xe({type:t,selectors:[["app-admin"]],standalone:!0,features:[Pe],decls:24,vars:3,consts:[[1,"row","m-0"],[1,"mt-3","col-6","text-end"],["type","text","placeholder","Collection",3,"ngModelChange","ngModel"],[1,"mt-3","col-6"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"p-3"],[1,"table"],[4,"ngFor","ngForOf"],[1,"material-icons","mx-2","text-info","pointer",3,"click"],["class","modal extended",4,"ngIf"],[1,"m-2","material-icons","pointer",3,"click"],[1,"modal","extended"],[1,"modal-dialog","modal-fullscreen"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","my-2"],["rows","15",1,"form-control","x",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"m-2","text-primary","material-icons","pointer",3,"click"],[1,"m-2","text-danger","material-icons","pointer",3,"click"]],template:function(n,r){n&1&&(L(0,"div",0)(1,"div",1)(2,"input",2),bn("ngModelChange",function(o){return er(r.key,o)||(r.key=o),o}),j()(),L(3,"div",3)(4,"button",4),we("click",function(){return r.fetch()}),ce(5,"Fetch"),j()()(),L(6,"div",0)(7,"div",5)(8,"table",6)(9,"thead")(10,"tr")(11,"th"),ce(12,"Document Key"),j(),L(13,"th"),ce(14,"Action"),j()()(),L(15,"tbody"),ct(16,MU,6,1,"tr",7),L(17,"tr")(18,"th"),ce(19,"Add New Document"),j(),L(20,"th")(21,"i",8),we("click",function(){return r.edit({})}),ce(22,"add"),j()()()()()()(),ct(23,RU,16,1,"div",9)),n&2&&(ge(2),Dn("ngModel",r.key),ge(14),Te("ngForOf",r.documents),ge(7),Te("ngIf",r.document))},dependencies:[qd,ds,Hd,oc,Mo,Tn],styles:[".modal.extended[_ngcontent-%COMP%]{display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#fffaf0}"]})};var d_=(t,e)=>{let n,r=sessionStorage.getItem("user");return r!=null&&(n=JSON.parse(r)),e.url.includes("admin")&&(n==null||n.role!="ADMIN")?(k(et).navigate(["/unauthorized"]),!1):!0};function fA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var pA=fA,gA=new Ut("auth","Firebase",fA());var rh=new Mn("@firebase/auth");function xU(t,...e){rh.logLevel<=de.WARN&&rh.warn(`Auth (${jr}): ${t}`,...e)}function Xd(t,...e){rh.logLevel<=de.ERROR&&rh.error(`Auth (${jr}): ${t}`,...e)}function $n(t,...e){throw M_(t,...e)}function pn(t,...e){return M_(t,...e)}function A_(t,e,n){let r=Object.assign(Object.assign({},pA()),{[e]:n});return new Ut("auth","Firebase",r).create(e,{appName:t.name})}function Vi(t){return A_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function NU(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&$n(t,"argument-error"),A_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function M_(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return gA.create(t,...e)}function Q(t,e,...n){if(!t)throw M_(e,...n)}function fr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Xd(e),new Error(e)}function gr(t,e){t||fr(e)}function p_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function PU(){return XS()==="http:"||XS()==="https:"}function XS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function OU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PU()||jl()||"connection"in navigator)?navigator.onLine:!0}function kU(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ji=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,gr(n>e,"Short delay should be less than long delay!"),this.isMobile=Hb()||zb()}get(){return OU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function R_(t,e){gr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var ih=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var FU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var LU=new ji(3e4,6e4);function x_(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function gs(o,s,a,u){return _(this,arguments,function*(t,e,n,r,i={}){return mA(t,i,()=>_(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=jo(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),ih.fetch()(yA(t,t.config.apiHost,n,p),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},l))}))})}function mA(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},FU),e);try{let i=new g_(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Zd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zd(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Zd(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Zd(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw A_(t,h,l);$n(t,h)}}catch(i){if(i instanceof lt)throw i;$n(t,"network-request-failed",{message:String(i)})}})}function VU(o,s,a,u){return _(this,arguments,function*(t,e,n,r,i={}){let l=yield gs(t,e,n,r,i);return"mfaPendingCredential"in l&&$n(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function yA(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?R_(t.config,i):`${t.config.apiScheme}://${i}`}var g_=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pn(this.auth,"network-request-failed")),LU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Zd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=pn(t,e,r);return i.customData._tokenResponse=n,i}function jU(t,e){return _(this,null,function*(){return gs(t,"POST","/v1/accounts:delete",e)})}function vA(t,e){return _(this,null,function*(){return gs(t,"POST","/v1/accounts:lookup",e)})}function cc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function _A(t,e=!1){return _(this,null,function*(){let n=nt(t),r=yield n.getIdToken(e),i=N_(r);Q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:cc(h_(i.auth_time)),issuedAtTime:cc(h_(i.iat)),expirationTime:cc(h_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function h_(t){return Number(t)*1e3}function N_(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Xd("JWT malformed, contained fewer than 3 sections"),null;try{let i=fm(n);return i?JSON.parse(i):(Xd("Failed to decode base64 JWT payload"),null)}catch(i){return Xd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function eA(t){let e=N_(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function lc(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof lt&&UU(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function UU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var m_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var dc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cc(this.lastLoginAt),this.creationTime=cc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function oh(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield lc(t,vA(n,{idToken:r}));Q(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?IA(o.providerUserInfo):[],a=BU(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new dc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function wA(t){return _(this,null,function*(){let e=nt(t);yield oh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function BU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function IA(t){return t.map(e=>{var{providerId:n}=e,r=Qc(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function $U(t,e){return _(this,null,function*(){let n=yield mA(t,{},()=>_(this,null,function*(){let r=jo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yA(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ih.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function HU(t,e){return _(this,null,function*(){return gs(t,"POST","/v2/accounts:revokeToken",x_(t,e))})}var uc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Q(e.length!==0,"internal-error");let n=eA(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield $U(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(Q(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Q(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Q(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return fr("not implemented")}};function Gr(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ps=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Qc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new m_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new dc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield lc(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return _A(this,e)}reload(){return wA(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield oh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(xn(this.auth.app))return Promise.reject(Vi(this.auth));let e=yield this.getIdToken();return yield lc(this,jU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=n.photoURL)!==null&&s!==void 0?s:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,V=(l=n.createdAt)!==null&&l!==void 0?l:void 0,G=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:H,emailVerified:fe,isAnonymous:Le,providerData:ne,stsTokenManager:D}=n;Q(H&&D,e,"internal-error");let v=uc.fromJSON(this.name,D);Q(typeof H=="string",e,"internal-error"),Gr(p,e.name),Gr(m,e.name),Q(typeof fe=="boolean",e,"internal-error"),Q(typeof Le=="boolean",e,"internal-error"),Gr(y,e.name),Gr(S,e.name),Gr(x,e.name),Gr(R,e.name),Gr(V,e.name),Gr(G,e.name);let w=new t({uid:H,auth:e,email:m,emailVerified:fe,displayName:p,isAnonymous:Le,photoURL:S,phoneNumber:y,tenantId:x,stsTokenManager:v,createdAt:V,lastLoginAt:G});return ne&&Array.isArray(ne)&&(w.providerData=ne.map(E=>Object.assign({},E))),R&&(w._redirectEventId=R),w}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new uc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield oh(o),o})}static _fromGetAccountInfoResponse(e,n,r){return _(this,null,function*(){let i=n.users[0];Q(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?IA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new uc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new dc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var tA=new Map;function pr(t){gr(t instanceof Function,"Expected a class definition");let e=tA.get(t);return e?(gr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,tA.set(t,e),e)}var zU=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),y_=zU;function eh(t,e,n){return`firebase:${t}:${e}:${n}`}var sh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=eh(this.userKey,i.apiKey,o),this.fullPersistenceKey=eh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ps._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(pr(y_),e,r);let i=(yield Promise.all(n.map(l=>_(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||pr(y_),s=eh(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p=ps._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>_(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function nA(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(EA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SA(e))return"Blackberry";if(AA(e))return"Webos";if(DA(e))return"Safari";if((e.includes("chrome/")||bA(e))&&!e.includes("edge/"))return"Chrome";if(TA(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function EA(t=tt()){return/firefox\//i.test(t)}function DA(t=tt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bA(t=tt()){return/crios\//i.test(t)}function CA(t=tt()){return/iemobile/i.test(t)}function TA(t=tt()){return/android/i.test(t)}function SA(t=tt()){return/blackberry/i.test(t)}function AA(t=tt()){return/webos/i.test(t)}function P_(t=tt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qU(t=tt()){var e;return P_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function GU(){return qb()&&document.documentMode===10}function MA(t=tt()){return P_(t)||TA(t)||AA(t)||SA(t)||/windows phone/i.test(t)||CA(t)}function RA(t,e=[]){let n;switch(t){case"Browser":n=nA(tt());break;case"Worker":n=`${nA(tt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${jr}/${r}`}var v_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function WU(n){return _(this,arguments,function*(t,e={}){return gs(t,"GET","/v2/passwordPolicy",x_(t,e))})}var KU=6,__=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:KU,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var w_=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ah(this),this.idTokenSubscription=new ah(this),this.beforeStateQueue=new v_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pr(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield sh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield vA(this,{idToken:e}),r=yield ps._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(xn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield oh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=kU()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(xn(this.app))return Promise.reject(Vi(this));let n=e?nt(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return xn(this.app)?Promise.reject(Vi(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return xn(this.app)?Promise.reject(Vi(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(pr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield WU(this),n=new __(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ut("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield HU(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&pr(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=yield sh.create(this,[pr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&xU(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function gh(t){return nt(t)}var ah=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Qb(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var O_={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QU(t){O_=t}function YU(t){return O_.loadJS(t)}function JU(){return O_.gapiScript}function xA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function NA(t,e){let n=un(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(ir(o,e??{}))return i;$n(i,"already-initialized")}return n.initialize({options:e})}function ZU(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(pr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function PA(t,e,n){let r=gh(t);Q(r._canInitEmulator,r,"emulator-config-failed"),Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=OA(e),{host:s,port:a}=XU(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||eB()}function OA(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function XU(t){let e=OA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:rA(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:rA(s)}}}function rA(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function eB(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var hc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fr("not implemented")}_getIdTokenResponse(e){return fr("not implemented")}_linkToIdToken(e,n){return fr("not implemented")}_getReauthenticationResolver(e){return fr("not implemented")}};function fs(t,e){return _(this,null,function*(){return VU(t,"POST","/v1/accounts:signInWithIdp",x_(t,e))})}var tB="http://localhost",ch=class t extends hc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$n("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Qc(n,["providerId","signInMethod"]);if(!r||!i)return null;let s=new t(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let n=this.buildRequest();return fs(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,fs(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,fs(e,n)}buildRequest(){let e={requestUri:tB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=jo(n)}return e}};var fc=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var uh=class extends fc{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var mc=(()=>{class t extends uh{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return ch._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();var pc=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(this,null,function*(){let o=yield ps._fromIdTokenResponse(e,r,i),s=iA(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=iA(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function iA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var I_=class t extends lt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function kA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?I_._fromErrorAndOperation(t,o,e,r):o})}function nB(t,e,n=!1){return _(this,null,function*(){let r=yield lc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return pc._forOperation(t,"link",r)})}function rB(t,e,n=!1){return _(this,null,function*(){let{auth:r}=t;if(xn(r.app))return Promise.reject(Vi(r));let i="reauthenticate";try{let o=yield lc(t,kA(r,i,e,t),n);Q(o.idToken,r,"internal-error");let s=N_(o.idToken);Q(s,r,"internal-error");let{sub:a}=s;return Q(t.uid===a,r,"user-mismatch"),pc._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&$n(r,"user-mismatch"),o}})}function iB(t,e,n=!1){return _(this,null,function*(){if(xn(t.app))return Promise.reject(Vi(t));let r="signIn",i=yield kA(t,r,e),o=yield pc._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function FA(t,e,n,r){return nt(t).onIdTokenChanged(e,n,r)}function LA(t,e,n){return nt(t).beforeAuthStateChanged(e,n)}function k_(t){return nt(t).signOut()}var lh="__sak";var dh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lh,"1"),this.storage.removeItem(lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var oB=1e3,sB=10,aB=(()=>{class t extends dh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MA(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);GU()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,sB):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},oB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return _(this,null,function*(){yield wr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return _(this,null,function*(){let r=yield wr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return _(this,null,function*(){yield wr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),VA=aB;var cB=(()=>{class t extends dh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),F_=cB;function uB(t){return Promise.all(t.map(e=>_(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var lB=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield uB(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function L_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var E_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=L_("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Bn(){return window}function dB(t){Bn().location.href=t}function jA(){return typeof Bn().WorkerGlobalScope<"u"&&typeof Bn().importScripts=="function"}function hB(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function fB(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function pB(){return jA()?self:null}var UA="firebaseLocalStorageDb",gB=1,hh="firebaseLocalStorage",BA="fbase_key",Ui=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function mh(t,e){return t.transaction([hh],e?"readwrite":"readonly").objectStore(hh)}function mB(){let t=indexedDB.deleteDatabase(UA);return new Ui(t).toPromise()}function D_(){let t=indexedDB.open(UA,gB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(hh,{keyPath:BA})}catch(i){n(i)}}),t.addEventListener("success",()=>_(this,null,function*(){let r=t.result;r.objectStoreNames.contains(hh)?e(r):(r.close(),yield mB(),e(yield D_()))}))})}function oA(t,e,n){return _(this,null,function*(){let r=mh(t,!0).put({[BA]:e,value:n});return new Ui(r).toPromise()})}function yB(t,e){return _(this,null,function*(){let n=mh(t,!1).get(e),r=yield new Ui(n).toPromise();return r===void 0?null:r.value})}function sA(t,e){let n=mh(t,!0).delete(e);return new Ui(n).toPromise()}var vB=800,_B=3,wB=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield D_(),this.db)})}_withRetries(n){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>_B)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return jA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=lB._getInstance(pB()),this.receiver._subscribe("keyChanged",(n,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,r;if(this.activeServiceWorker=yield hB(),!this.activeServiceWorker)return;this.sender=new E_(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||fB()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield D_();return yield oA(n,lh,"1"),yield sA(n,lh),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>oA(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let r=yield this._withRetries(i=>yB(i,n));return this.localCache[n]=r,r})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>sA(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(o=>{let s=mh(o,!1).getAll();return new Ui(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),vB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),$A=wB;var W5=xA("rcb"),K5=new ji(3e4,6e4);function HA(t,e){return e?pr(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var gc=class extends hc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fs(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function IB(t){return iB(t.auth,new gc(t),t.bypassAuthState)}function EB(t){let{auth:e,user:n}=t;return Q(n,e,"internal-error"),rB(n,new gc(t),t.bypassAuthState)}function DB(t){return _(this,null,function*(){let{auth:e,user:n}=t;return Q(n,e,"internal-error"),nB(n,new gc(t),t.bypassAuthState)})}var fh=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IB;case"linkViaPopup":case"linkViaRedirect":return DB;case"reauthViaPopup":case"reauthViaRedirect":return EB;default:$n(this.auth,"internal-error")}}resolve(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var bB=new ji(2e3,1e4);function V_(t,e,n){return _(this,null,function*(){if(xn(t.app))return Promise.reject(pn(t,"operation-not-supported-in-this-environment"));let r=gh(t);NU(t,e,fc);let i=HA(r,n);return new CB(r,"signInViaPopup",e,i).executeNotNull()})}var CB=(()=>{class t extends fh{constructor(n,r,i,o,s){super(n,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return _(this,null,function*(){let n=yield this.execute();return Q(n,this.auth,"internal-error"),n})}onExecution(){return _(this,null,function*(){gr(this.filter.length===1,"Popup operations only handle one event");let n=L_();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,bB.get())};n()}}t.currentPopupAction=null;return t})(),TB="pendingRedirect",th=new Map,b_=class t extends fh{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=th.get(this.auth._key());if(!e){try{let r=(yield SB(this.resolver,this.auth))?yield wr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}th.set(this.auth._key(),e)}return this.bypassAuthState||th.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return wr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,wr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function SB(t,e){return _(this,null,function*(){let n=RB(e),r=MB(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function AB(t,e){th.set(t._key(),e)}function MB(t){return pr(t._redirectPersistence)}function RB(t){return eh(TB,t.config.apiKey,t.name)}function xB(t,e,n=!1){return _(this,null,function*(){if(xn(t.app))return Promise.reject(Vi(t));let r=gh(t),i=HA(r,e),s=yield new b_(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var NB=10*60*1e3,C_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!zA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(pn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NB&&this.cachedEventUids.clear(),this.cachedEventUids.has(aA(e))}saveEventToCache(e){this.cachedEventUids.add(aA(e)),this.lastProcessedEventTime=Date.now()}};function aA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function PB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zA(t);default:return!1}}function OB(n){return _(this,arguments,function*(t,e={}){return gs(t,"GET","/v1/projects",e)})}var kB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FB=/^https?/;function LB(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield OB(t);for(let n of e)try{if(VB(n))return}catch{}$n(t,"unauthorized-domain")})}function VB(t){let e=p_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!FB.test(n))return!1;if(kB.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var jB=new ji(3e4,6e4);function cA(){let t=Bn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function UB(t){return new Promise((e,n)=>{var r,i,o;function s(){cA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cA(),n(pn(t,"network-request-failed"))},timeout:jB.get()})}if(!((i=(r=Bn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Bn().gapi)===null||o===void 0)&&o.load)s();else{let a=xA("iframefcb");return Bn()[a]=()=>{gapi.load?s():n(pn(t,"network-request-failed"))},YU(`${JU()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw nh=null,e})}var nh=null;function BB(t){return nh=nh||UB(t),nh}var $B=new ji(5e3,15e3),HB="__/auth/iframe",zB="emulator/auth/iframe",qB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WB(t){let e=t.config;Q(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?R_(e,zB):`https://${t.config.authDomain}/${HB}`,r={apiKey:e.apiKey,appName:t.name,v:jr},i=GB.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${jo(r).slice(1)}`}function KB(t){return _(this,null,function*(){let e=yield BB(t),n=Bn().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:WB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qB,dontclear:!0},r=>new Promise((i,o)=>_(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=pn(t,"network-request-failed"),a=Bn().setTimeout(()=>{o(s)},$B.get());function u(){Bn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var QB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YB=500,JB=600,ZB="_blank",XB="http://localhost",ph=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function e4(t,e,n,r=YB,i=JB){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},QB),{width:r.toString(),height:i.toString(),top:o,left:s}),l=tt().toLowerCase();n&&(a=bA(l)?ZB:n),EA(l)&&(e=e||XB,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,S])=>`${m}${y}=${S},`,"");if(qU(l)&&a!=="_self")return t4(e||"",a),new ph(null);let p=window.open(e||"",a,h);Q(p,t,"popup-blocked");try{p.focus()}catch{}return new ph(p)}function t4(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var n4="__/auth/handler",r4="emulator/auth/handler",i4=encodeURIComponent("fac");function uA(t,e,n,r,i,o){return _(this,null,function*(){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:jr,eventId:i};if(e instanceof fc){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Kb(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof uh){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${i4}=${encodeURIComponent(u)}`:"";return`${o4(t)}?${jo(a).slice(1)}${l}`})}function o4({config:t}){return t.emulator?R_(t,r4):`https://${t.authDomain}/${n4}`}var f_="webStorageSupport",T_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=F_,this._completeRedirectFn=xB,this._overrideRedirectResult=AB}_openPopup(e,n,r,i){return _(this,null,function*(){var o;gr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield uA(e,n,r,p_(),i);return e4(e,s,L_())})}_openRedirect(e,n,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield uA(e,n,r,p_(),i);return dB(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(gr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return _(this,null,function*(){let n=yield KB(e),r=new C_(e);return n.register("authEvent",i=>(Q(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(f_,{type:f_},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[f_];s!==void 0&&n(!!s),$n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=LB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return MA()||DA()||P_()}},qA=T_;var lA="@firebase/auth",dA="1.7.7";var S_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function s4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function a4(t){Mt(new rt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Q(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RA(t)},l=new w_(r,i,o,u);return ZU(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Mt(new rt("auth-internal",e=>{let n=gh(e.getProvider("auth").getImmediate());return(r=>new S_(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),dt(lA,dA,s4(t)),dt(lA,dA,"esm2017")}var c4=5*60,u4=mm("authIdTokenMaxAge")||c4,hA=null,l4=t=>e=>_(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>u4)return;let i=n?.token;hA!==i&&(hA=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function j_(t=Ii()){let e=un(t,"auth");if(e.isInitialized())return e.getImmediate();let n=NA(t,{popupRedirectResolver:qA,persistence:[$A,VA,F_]}),r=mm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=l4(o.toString());LA(n,s,()=>s(n.currentUser)),FA(n,a=>s(a))}}let i=pm("auth");return i&&PA(n,`http://${i}`),n}function d4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}QU({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=pn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",d4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});a4("Browser");var Qt=class t{loading=new $e(!1);count=0;constructor(){ye.log("LoaderService: Init",this),ye.log("LoaderService: Init Complete",this)}show(){this.count++,this.count>0&&this.loading.next(!0)}hide(){this.count--,this.count==0&&this.loading.next(!1)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};var Yt=class t{constructor(e,n,r){this.firebase=e;this.loader=n;this.firestore=r;ye.log("AuthenticationService: Init",this),this.auth=j_(this.firebase.app),this.intialize(),ye.log("AuthenticationService: Init Complete",this)}auth;user;refresh=new ke;intialize(){this.auth.onAuthStateChanged(e=>{if(e==null)this.user=void 0,this.refresh.emit(void 0);else{console.log("AuthenticationService:initialize:: Auth State Changed ",e),this.loader.show();let n=e,r={id:n.uid,email:n.email,name:n.displayName,contact:n.phoneNumber,image:n.photoURL,role:"USER"};this.login(r)}})}login(e){return _(this,null,function*(){let n=Vn(this.firestore.firestore,"users",e.id),r=yield XT(n);if(r.exists()){let i=r.data();console.log("AuthenticationService:login:: Existing User :",i),this.user={id:i.id,name:i.name,email:i.email,contact:i.contact,role:i.role,image:i.image},this.refresh.emit(this.user),sessionStorage.setItem("user",JSON.stringify(this.user)),this.firebase.log("login",this.user),this.loader.hide()}else ye.log("AuthenticationService:login:: Registering new user: "+e.email),this.user=e,yield Oi(Vn(Kt(this.firestore.firestore,"users"),e.id),this.user),ye.log("AuthenticationService:login:: Registered new user: "+e.email),this.refresh.emit(this.user),sessionStorage.setItem("user",JSON.stringify(this.user)),this.firebase.log("sign_up",this.user),this.loader.hide()})}logout(){return _(this,null,function*(){ye.log("AuthenticationService:logout:: Logging out user: "+this.user?.email),this.user=void 0,sessionStorage.clear(),this.firebase.log("logout",this.user),this.refresh.emit(this.user)})}static \u0275fac=function(n){return new(n||t)(J(hs),J(Qt),J(jn))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};var yh=class t{constructor(e,n,r){this.router=e;this.auth=n;this.loader=r;ye.log("LoginComponent: Init",this),this.init(),ye.log("LoginComponent: Init Complete",this)}provider=new mc;init(){var e=sessionStorage.getItem("redirect");sessionStorage.removeItem("redirect"),this.auth.refresh.subscribe(n=>{n!=null?e?(ye.log("LoginComponent: Login Success, Redirecting to ",e),this.router.navigateByUrl(e)):(ye.log("LoginComponent: Login Success, Redirecting to home"),this.router.navigate(["home"])):(ye.log("LoginComponent: Login Failed, Redirecting to home"),this.router.navigate(["home"]))})}login(){this.loader.show(),V_(this.auth.auth,this.provider).then(e=>{let r=mc.credentialFromResult(e)?.accessToken,i=e.user;ye.log("LoginComponent: SignedIn User:",i),this.loader.hide()}).catch(e=>{this.loader.hide();let n=e.code,r=e.message;console.error(e);let i=e.customData.email,o=mc.credentialFromError(e)})}static \u0275fac=function(n){return new(n||t)(B(et),B(Yt),B(Qt))};static \u0275cmp=xe({type:t,selectors:[["app-login"]],standalone:!0,features:[Pe],decls:19,vars:0,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"col-md-12"],[1,"card"],[1,"card-title"],[1,"mb-3"],["type","text","id","username","placeholder","Email ID","required","",1,"form-control"],["type","password","id","password","placeholder","Password","required","",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-block"],[1,"divider","my-4"],["type","button",1,"btn","btn-danger","btn-block",3,"click"],[1,"bi","bi-google","me-2"]],template:function(n,r){n&1&&(L(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),ce(5,"Sign in"),j(),L(6,"form")(7,"div",5),Ne(8,"input",6),j(),L(9,"div",5),Ne(10,"input",7),j(),L(11,"button",8),ce(12,"Login"),j(),L(13,"div",9)(14,"span"),ce(15,"or"),j()(),L(16,"button",10),we("click",function(){return r.login()}),Ne(17,"i",11),ce(18,"Login with Google "),j()()()()()())},styles:['.container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f8f9fa;padding:20px}.card[_ngcontent-%COMP%]{padding:40px;border-radius:8px;border:none;box-shadow:0 4px 12px #0000001a;background-color:#fff;width:100%}.card-title[_ngcontent-%COMP%]{font-size:24px;font-weight:500;color:#202124;margin-bottom:20px;text-align:center}.form-label[_ngcontent-%COMP%]{display:none}.form-control[_ngcontent-%COMP%]{height:40px;padding:10px 20px;font-size:16px;border:1px solid #dadce0;border-radius:4px;background-color:#fff;transition:border-color .3s ease;box-shadow:none}.form-control[_ngcontent-%COMP%]:focus{border-color:#1a73e8;outline:none}[_ngcontent-%COMP%]::placeholder{color:#5f6368;opacity:1}.btn-primary[_ngcontent-%COMP%]{height:44px;border-radius:4px;font-size:16px;font-weight:600;background-color:#1a73e8;border:none;margin-top:20px;width:100%}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#1558c7}.btn-danger[_ngcontent-%COMP%]{height:44px;border-radius:4px;font-size:16px;font-weight:600;background-color:#db4437;border:none;margin-top:20px;width:100%}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c23321}.divider[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center}.divider[_ngcontent-%COMP%]:before, .divider[_ngcontent-%COMP%]:after{content:"";flex:1;border-bottom:1px solid #dadce0}.divider[_ngcontent-%COMP%]:not(:empty):before{margin-right:15px}.divider[_ngcontent-%COMP%]:not(:empty):after{margin-left:15px}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#5f6368;font-size:14px}@media (max-width: 576px){.card[_ngcontent-%COMP%]{padding:30px}.card-title[_ngcontent-%COMP%]{font-size:22px}.form-control[_ngcontent-%COMP%]{height:50px;padding:8px 16px;font-size:15px}.btn-primary[_ngcontent-%COMP%], .btn-danger[_ngcontent-%COMP%]{height:42px;font-size:15px}}']})};var vh=class t{constructor(e,n){this.router=e;this.auth=n;this.auth.refresh.subscribe(r=>{r==null&&this.router.navigate(["home"])})}logout(){k_(this.auth.auth).then(()=>this.auth.logout())}static \u0275fac=function(n){return new(n||t)(B(et),B(Yt))};static \u0275cmp=xe({type:t,selectors:[["app-logout"]],standalone:!0,features:[Pe],decls:7,vars:0,consts:[[1,"row","text-center","p-3"],[1,"col-md-4","col-sm-6","col-xs-12","form"],[2,"font-weight","600","font-size","18px"],[3,"click"]],template:function(n,r){n&1&&(L(0,"div",0)(1,"div",1)(2,"p",2),ce(3," Are you sure you want to log-off? "),Ne(4,"br"),j(),L(5,"button",3),we("click",function(){return r.logout()}),ce(6,"Logout"),j()()())},styles:["img[_ngcontent-%COMP%]{display:block;width:80px;margin:30px auto;box-shadow:0 5px 10px -7px #333;border-radius:50%}.form[_ngcontent-%COMP%]{background-color:#fff;margin:50px auto 10px;padding:30px;border-radius:8px;overflow:hidden;box-shadow:0 2px 10px -3px #333;text-align:center}button[_ngcontent-%COMP%]{border-radius:100px;border:none;background:#719be6;width:50%;padding:10px;color:#fff;box-shadow:0 2px 10px -3px #719be6;display:block;margin:30px auto 10px}"]})};var Hn=class t{constructor(e,n){this.firestore=e;this.loader=n;ye.log("DataService: Init",this),ye.log("DataService: Init Complete",this)}data={};load(){return _(this,null,function*(){let e=["pages","models","rules","menu"];for(var n of e){this.loader.show();let r=window.localStorage.getItem(n),i=yield this.get("config",n),o=window.localStorage.getItem(n+"_refresh_dtm"),s=!0;if(o!=null&&i!=null&&i.refresh!=null&&new Date(o).getTime()>new Date(i.refresh).getTime()&&(s=!1),r==null||s){this.data[n]=yield this.firestore.read(n),this.loader.hide();try{window.localStorage.setItem(n,JSON.stringify(this.data[n])),window.localStorage.setItem(n+"_refresh_dtm",new Date().toISOString())}catch(a){console.error(a)}}else this.data[n]=JSON.parse(r),this.loader.hide()}})}get(e,n){return _(this,null,function*(){let r=null;return this.data[e]==null&&(this.data[e]=yield this.firestore.read(e)),this.data[e]!=null&&Array.isArray(this.data[e])&&(r=this.data[e].filter(i=>i.id==n)[0]),r})}read(e){return this.data[e]}static \u0275fac=function(n){return new(n||t)(J(jn),J(Qt))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};var B_=t=>({a:t});function h4(t,e){if(t&1){let n=Ft();L(0,"button",6),we("click",function(){je(n);let i=Ie(2);return Ue(i.editPageModal=!0)}),L(1,"i",7),ce(2,"edit"),j()()}}function f4(t,e){if(t&1&&(L(0,"div",3)(1,"div",4),ct(2,h4,3,0,"button",5),j()()),t&2){let n=Ie();ge(2),Te("ngIf",n.page)}}function p4(t,e){if(t&1){let n=Ft();L(0,"div",25)(1,"textarea",26),bn("ngModelChange",function(i){je(n);let o=Ie(2);return er(o.page.html,i)||(o.page.html=i),Ue(i)}),j()()}if(t&2){let n=Ie(2);ge(),Dn("ngModel",n.page.html)}}function g4(t,e){if(t&1){let n=Ft();L(0,"div",25)(1,"textarea",26),bn("ngModelChange",function(i){je(n);let o=Ie(2);return er(o.page.script,i)||(o.page.script=i),Ue(i)}),j()()}if(t&2){let n=Ie(2);ge(),Dn("ngModel",n.page.script)}}function m4(t,e){if(t&1){let n=Ft();L(0,"div",25)(1,"textarea",26),bn("ngModelChange",function(i){je(n);let o=Ie(2);return er(o.page.style,i)||(o.page.style=i),Ue(i)}),j()()}if(t&2){let n=Ie(2);ge(),Dn("ngModel",n.page.style)}}function y4(t,e){if(t&1){let n=Ft();L(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"h4",12),ce(5,"Edit Page"),j(),L(6,"button",13),we("click",function(){je(n);let i=Ie();return Ue(i.editPageModal=!1)}),j()(),L(7,"div",14)(8,"div",15)(9,"div",16)(10,"input",17),bn("ngModelChange",function(i){je(n);let o=Ie();return er(o.page.auth,i)||(o.page.auth=i),Ue(i)}),j(),L(11,"label",18),ce(12," Authentication "),j()(),L(13,"div",16)(14,"input",19),bn("ngModelChange",function(i){je(n);let o=Ie();return er(o.page.header,i)||(o.page.header=i),Ue(i)}),j(),L(15,"label",18),ce(16," Header "),j()()(),L(17,"div",15)(18,"div",20)(19,"span",21),we("click",function(){je(n);let i=Ie();return Ue(i.editPageView="html")}),ce(20,"HTML"),j(),L(21,"span",21),we("click",function(){je(n);let i=Ie();return Ue(i.editPageView="script")}),ce(22,"Script"),j(),L(23,"span",21),we("click",function(){je(n);let i=Ie();return Ue(i.editPageView="style")}),ce(24,"Style"),j()()(),L(25,"div",15),ct(26,p4,2,1,"div",22)(27,g4,2,1,"div",22)(28,m4,2,1,"div",22),j()(),L(29,"div",23)(30,"button",24),we("click",function(){je(n);let i=Ie();return Ue(i.save())}),ce(31,"Update"),j()()()()()}if(t&2){let n=Ie();ge(10),Dn("ngModel",n.page.auth),ge(4),Dn("ngModel",n.page.header),ge(5),Te("ngClass",Ao(8,B_,n.editPageView=="html")),ge(2),Te("ngClass",Ao(10,B_,n.editPageView=="script")),ge(2),Te("ngClass",Ao(12,B_,n.editPageView=="style")),ge(3),Te("ngIf",n.editPageView=="html"),ge(),Te("ngIf",n.editPageView=="script"),ge(),Te("ngIf",n.editPageView=="style")}}var ms=class t{constructor(e,n,r,i,o,s){this.router=e;this.route=n;this.data=r;this.user=i;this.loader=o;this.firestore=s;e.events.subscribe(a=>{a instanceof cn&&this.init()})}id;page;editPageModal=!1;editPageView="html";ngOnInit(){this.init()}init(){let e=this.id?this.id:this.route.snapshot.paramMap.get("id");ye.log("Loading Page: "+e),e&&this.refresh(e)}refresh(e){return _(this,null,function*(){var n=yield this.data.get("pages",e);if(n&&n.auth&&this.user.user==null){if(console.log("Redirecting to Login"),this.route.snapshot.url.length>0){let r=[];this.route.snapshot.url.forEach(i=>r.push(i.path)),sessionStorage.setItem("redirect",r.join("/"))}this.router.navigate(["login"])}else n?(this.page=n,n.header||window.postMessage("header"),n.html&&this.updateView(),n.style&&n.style!=""&&this.updateStyle(n.style),n.script&&n.script!=""&&this.updateScript(n.script)):this.router.navigate(["home"])})}updateView(){var e=document.getElementById("3593661b72952004");console.log(e),e&&this.page&&this.page.html&&(e.innerHTML=this.page.html)}updateStyle(e){var n=document.getElementById("3593661b72952004"),r=document.createElement("style");r.innerText=e,n&&n.appendChild(r)}updateScript(e){var n=document.getElementById("3593661b72952004"),r=document.createElement("script");r.innerText=e,n&&n.appendChild(r)}save(){return _(this,null,function*(){this.page&&(this.editPageModal=!1,this.loader.show(),yield Oi(Vn(Kt(this.firestore.firestore,"pages"),this.page.id),this.page),this.loader.hide(),alert("Page Updated"))})}static \u0275fac=function(n){return new(n||t)(B(et),B(An),B(Hn),B(Yt),B(Qt),B(jn))};static \u0275cmp=xe({type:t,selectors:[["app-page"]],inputs:{id:"id"},standalone:!0,features:[Pe],decls:3,vars:2,consts:[["id","3593661b72952004"],["class","floating",4,"ngIf"],["class","modal extended",4,"ngIf"],[1,"floating"],[1,"d-flex","flex-column","bd-highlight","mb-3"],["class","btn btn-warning",3,"click",4,"ngIf"],[1,"btn","btn-warning",3,"click"],[1,"material-icons","pointer"],[1,"modal","extended"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"form-check"],["type","checkbox","id","flexCheck1",1,"form-check-input",3,"ngModelChange","ngModel"],["for","flexCheckDefault",1,"form-check-label"],["type","checkbox","id","flexCheckDefault",1,"form-check-input",3,"ngModelChange","ngModel"],[1,"col-12"],[1,"mx-2","pointer",3,"click","ngClass"],["class","col-12 my-2",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],[1,"col-12","my-2"],["rows","15",1,"form-control","x",3,"ngModelChange","ngModel"]],template:function(n,r){n&1&&(Ne(0,"div",0),ct(1,f4,3,1,"div",1)(2,y4,32,14,"div",2)),n&2&&(ge(),Te("ngIf",r.user.user&&r.user.user.role=="ADMIN"),ge(),Te("ngIf",r.page&&r.editPageModal))},dependencies:[Tn,vl,qd,ds,Kv,Hd,oc],styles:[".floating[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;bottom:60px;right:30px}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50px;width:50px;height:50px;box-shadow:0 .25rem .5rem #000;margin:10px;cursor:pointer;padding:0}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.modal.extended[_ngcontent-%COMP%]{display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#fffaf0}span.a[_ngcontent-%COMP%]{color:#00f;font-weight:700;text-decoration:underline}"]})};var _c=class t{constructor(e){this.router=e;var n=sessionStorage.getItem("redirect");n?(sessionStorage.removeItem("redirect"),this.router.navigateByUrl(n)):this.router.navigateByUrl("")}page="home";static \u0275fac=function(n){return new(n||t)(B(et))};static \u0275cmp=xe({type:t,selectors:[["app-home"]],standalone:!0,features:[Pe],decls:1,vars:1,consts:[[3,"id"]],template:function(n,r){n&1&&Ne(0,"app-page",0),n&2&&Te("id",r.page)},dependencies:[ms]})};function v4(t,e){if(t&1){let n=Ft();L(0,"div",2),we("click",function(){let i=je(n).$implicit,o=Ie();return Ue(o.navigate(i))}),ce(1),j()}if(t&2){let n=e.$implicit;ge(),ul(" ",n.name," ")}}var _h=class t{constructor(e,n){this.data=e;this.router=n}pages=[];ngOnInit(){this.refresh()}refresh(){return _(this,null,function*(){this.pages=yield this.data.read("pages")})}navigate(e){this.router.navigateByUrl("p/"+e.id)}static \u0275fac=function(n){return new(n||t)(B(Hn),B(et))};static \u0275cmp=xe({type:t,selectors:[["app-pages"]],standalone:!0,features:[Pe],decls:2,vars:1,consts:[[1,"row","m-2"],["class","col-12 my-2 border border-1 border-dark bg-info pointer fs-3 text-decoration-underline",3,"click",4,"ngFor","ngForOf"],[1,"col-12","my-2","border","border-1","border-dark","bg-info","pointer","fs-3","text-decoration-underline",3,"click"]],template:function(n,r){n&1&&(L(0,"div",0),ct(1,v4,2,1,"div",1),j()),n&2&&(ge(),Te("ngForOf",r.pages))},dependencies:[Mo]})};var GA=[{path:"",component:_c},{path:"admin",component:Jd,canActivate:[d_]},{path:"pages",component:_h,canActivate:[d_]},{path:"login",component:yh},{path:"logout",component:vh},{path:"home",component:_c},{path:"p/:id",component:ms}];function _4(t){return()=>t.load()}var WA={providers:[RD({eventCoalescing:!0}),Lb(GA),{provide:hl,useFactory:_4,multi:!0,deps:[Hn]}]};function w4(t,e){t&1&&(L(0,"div",1),Ne(1,"div",2),j())}var wh=class t{constructor(e){this.loader=e;this.loading=this.loader.loading}loading;static \u0275fac=function(n){return new(n||t)(B(Qt))};static \u0275cmp=xe({type:t,selectors:[["app-loader"]],standalone:!0,features:[Pe],decls:2,vars:3,consts:[["class","c d-flex align-items-center justify-content-center",4,"ngIf"],[1,"c","d-flex","align-items-center","justify-content-center"],[1,"loader"]],template:function(n,r){n&1&&(ct(0,w4,2,0,"div",0),CD(1,"async")),n&2&&Te("ngIf",TD(1,1,r.loading))},dependencies:[GD,Tn],styles:[".c[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1000;text-align:center;background:#000;opacity:.5}.loader[_ngcontent-%COMP%]{border:15px solid #f3f3f3;border-radius:50%;border-top:15px solid #3498db;width:100px;height:100px;-webkit-animation:_ngcontent-%COMP%_spin 2s linear infinite;animation:_ngcontent-%COMP%_spin 2s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(360deg)}}@-webkit-keyframes _ngcontent-%COMP%_spin{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(360deg)}}"]})};var Ih=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-logo"]],standalone:!0,features:[Pe],decls:10,vars:0,consts:[["width","200","height","80","viewBox","0 0 400 150"],["id","SvgjsG6266","featurekey","rootContainer","transform","matrix(1,0,0,1,0,0)","fill","#f9e1cf"],["y","0","height","1","width","1","opacity","0"],["y","122","width","370","height","5"],["id","SvgjsG6267","featurekey","symbolFeature-0","transform","matrix(1.028017879379319,0,0,1.028017879379319,-5.140089396896595,12.444349912652363)","fill","#fdfaa4"],["xmlns","http://www.w3.org/2000/svg","fill-rule","evenodd","clip-rule","evenodd","d","M5,78.067c0-7.466,0-49.264,0-56.729C5,10.333,11.833,5.333,20.933,5.405  c7.466,0,50.264,0,57.729,0c10.837,0,15.933,7.095,15.933,14.933c0,7.466,0,52.264,0,59.729C94.595,90.333,88.667,95,78.662,95  c-7.466,0-50.263,0-57.729,0C11,95,5,88.667,5,78.067z M23.399,12.872c-7.419,0-10.933,2.466-10.933,9.932  c0,7.466,0,34.865,0,34.865h7.466l7.466-14.933l17.976,20.389l11.889-42.787L73,61l3.5-3.331h10.629c0,0,0-26.399,0-33.865  c0-7.466-2.467-10.932-9.933-10.932H23.399z M71.5,71.875l-13.125-29.25L48.25,77.25L28.399,54.669l-4,10.466H12.466  c0,0,0,4,0,11.467c0,7.466,3.466,10.933,10.933,10.933c7.466,0,44.598,0,52.428,0c7.835,0,11.302-3.467,11.302-10.933  c0-7.467,0-11.467,0-11.467L78.125,65L71.5,71.875z"],["id","SvgjsG6268","featurekey","nameFeature-0","transform","matrix(1.5633774866697607,0,0,1.5633774866697607,111.18704373675078,9.114959226611326)","fill","#fde300"],["_ngcontent-ibt-c17","","d","M0.52 40 c0 0 1.88 -2.4 1.88 -4.76 l0 -18.48 c0 -2.36 -1.88 -4.76 -1.88 -4.76 l11.76 0 s-1.88 2.4 -1.88 4.76 l0 18.48 c0 2.36 1.88 4.76 1.88 4.76 l-11.76 0 z M13.32 40 c0 0 1.88 -2.36 1.88 -4.76 l0 -18.44 c0 -2.4 -1.88 -4.8 -1.88 -4.8 l12.16 0 s-0.454 1.5708 0.23641 4.2232 l3.6836 11.817 l3.6836 -11.817 c0.69 -2.6524 0.23641 -4.2232 0.23641 -4.2232 l12.16 0 s-1.88 2.4 -1.88 4.8 l0 18.44 c0 2.4 1.88 4.76 1.88 4.76 l-10.96 0 s1.88 -2.36 1.88 -4.76 l0 -10.76 l-5 11.92 l-4 0 l-5 -11.92 l0 10.76 c0 2.4 1.88 4.76 1.88 4.76 l-10.96 0 z M26.240000000000002 36.4 c0 0 0.36 -1.88 -0.84 -4.76 l2 4.76 l-1.16 0 z M31.400000000000002 36.4 l2 -4.76 c-1.2 2.88 -0.84 4.76 -0.84 4.76 l-1.16 0 z M46.52 40 c0 0 1.88 -2.4 1.88 -4.76 l0 -18.48 c0 -2.36 -1.88 -4.76 -1.88 -4.76 l12.4 0 c6.6 0 12.24 2.68 12.24 8.88 c0 4.16 -2.08 6.84 -5.2 8.4 c-1.8 0.88 -3.92 1.36 -6.24 1.56 c-0.72 0.08 -2.6 0.08 -3.32 0.08 l0 4.32 c0 2.36 1.88 4.76 1.88 4.76 l-11.76 0 z M56.4 25.6 l1.44 0 c2.84 0 4.96 -1.36 4.96 -3.92 c0 -3 -2.44 -3.96 -5.28 -3.96 l-1.12 0 l0 7.88 z M85.92 40.56 c-6.56 0 -11.56 -3.72 -11.56 -10.56 l0 -13.08 c0 -2.48 -1.88 -4.92 -1.88 -4.92 l11.76 0 s-1.88 2.4 -1.88 4.8 l0 13.2 c0 3.24 1.16 4.72 3.56 4.72 c2.44 0 3.6 -1.48 3.6 -4.72 l0 -13.08 c0 -2.48 -1.88 -4.92 -1.88 -4.92 l11.76 0 s-1.88 2.4 -1.88 4.8 l0 13.2 c0 6.84 -5 10.56 -11.6 10.56 z M100.03999999999999 40 c0 0 1.88 -2.4 1.88 -4.8 l0 -18.44 c0 -2.4 -1.88 -4.76 -1.88 -4.76 l11.76 0 s-1.88 2.36 -1.88 4.76 l0 16.84 l6.04 0 c2.36 0 4.76 -1.88 4.76 -1.88 l0 8.28 l-20.68 0 z M130.12 40.64 c-3.44 0 -8.2 -1.48 -8.2 -1.48 l2.8 -7.96 s1.88 3.8 5.2 3.8 c2.68 0 4.36 -1.16 4.36 -2.92 c0 -3.2 -11.76 -3.3984 -11.76 -11.52 c0 -5.96 4.92 -9.12 11.64 -9.12 c3.32 0 7.36 1.8 7.36 1.8 l-2.76 7.52 s-2.24 -3.96 -4.8 -3.96 c-2.16 0 -3.36 1.36 -3.36 2.68 c0 3.12 12.08 3.64 12.08 11.6 c0 5.92 -5.52 9.56 -12.56 9.56 z M144.00000000000003 40 c0 0 1.88 -2.36 1.88 -4.76 l0 -18.44 c0 -2.4 -1.88 -4.8 -1.88 -4.8 l21.48 0 l0 8.28 s-2.4 -1.88 -4.8 -1.88 l-6.8 0 l0 5.2 l2.8 0 c2.4 0 4.8 -1.88 4.8 -1.88 l0 9.36 s-2.4 -1.88 -4.8 -1.88 l-2.8 0 l0 4.4 l6.8 0 c2.4 0 4.8 -1.88 4.8 -1.88 l0 8.28 l-21.48 0 z"],["id","SvgjsG6269","featurekey","sloganFeature-0","transform","matrix(1.2395395249917074,0,0,1.2395395249917074,109.73635290905752,75.94291572161438)","fill","#f4ee39"],["_ngcontent-ibt-c17","","d","M1.8262 20 l0 -14.111 l2.9297 0 l0 14.111 l-2.9297 0 z M18.037265625 5.888999999999999 l2.9199 0 l0 14.111 l-3.3887 0 l-6.25 -10.088 l0 10.088 l-2.9199 0 l0 -14.111 l3.3496 0 l6.2891 10.029 l0 -10.029 z M32.929203125 8.467 l-5.3711 0 l0 3.2031 l4.6387 0 l0 2.5488 l-4.6387 0 l0 5.7813 l-2.9492 0 l0 -14.111 l8.3203 0 l0 2.5781 z M35.429715625 20 l0 -14.111 l2.9297 0 l0 14.111 l-2.9297 0 z M51.64078125 5.888999999999999 l2.9199 0 l0 14.111 l-3.3887 0 l-6.25 -10.088 l0 10.088 l-2.9199 0 l0 -14.111 l3.3496 0 l6.2891 10.029 l0 -10.029 z M58.21291875 20 l0 -14.111 l2.9297 0 l0 14.111 l-2.9297 0 z M72.968984375 5.888999999999999 l0 2.5781 l-3.3496 0 l0 11.533 l-2.9004 0 l0 -11.533 l-3.3691 0 l0 -2.5781 l9.6191 0 z M83.369375 8.467 l-5.2344 0 l0 3.2031 l4.6387 0 l0 2.5488 l-4.6387 0 l0 3.1934 l5.2344 0 l0 2.5879 l-8.1836 0 l0 -14.111 l8.1836 0 l0 2.5781 z M91.582059375 20 l0 -14.111 l2.9297 0 l0 14.111 l-2.9297 0 z M114.326125 20 l-2.9199 0 l-0.92773 -10.635 l-3.5742 10.635 l-1.8945 0 l-3.5742 -10.635 l-0.9375 10.635 l-2.9297 0 l1.1816 -14.111 l4.1797 0 l3.0078 8.8574 l3.0469 -8.8574 l4.1797 0 z M123.26170625 5.888999999999999 c2.7637 0 4.4824 2.0508 4.4824 4.5605 c0 2.5684 -1.7188 4.4922 -4.4824 4.4922 l-2.9395 0 l0 5.0586 l-2.9297 0 l0 -14.111 l5.8691 0 z M122.77340625 12.4902 c1.4648 0 2.1484 -0.81055 2.1484 -2.0801 c0 -1.2207 -0.68359 -2.0703 -2.1484 -2.0703 l-2.4512 0 l0 4.1504 l2.4512 0 z M139.64890625 20 l-1.0254 -2.9102 l-5.9277 0 l-1.0254 2.9102 l-2.998 0 l5.1953 -14.111 l3.584 0 l5.1953 14.111 l-2.998 0 z M133.55470625 14.6387 l4.209 0 l-2.0996 -5.9863 z M151.015653125 20.19531 c-4.1504 0 -7.2168 -2.8223 -7.2168 -7.2559 s3.0664 -7.2461 7.2168 -7.2461 c3.1445 0 5.6641 1.6113 6.6699 4.2871 l-2.7344 0.99609 c-0.625 -1.6406 -2.1191 -2.5879 -3.9355 -2.5879 c-2.4316 0 -4.2969 1.6992 -4.2969 4.5508 s1.8652 4.5605 4.2969 4.5605 c1.8164 0 3.3105 -0.95703 3.9355 -2.5977 l2.7344 0.99609 c-1.0059 2.6758 -3.5254 4.2969 -6.6699 4.2969 z M168.27171875 5.888999999999999 l0 2.5781 l-3.3496 0 l0 11.533 l-2.9004 0 l0 -11.533 l-3.3691 0 l0 -2.5781 l9.6191 0 z"]],template:function(n,r){n&1&&(d0(),L(0,"svg",0)(1,"g",1),Ne(2,"rect",2)(3,"rect",3),j(),L(4,"g",4),Ne(5,"path",5),j(),L(6,"g",6),Ne(7,"path",7),j(),L(8,"g",8),Ne(9,"path",9),j()())}})};var I4=t=>({active:t});function E4(t,e){if(t&1&&(L(0,"div",4)(1,"h4",6),ce(2),j()()),t&2){let n=Ie();ge(2),fi(n.auth.user.name)}}function D4(t,e){if(t&1){let n=Ft();L(0,"div",7),we("click",function(){let i=je(n).$implicit,o=Ie();return Ue(o.focus(i.route))}),L(1,"i",8),ce(2),j(),L(3,"span",9),ce(4),j()()}if(t&2){let n=e.$implicit,r=Ie();Te("ngClass",Ao(3,I4,r.active=="/"+n.route)),ge(2),fi(n.icon),ge(2),fi(n.name)}}var Eh=class t{constructor(e,n,r,i){this.router=e;this.route=n;this.auth=r;this.data=i;ye.log("MenuComponent: Init",this),this.active=this.router.url,this.user=this.auth.user,this.load(),this.router.events.subscribe(o=>{o instanceof cn&&(this.active=this.router.url)}),this.smenus=i.read("menu"),this.auth.refresh.subscribe(o=>{this.user=o,this.load()}),ye.log("MenuComponent: Init Complete",this)}close=new ke;active="";user;menus=[];smenus=[];load(){this.menus=[],this.menus.push({name:"Home",icon:"home",route:"home"});for(var e in this.smenus){var n=this.smenus[e];(this.user==null&&n.role==null||this.user!=null&&n.role!=null&&n.role.indexOf(this.user.role)>-1)&&this.menus.push({name:this.smenus[e].name,icon:this.smenus[e].icon,route:this.smenus[e].route})}this.user?this.menus.push({name:"Logout",icon:"logout",route:"logout"}):this.menus.push({name:"Login",icon:"login",route:"login"})}focus(e){console.log(e),this.router.navigate([e]),setTimeout(()=>this.close.emit(),100)}static \u0275fac=function(n){return new(n||t)(B(et),B(An),B(Yt),B(Hn))};static \u0275cmp=xe({type:t,selectors:[["app-menu"]],outputs:{close:"close"},standalone:!0,features:[Pe],decls:7,vars:2,consts:[[1,"c"],[1,"text-end"],[1,"material-icons","pointer","m-2",3,"click"],["class","m",4,"ngIf"],[1,"m"],["class","pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[2,"margin-left","10px"],[1,"pointer",3,"click","ngClass"],[1,"material-icons","align-middle","mx-2"],[1,"align-middle"]],template:function(n,r){n&1&&(L(0,"div",0)(1,"div",1)(2,"i",2),we("click",function(){return r.close.emit(!0)}),ce(3,"close"),j()(),ct(4,E4,3,1,"div",3),L(5,"div",4),ct(6,D4,5,5,"div",5),j()()),n&2&&(ge(4),Te("ngIf",r.auth.user),ge(2),Te("ngForOf",r.menus))},dependencies:[Mo,vl,Tn],styles:[".c[_ngcontent-%COMP%]{position:fixed;top:68px;left:0;height:-webkit-fill-available;background-color:#252526;width:200px;z-index:100}.c[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#fff}.c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:10px 20px 10px 15px;margin-bottom:10px;font-size:20px;border-left:5px solid transparent}.c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div.pointer[_ngcontent-%COMP%]:hover, .c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div.pointer.active[_ngcontent-%COMP%]{border-left:5px solid white;background:#696969}"]})};var Dh=class t{$header=new $e(!0);constructor(){app=this}header(e){this.$header.next(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};function C4(t,e){t&1&&(L(0,"i",9),ce(1,"menu"),j())}function T4(t,e){if(t&1&&Ne(0,"img",10),t&2){let n=Ie();ig("src",n.auth.user.image,L0)}}var bh=class t{constructor(e,n){this.app=e;this.auth=n;this.app.$header.subscribe(r=>this.enabled=r)}enabled=!0;menu=!1;home(){window.location.href=window.location.origin}static \u0275fac=function(n){return new(n||t)(B(Dh),B(Yt))};static \u0275cmp=xe({type:t,selectors:[["app-header"]],standalone:!0,features:[Pe],decls:9,vars:3,consts:[[1,"c"],[1,"row","m-0"],[1,"position-absolute","col-2","p-2","m-1"],[1,"btn","btn-default","b",3,"click"],["class","material-icons text-light",4,"ngIf"],[3,"src",4,"ngIf"],[1,"col-12","p-0","text-center"],[3,"click"],[3,"close","hidden"],[1,"material-icons","text-light"],[3,"src"]],template:function(n,r){n&1&&(L(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),we("click",function(){return r.menu=!r.menu}),ct(4,C4,2,0,"i",4)(5,T4,1,1,"img",5),j()(),L(6,"div",6)(7,"app-logo",7),we("click",function(){return r.home()}),j()()()(),L(8,"app-menu",8),we("close",function(){return r.menu=!1}),j()),n&2&&(ge(4),Te("ngIf",!r.auth.user),ge(),Te("ngIf",r.auth.user&&r.auth.user.image),ge(3),Te("hidden",!r.menu))},dependencies:[Ih,Eh,Tn],styles:[".c[_ngcontent-%COMP%]{top:0;position:sticky;height:70px;background:#252526;color:#fff}.c[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:30px}.c[_ngcontent-%COMP%]   .t[_ngcontent-%COMP%]{height:45px;margin:10px 0;font-size:30px;border-right:10px solid #252526;white-space:nowrap;overflow:hidden;display:inline-block;font-weight:500}.c[_ngcontent-%COMP%]   .b[_ngcontent-%COMP%]{padding:0}.c[_ngcontent-%COMP%]   .b[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:50px;height:50px}.c[_ngcontent-%COMP%]   .b[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:5px}.a[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_typetext,_ngcontent-%COMP%_blinkcursor;animation-duration:2s,.5s;animation-timing-function:steps(15),steps(15);animation-delay:.5s,0s;animation-iteration-count:1,8;animation-direction:normal;animation-fill-mode:both}@keyframes _ngcontent-%COMP%_typetext{0%{width:.5rem}to{width:8.5rem}}@keyframes _ngcontent-%COMP%_blinkcursor{0%{border-right-color:#fff}to{border-right-color:#252526}}"]})};var Ch=class t{constructor(e){this.router=e}header=!0;static \u0275fac=function(n){return new(n||t)(B(et))};static \u0275cmp=xe({type:t,selectors:[["app-root"]],standalone:!0,features:[Pe],decls:3,vars:0,template:function(n,r){n&1&&Ne(0,"app-header")(1,"app-loader")(2,"router-outlet")},dependencies:[bh,wh,rm]})};tb(Ch,WA).catch(t=>console.error(t));
