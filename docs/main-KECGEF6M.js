var eR=Object.defineProperty,tR=Object.defineProperties;var nR=Object.getOwnPropertyDescriptors;var tI=Object.getOwnPropertySymbols,rR=Object.getPrototypeOf,iR=Object.prototype.hasOwnProperty,oR=Object.prototype.propertyIsEnumerable,sR=Reflect.get;var nI=(t,e,n)=>e in t?eR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k=(t,e)=>{for(var n in e||={})iR.call(e,n)&&nI(t,n,e[n]);if(tI)for(var n of tI(e))oR.call(e,n)&&nI(t,n,e[n]);return t},he=(t,e)=>tR(t,nR(e));var Er=(t,e,n)=>sR(rR(t),n,e);var _=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});function rI(t,e){return Object.is(t,e)}var Ye=null,$c=!1,Hc=1,Kn=Symbol("SIGNAL");function we(t){let e=Ye;return Ye=t,e}function iI(){return Ye}var js={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function lf(t){if($c)throw new Error("");if(Ye===null)return;Ye.consumerOnSignalRead(t);let e=Ye.nextProducerIndex++;if(Wc(Ye),e<Ye.producerNode.length&&Ye.producerNode[e]!==t&&Vs(Ye)){let n=Ye.producerNode[e];Gc(n,Ye.producerIndexOfThis[e])}Ye.producerNode[e]!==t&&(Ye.producerNode[e]=t,Ye.producerIndexOfThis[e]=Vs(Ye)?cI(t,Ye,e):0),Ye.producerLastReadVersion[e]=t.version}function aR(){Hc++}function oI(t){if(!(Vs(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Hc)){if(!t.producerMustRecompute(t)&&!hf(t)){t.dirty=!1,t.lastCleanEpoch=Hc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Hc}}function sI(t){if(t.liveConsumerNode===void 0)return;let e=$c;$c=!0;try{for(let n of t.liveConsumerNode)n.dirty||cR(n)}finally{$c=e}}function aI(){return Ye?.consumerAllowSignalWrites!==!1}function cR(t){t.dirty=!0,sI(t),t.consumerMarkedDirty?.(t)}function qc(t){return t&&(t.nextProducerIndex=0),we(t)}function df(t,e){if(we(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Vs(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Gc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function hf(t){Wc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(oI(n),r!==n.version))return!0}return!1}function ff(t){if(Wc(t),Vs(t))for(let e=0;e<t.producerNode.length;e++)Gc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function cI(t,e,n){if(uI(t),t.liveConsumerNode.length===0&&lI(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=cI(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Gc(t,e){if(uI(t),t.liveConsumerNode.length===1&&lI(t))for(let r=0;r<t.producerNode.length;r++)Gc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Wc(i),i.producerIndexOfThis[r]=e}}function Vs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Wc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function uI(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function lI(t){return t.producerNode!==void 0}function dI(t){let e=Object.create(uR);e.computation=t;let n=()=>{if(oI(e),lf(e),e.value===zc)throw e.error;return e.value};return n[Kn]=e,n}var cf=Symbol("UNSET"),uf=Symbol("COMPUTING"),zc=Symbol("ERRORED"),uR=he(k({},js),{value:cf,dirty:!0,error:null,equal:rI,producerMustRecompute(t){return t.value===cf||t.value===uf},producerRecomputeValue(t){if(t.value===uf)throw new Error("Detected cycle in computations.");let e=t.value;t.value=uf;let n=qc(t),r;try{r=t.computation()}catch(i){r=zc,t.error=i}finally{df(t,n)}if(e!==cf&&e!==zc&&r!==zc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function lR(){throw new Error}var hI=lR;function fI(){hI()}function pI(t){hI=t}var dR=null;function gI(t){let e=Object.create(yI);e.value=t;let n=()=>(lf(e),e.value);return n[Kn]=e,n}function pf(t,e){aI()||fI(),t.equal(t.value,e)||(t.value=e,hR(t))}function mI(t,e){aI()||fI(),pf(t,e(t.value))}var yI=he(k({},js),{equal:rI,value:void 0});function hR(t){t.version++,aR(),sI(t),dR?.()}function te(t){return typeof t=="function"}function Gi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Kc=Gi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Us(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ze=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(te(r))try{r()}catch(o){e=o instanceof Kc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{vI(o)}catch(s){e=e??[],s instanceof Kc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Kc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)vI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Us(n,e)}remove(e){let{_finalizers:n}=this;n&&Us(n,e),e instanceof t&&e._removeParent(this)}};ze.EMPTY=(()=>{let t=new ze;return t.closed=!0,t})();var gf=ze.EMPTY;function Qc(t){return t instanceof ze||t&&"closed"in t&&te(t.remove)&&te(t.add)&&te(t.unsubscribe)}function vI(t){te(t)?t():t.unsubscribe()}var en={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Wi={setTimeout(t,e,...n){let{delegate:r}=Wi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Wi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Yc(t){Wi.setTimeout(()=>{let{onUnhandledError:e}=en;if(e)e(t);else throw t})}function Bs(){}var _I=mf("C",void 0,void 0);function wI(t){return mf("E",void 0,t)}function II(t){return mf("N",t,void 0)}function mf(t,e,n){return{kind:t,value:e,error:n}}var Xr=null;function Ki(t){if(en.useDeprecatedSynchronousErrorHandling){let e=!Xr;if(e&&(Xr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Xr;if(Xr=null,n)throw r}}else t()}function EI(t){en.useDeprecatedSynchronousErrorHandling&&Xr&&(Xr.errorThrown=!0,Xr.error=t)}var ei=class extends ze{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Qc(e)&&e.add(this)):this.destination=gR}static create(e,n,r){return new Qi(e,n,r)}next(e){this.isStopped?vf(II(e),this):this._next(e)}error(e){this.isStopped?vf(wI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?vf(_I,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},fR=Function.prototype.bind;function yf(t,e){return fR.call(t,e)}var _f=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Jc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Jc(r)}else Jc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Jc(n)}}},Qi=class extends ei{constructor(e,n,r){super();let i;if(te(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&en.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&yf(e.next,o),error:e.error&&yf(e.error,o),complete:e.complete&&yf(e.complete,o)}):i=e}this.destination=new _f(i)}};function Jc(t){en.useDeprecatedSynchronousErrorHandling?EI(t):Yc(t)}function pR(t){throw t}function vf(t,e){let{onStoppedNotification:n}=en;n&&Wi.setTimeout(()=>n(t,e))}var gR={closed:!0,next:Bs,error:pR,complete:Bs};var Yi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ot(t){return t}function wf(...t){return If(t)}function If(t){return t.length===0?Ot:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var be=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=yR(n)?n:new Qi(n,r,i);return Ki(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=DI(r),new r((i,o)=>{let s=new Qi({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Yi](){return this}pipe(...n){return If(n)(this)}toPromise(n){return n=DI(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function DI(t){var e;return(e=t??en.Promise)!==null&&e!==void 0?e:Promise}function mR(t){return t&&te(t.next)&&te(t.error)&&te(t.complete)}function yR(t){return t&&t instanceof ei||mR(t)&&Qc(t)}function Ef(t){return te(t?.lift)}function ye(t){return e=>{if(Ef(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function fe(t,e,n,r,i){return new Df(t,e,n,r,i)}var Df=class extends ei{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ji(){return ye((t,e)=>{let n=null;t._refCount++;let r=fe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Zi=class extends be{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Ef(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ze;let n=this.getSubject();e.add(this.source.subscribe(fe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ze.EMPTY)}return e}refCount(){return Ji()(this)}};var bI=Gi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Je=(()=>{class t extends be{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Zc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new bI}next(n){Ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?gf:(this.currentObservers=null,o.push(n),new ze(()=>{this.currentObservers=null,Us(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new be;return n.source=this,n}}return t.create=(e,n)=>new Zc(e,n),t})(),Zc=class extends Je{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:gf}};var Ze=class extends Je{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var kt=new be(t=>t.complete());function CI(t){return t&&te(t.schedule)}function TI(t){return t[t.length-1]}function Xc(t){return te(TI(t))?t.pop():void 0}function Dr(t){return CI(TI(t))?t.pop():void 0}function eu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function AI(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function SI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ti(t){return this instanceof ti?(this.v=t,this):new ti(t)}function MI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(S){return Promise.resolve(S).then(y,p)}}function a(y,S){r[y]&&(i[y]=function(x){return new Promise(function(R,j){o.push([y,x,R,j])>1||u(y,x)})},S&&(i[y]=S(i[y])))}function u(y,S){try{l(r[y](S))}catch(x){m(o[0][3],x)}}function l(y){y.value instanceof ti?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,S){y(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function RI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof SI=="function"?SI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var tu=t=>t&&typeof t.length=="number"&&typeof t!="function";function nu(t){return te(t?.then)}function ru(t){return te(t[Yi])}function iu(t){return Symbol.asyncIterator&&te(t?.[Symbol.asyncIterator])}function ou(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function vR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var su=vR();function au(t){return te(t?.[su])}function cu(t){return MI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ti(n.read());if(i)return yield ti(void 0);yield yield ti(r)}}finally{n.releaseLock()}})}function uu(t){return te(t?.getReader)}function qe(t){if(t instanceof be)return t;if(t!=null){if(ru(t))return _R(t);if(tu(t))return wR(t);if(nu(t))return IR(t);if(iu(t))return xI(t);if(au(t))return ER(t);if(uu(t))return DR(t)}throw ou(t)}function _R(t){return new be(e=>{let n=t[Yi]();if(te(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function wR(t){return new be(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function IR(t){return new be(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Yc)})}function ER(t){return new be(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function xI(t){return new be(e=>{bR(t,e).catch(n=>e.error(n))})}function DR(t){return xI(cu(t))}function bR(t,e){var n,r,i,o;return AI(this,void 0,void 0,function*(){try{for(n=RI(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Tt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function lu(t,e=0){return ye((n,r)=>{n.subscribe(fe(r,i=>Tt(r,t,()=>r.next(i),e),()=>Tt(r,t,()=>r.complete(),e),i=>Tt(r,t,()=>r.error(i),e)))})}function du(t,e=0){return ye((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function NI(t,e){return qe(t).pipe(du(e),lu(e))}function PI(t,e){return qe(t).pipe(du(e),lu(e))}function OI(t,e){return new be(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function kI(t,e){return new be(n=>{let r;return Tt(n,e,()=>{r=t[su](),Tt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>te(r?.return)&&r.return()})}function hu(t,e){if(!t)throw new Error("Iterable cannot be null");return new be(n=>{Tt(n,e,()=>{let r=t[Symbol.asyncIterator]();Tt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function FI(t,e){return hu(cu(t),e)}function LI(t,e){if(t!=null){if(ru(t))return NI(t,e);if(tu(t))return OI(t,e);if(nu(t))return PI(t,e);if(iu(t))return hu(t,e);if(au(t))return kI(t,e);if(uu(t))return FI(t,e)}throw ou(t)}function He(t,e){return e?LI(t,e):qe(t)}function ne(...t){let e=Dr(t);return He(t,e)}function Xi(t,e){let n=te(t)?t:()=>t,r=i=>i.error(n());return new be(e?i=>e.schedule(r,0,i):r)}function bf(t){return!!t&&(t instanceof be||te(t.lift)&&te(t.subscribe))}var Qn=Gi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function le(t,e){return ye((n,r)=>{let i=0;n.subscribe(fe(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:CR}=Array;function TR(t,e){return CR(e)?t(...e):t(e)}function fu(t){return le(e=>TR(t,e))}var{isArray:SR}=Array,{getPrototypeOf:AR,prototype:MR,keys:RR}=Object;function pu(t){if(t.length===1){let e=t[0];if(SR(e))return{args:e,keys:null};if(xR(e)){let n=RR(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function xR(t){return t&&typeof t=="object"&&AR(t)===MR}function gu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function mu(...t){let e=Dr(t),n=Xc(t),{args:r,keys:i}=pu(t);if(r.length===0)return He([],e);let o=new be(NR(r,e,i?s=>gu(i,s):Ot));return n?o.pipe(fu(n)):o}function NR(t,e,n=Ot){return r=>{VI(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)VI(e,()=>{let l=He(t[u],e),h=!1;l.subscribe(fe(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function VI(t,e,n){t?Tt(n,t,e):e()}function jI(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=x=>l<r?S(x):u.push(x),S=x=>{o&&e.next(x),l++;let R=!1;qe(n(x,h++)).subscribe(fe(e,j=>{i?.(j),o?y(j):e.next(j)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let j=u.shift();s?Tt(e,s,()=>S(j)):S(j)}m()}catch(j){e.error(j)}}))};return t.subscribe(fe(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Xe(t,e,n=1/0){return te(e)?Xe((r,i)=>le((o,s)=>e(r,o,i,s))(qe(t(r,i))),n):(typeof e=="number"&&(n=e),ye((r,i)=>jI(r,i,t,n)))}function Cf(t=1/0){return Xe(Ot,t)}function UI(){return Cf(1)}function eo(...t){return UI()(He(t,Dr(t)))}function yu(t){return new be(e=>{qe(t()).subscribe(e)})}function Tf(...t){let e=Xc(t),{args:n,keys:r}=pu(t),i=new be(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;qe(n[h]).subscribe(fe(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?gu(r,a):a),o.complete())}))}});return e?i.pipe(fu(e)):i}function tn(t,e){return ye((n,r)=>{let i=0;n.subscribe(fe(r,o=>t.call(e,o,i++)&&r.next(o)))})}function br(t){return ye((e,n)=>{let r=null,i=!1,o;r=e.subscribe(fe(n,void 0,void 0,s=>{o=qe(t(s,br(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function BI(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(fe(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function to(t,e){return te(e)?Xe(t,e,1):Xe(t,1)}function Cr(t){return ye((e,n)=>{let r=!1;e.subscribe(fe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Yn(t){return t<=0?()=>kt:ye((e,n)=>{let r=0;e.subscribe(fe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Sf(t){return le(()=>t)}function vu(t=PR){return ye((e,n)=>{let r=!1;e.subscribe(fe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function PR(){return new Qn}function $s(t){return ye((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function yn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?tn((i,o)=>t(i,o,r)):Ot,Yn(1),n?Cr(e):vu(()=>new Qn))}function no(t){return t<=0?()=>kt:ye((e,n)=>{let r=[];e.subscribe(fe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Af(t,e){let n=arguments.length>=2;return r=>r.pipe(t?tn((i,o)=>t(i,o,r)):Ot,no(1),n?Cr(e):vu(()=>new Qn))}function Mf(t,e){return ye(BI(t,e,arguments.length>=2,!0))}function Rf(...t){let e=Dr(t);return ye((n,r)=>{(e?eo(t,n,e):eo(t,n)).subscribe(r)})}function nn(t,e){return ye((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(fe(r,u=>{i?.unsubscribe();let l=0,h=o++;qe(t(u,h)).subscribe(i=fe(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function xf(t){return ye((e,n)=>{qe(t).subscribe(fe(n,()=>n.complete(),Bs)),!n.closed&&e.subscribe(n)})}function ct(t,e,n){let r=te(t)||e||n?{next:t,error:e,complete:n}:t;return r?ye((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(fe(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ot}var RE="https://g.co/ng/security#xss",G=class extends Error{constructor(e,n){super(Op(e,n)),this.code=e}};function Op(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ta(t){return{toString:t}.toString()}var _u="__parameters__";function OR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function xE(t,e,n){return ta(()=>{let r=OR(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(_u)?u[_u]:Object.defineProperty(u,_u,{value:[]})[_u];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var qs=globalThis;function Ae(t){for(let e in t)if(t[e]===Ae)return e;throw Error("Could not find renamed property on target object.")}function kR(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Dt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Dt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function $I(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var FR=Ae({__forward_ref__:Ae});function _o(t){return t.__forward_ref__=_o,t.toString=function(){return Dt(this())},t}function Et(t){return NE(t)?t():t}function NE(t){return typeof t=="function"&&t.hasOwnProperty(FR)&&t.__forward_ref__===_o}function $(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function wo(t){return{providers:t.providers||[],imports:t.imports||[]}}function nl(t){return HI(t,OE)||HI(t,kE)}function PE(t){return nl(t)!==null}function HI(t,e){return t.hasOwnProperty(e)?t[e]:null}function LR(t){let e=t&&(t[OE]||t[kE]);return e||null}function zI(t){return t&&(t.hasOwnProperty(qI)||t.hasOwnProperty(VR))?t[qI]:null}var OE=Ae({\u0275prov:Ae}),qI=Ae({\u0275inj:Ae}),kE=Ae({ngInjectableDef:Ae}),VR=Ae({ngInjectorDef:Ae}),Q=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=$({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function FE(t){return t&&!!t.\u0275providers}var jR=Ae({\u0275cmp:Ae}),UR=Ae({\u0275dir:Ae}),BR=Ae({\u0275pipe:Ae}),$R=Ae({\u0275mod:Ae}),xu=Ae({\u0275fac:Ae}),zs=Ae({__NG_ELEMENT_ID__:Ae}),GI=Ae({__NG_ENV_ID__:Ae});function rl(t){return typeof t=="string"?t:t==null?"":String(t)}function HR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():rl(t)}function zR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new G(-200,t)}function kp(t,e){throw new G(-201,!1)}var se=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(se||{}),qf;function LE(){return qf}function St(t){let e=qf;return qf=t,e}function VE(t,e,n){let r=nl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&se.Optional)return null;if(e!==void 0)return e;kp(t,"Injector")}var qR={},Gs=qR,Gf="__NG_DI_FLAG__",Nu="ngTempTokenPath",GR="ngTokenPath",WR=/\n/gm,KR="\u0275",WI="__source",so;function QR(){return so}function Tr(t){let e=so;return so=t,e}function YR(t,e=se.Default){if(so===void 0)throw new G(-203,!1);return so===null?VE(t,void 0,e):so.get(t,e&se.Optional?null:void 0,e)}function W(t,e=se.Default){return(LE()||YR)(Et(t),e)}function F(t,e=se.Default){return W(t,il(e))}function il(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Wf(t){let e=[];for(let n=0;n<t.length;n++){let r=Et(t[n]);if(Array.isArray(r)){if(r.length===0)throw new G(900,!1);let i,o=se.Default;for(let s=0;s<r.length;s++){let a=r[s],u=JR(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(W(i,o))}else e.push(W(r))}return e}function jE(t,e){return t[Gf]=e,t.prototype[Gf]=e,t}function JR(t){return t[Gf]}function ZR(t,e,n,r){let i=t[Nu];throw e[WI]&&i.unshift(e[WI]),t.message=XR(`
`+t.message,i,n,r),t[GR]=i,t[Nu]=null,t}function XR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==KR?t.slice(2):t;let i=Dt(e);if(Array.isArray(e))i=e.map(Dt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Dt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(WR,`
  `)}`}var Fp=jE(xE("Optional"),8);var UE=jE(xE("SkipSelf"),4);function ii(t,e){let n=t.hasOwnProperty(xu);return n?t[xu]:null}function Lp(t,e){t.forEach(n=>Array.isArray(n)?Lp(n,e):e(n))}function BE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Pu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ex(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function tx(t,e,n){let r=na(t,e);return r>=0?t[r|1]=n:(r=~r,ex(t,r,e,n)),r}function Nf(t,e){let n=na(t,e);if(n>=0)return t[n|1]}function na(t,e){return nx(t,e,1)}function nx(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var co={},Ht=[],uo=new Q(""),$E=new Q("",-1),HE=new Q(""),Ou=class{get(e,n=Gs){if(n===Gs){let r=new Error(`NullInjectorError: No provider for ${Dt(e)}!`);throw r.name="NullInjectorError",r}return n}},zE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(zE||{}),wn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(wn||{}),Mr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Mr||{});function rx(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Kf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];ox(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function ix(t){return t===3||t===4||t===6}function ox(t){return t.charCodeAt(0)===64}function Ws(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?KI(t,n,i,null,e[++r]):KI(t,n,i,null,null))}}return t}function KI(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var qE="ng-template";function sx(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&rx(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Vp(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Vp(t){return t.type===4&&t.value!==qE}function ax(t,e,n){let r=t.type===4&&!n?qE:t.value;return e===r}function cx(t,e,n){let r=4,i=t.attrs,o=i!==null?dx(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!rn(r)&&!rn(u))return!1;if(s&&rn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!ax(t,u,n)||u===""&&e.length===1){if(rn(r))return!1;s=!0}}else if(r&8){if(i===null||!sx(t,i,u,n)){if(rn(r))return!1;s=!0}}else{let l=e[++a],h=ux(u,i,Vp(t),n);if(h===-1){if(rn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(rn(r))return!1;s=!0}}}}return rn(r)||s}function rn(t){return(t&1)===0}function ux(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return hx(e,t)}function lx(t,e,n=!1){for(let r=0;r<e.length;r++)if(cx(t,e[r],n))return!0;return!1}function dx(t){for(let e=0;e<t.length;e++){let n=t[e];if(ix(n))return e}return t.length}function hx(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function QI(t,e){return t?":not("+e.trim()+")":e}function fx(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!rn(s)&&(e+=QI(o,i),i=""),r=s,o=o||!rn(r);n++}return i!==""&&(e+=QI(o,i)),e}function px(t){return t.map(fx).join(",")}function gx(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!rn(i))break;i=o}r++}return{attrs:e,classes:n}}function Oe(t){return ta(()=>{let e=JE(t),n=he(k({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===zE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||wn.Emulated,styles:t.styles||Ht,_:null,schemas:t.schemas||null,tView:null,id:""});ZE(n);let r=t.dependencies;return n.directiveDefs=JI(r,!1),n.pipeDefs=JI(r,!0),n.id=vx(n),n})}function mx(t){return oi(t)||WE(t)}function yx(t){return t!==null}function Io(t){return ta(()=>({type:t.type,bootstrap:t.bootstrap||Ht,declarations:t.declarations||Ht,imports:t.imports||Ht,exports:t.exports||Ht,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function YI(t,e){if(t==null)return co;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=Mr.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==Mr.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Ft(t){return ta(()=>{let e=JE(t);return ZE(e),e})}function GE(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function oi(t){return t[jR]||null}function WE(t){return t[UR]||null}function KE(t){return t[BR]||null}function QE(t){let e=oi(t)||WE(t)||KE(t);return e!==null?e.standalone:!1}function YE(t,e){let n=t[$R]||null;if(!n&&e===!0)throw new Error(`Type ${Dt(t)} does not have '\u0275mod' property.`);return n}function JE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||co,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Ht,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:YI(t.inputs,e),outputs:YI(t.outputs),debugInfo:null}}function ZE(t){t.features?.forEach(e=>e(t))}function JI(t,e){if(!t)return null;let n=e?KE:mx;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(yx)}function vx(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function ol(t){return{\u0275providers:t}}function _x(...t){return{\u0275providers:XE(!0,t),\u0275fromNgModule:!0}}function XE(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Lp(e,s=>{let a=s;Qf(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&e0(i,o),n}function e0(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];jp(i,o=>{e(o,r)})}}function Qf(t,e,n,r){if(t=Et(t),!t)return!1;let i=null,o=zI(t),s=!o&&oi(t);if(!o&&!s){let u=t.ngModule;if(o=zI(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Qf(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Lp(o.imports,h=>{Qf(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&e0(l,e)}if(!a){let l=ii(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ht},i),e({provide:HE,useValue:i,multi:!0},i),e({provide:uo,useValue:()=>W(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;jp(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function jp(t,e){for(let n of t)FE(n)&&(n=n.\u0275providers),Array.isArray(n)?jp(n,e):e(n)}var wx=Ae({provide:String,useValue:Ae});function t0(t){return t!==null&&typeof t=="object"&&wx in t}function Ix(t){return!!(t&&t.useExisting)}function Ex(t){return!!(t&&t.useFactory)}function lo(t){return typeof t=="function"}function Dx(t){return!!t.useClass}var sl=new Q(""),Tu={},bx={},Pf;function Up(){return Pf===void 0&&(Pf=new Ou),Pf}var Gt=class{},Ks=class extends Gt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Jf(e,s=>this.processProvider(s)),this.records.set($E,ro(void 0,this)),i.has("environment")&&this.records.set(Gt,ro(void 0,this));let o=this.records.get(sl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(HE,Ht,se.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=we(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),we(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Tr(this),r=St(void 0),i;try{return e()}finally{Tr(n),St(r)}}get(e,n=Gs,r=se.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(GI))return e[GI](this);r=il(r);let i,o=Tr(this),s=St(void 0);try{if(!(r&se.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=Mx(e)&&nl(e);l&&this.injectableDefInScope(l)?u=ro(Yf(e),Tu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&se.Self?Up():this.parent;return n=r&se.Optional&&n===Gs?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Nu]=a[Nu]||[]).unshift(Dt(e)),o)throw a;return ZR(a,e,"R3InjectorError",this.source)}else throw a}finally{St(s),Tr(o)}}resolveInjectorInitializers(){let e=we(null),n=Tr(this),r=St(void 0),i;try{let o=this.get(uo,Ht,se.Self);for(let s of o)s()}finally{Tr(n),St(r),we(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Dt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new G(205,!1)}processProvider(e){e=Et(e);let n=lo(e)?e:Et(e&&e.provide),r=Tx(e);if(!lo(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ro(void 0,Tu,!0),i.factory=()=>Wf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=we(null);try{return n.value===Tu&&(n.value=bx,n.value=n.factory()),typeof n.value=="object"&&n.value&&Ax(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{we(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Et(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Yf(t){let e=nl(t),n=e!==null?e.factory:ii(t);if(n!==null)return n;if(t instanceof Q)throw new G(204,!1);if(t instanceof Function)return Cx(t);throw new G(204,!1)}function Cx(t){if(t.length>0)throw new G(204,!1);let n=LR(t);return n!==null?()=>n.factory(t):()=>new t}function Tx(t){if(t0(t))return ro(void 0,t.useValue);{let e=n0(t);return ro(e,Tu)}}function n0(t,e,n){let r;if(lo(t)){let i=Et(t);return ii(i)||Yf(i)}else if(t0(t))r=()=>Et(t.useValue);else if(Ex(t))r=()=>t.useFactory(...Wf(t.deps||[]));else if(Ix(t))r=()=>W(Et(t.useExisting));else{let i=Et(t&&(t.useClass||t.provide));if(Sx(t))r=()=>new i(...Wf(t.deps));else return ii(i)||Yf(i)}return r}function ro(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Sx(t){return!!t.deps}function Ax(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Mx(t){return typeof t=="function"||typeof t=="object"&&t instanceof Q}function Jf(t,e){for(let n of t)Array.isArray(n)?Jf(n,e):n&&FE(n)?Jf(n.\u0275providers,e):e(n)}function Zn(t,e){t instanceof Ks&&t.assertNotDestroyed();let n,r=Tr(t),i=St(void 0);try{return e()}finally{Tr(r),St(i)}}function Rx(){return LE()!==void 0||QR()!=null}function xx(t){return typeof t=="function"}var Xn=0,de=1,Z=2,bt=3,on=4,an=5,ku=6,Fu=7,sn=8,ho=9,In=10,tt=11,Qs=12,ZI=13,Eo=14,En=15,fo=16,io=17,po=18,al=19,r0=20,Sr=21,Of=22,zt=23,Dn=25,i0=1;var si=7,Lu=8,Vu=9,qt=10,ju=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(ju||{});function Ar(t){return Array.isArray(t)&&typeof t[i0]=="object"}function er(t){return Array.isArray(t)&&t[i0]===!0}function o0(t){return(t.flags&4)!==0}function cl(t){return t.componentOffset>-1}function Bp(t){return(t.flags&1)===1}function Rr(t){return!!t.template}function Zf(t){return(t[Z]&512)!==0}var Xf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function s0(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Do(){return a0}function a0(t){return t.type.prototype.ngOnChanges&&(t.setInput=Px),Nx}Do.ngInherit=!0;function Nx(){let t=u0(this),e=t?.current;if(e){let n=t.previous;if(n===co)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Px(t,e,n,r,i){let o=this.declaredInputs[r],s=u0(t)||Ox(t,{previous:co,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Xf(l&&l.currentValue,n,u===co),s0(t,e,i,n)}var c0="__ngSimpleChanges__";function u0(t){return t[c0]||null}function Ox(t,e){return t[c0]=e}var XI=null;var vn=function(t,e,n){XI?.(t,e,n)},l0="svg",kx="math";function bn(t){for(;Array.isArray(t);)t=t[Xn];return t}function d0(t,e){return bn(e[t])}function cn(t,e){return bn(e[t.index])}function h0(t,e){return t.data[e]}function Fx(t,e){return t[e]}function Or(t,e){let n=e[t];return Ar(n)?n:n[Xn]}function $p(t){return(t[Z]&128)===128}function Lx(t){return er(t[bt])}function Uu(t,e){return e==null?null:t[e]}function f0(t){t[io]=0}function p0(t){t[Z]&1024||(t[Z]|=1024,$p(t)&&ul(t))}function Vx(t,e){for(;t>0;)e=e[Eo],t--;return e}function Ys(t){return!!(t[Z]&9216||t[zt]?.dirty)}function ep(t){t[In].changeDetectionScheduler?.notify(7),t[Z]&64&&(t[Z]|=1024),Ys(t)&&ul(t)}function ul(t){t[In].changeDetectionScheduler?.notify(0);let e=ai(t);for(;e!==null&&!(e[Z]&8192||(e[Z]|=8192,!$p(e)));)e=ai(e)}function g0(t,e){if((t[Z]&256)===256)throw new G(911,!1);t[Sr]===null&&(t[Sr]=[]),t[Sr].push(e)}function jx(t,e){if(t[Sr]===null)return;let n=t[Sr].indexOf(e);n!==-1&&t[Sr].splice(n,1)}function ai(t){let e=t[bt];return er(e)?e[bt]:e}var ae={lFrame:C0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var m0=!1;function Ux(){return ae.lFrame.elementDepthCount}function Bx(){ae.lFrame.elementDepthCount++}function $x(){ae.lFrame.elementDepthCount--}function y0(){return ae.bindingsEnabled}function Hx(){return ae.skipHydrationRootTNode!==null}function zx(t){return ae.skipHydrationRootTNode===t}function qx(){ae.skipHydrationRootTNode=null}function Te(){return ae.lFrame.lView}function At(){return ae.lFrame.tView}function Re(t){return ae.lFrame.contextLView=t,t[sn]}function xe(t){return ae.lFrame.contextLView=null,t}function Mt(){let t=v0();for(;t!==null&&t.type===64;)t=t.parent;return t}function v0(){return ae.lFrame.currentTNode}function Gx(){let t=ae.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ra(t,e){let n=ae.lFrame;n.currentTNode=t,n.isParent=e}function _0(){return ae.lFrame.isParent}function Wx(){ae.lFrame.isParent=!1}function w0(){return m0}function eE(t){m0=t}function I0(){let t=ae.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Kx(t){return ae.lFrame.bindingIndex=t}function Hp(){return ae.lFrame.bindingIndex++}function Qx(t){let e=ae.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Yx(){return ae.lFrame.inI18n}function Jx(t,e){let n=ae.lFrame;n.bindingIndex=n.bindingRootIndex=t,tp(e)}function Zx(){return ae.lFrame.currentDirectiveIndex}function tp(t){ae.lFrame.currentDirectiveIndex=t}function Xx(t){let e=ae.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function E0(t){ae.lFrame.currentQueryIndex=t}function eN(t){let e=t[de];return e.type===2?e.declTNode:e.type===1?t[an]:null}function D0(t,e,n){if(n&se.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&se.Host);)if(i=eN(o),i===null||(o=o[Eo],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ae.lFrame=b0();return r.currentTNode=e,r.lView=t,!0}function zp(t){let e=b0(),n=t[de];ae.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function b0(){let t=ae.lFrame,e=t===null?null:t.child;return e===null?C0(t):e}function C0(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function T0(){let t=ae.lFrame;return ae.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var S0=T0;function qp(){let t=T0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function tN(t){return(ae.lFrame.contextLView=Vx(t,ae.lFrame.contextLView))[sn]}function bo(){return ae.lFrame.selectedIndex}function ci(t){ae.lFrame.selectedIndex=t}function Gp(){let t=ae.lFrame;return h0(t.tView,t.selectedIndex)}function A0(){ae.lFrame.currentNamespace=l0}function nN(){return ae.lFrame.currentNamespace}var M0=!0;function Wp(){return M0}function Kp(t){M0=t}function rN(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=a0(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Qp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Su(t,e,n){R0(t,e,3,n)}function Au(t,e,n,r){(t[Z]&3)===n&&R0(t,e,n,r)}function kf(t,e){let n=t[Z];(n&3)===e&&(n&=16383,n+=1,t[Z]=n)}function R0(t,e,n,r){let i=r!==void 0?t[io]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[io]+=65536),(a<o||o==-1)&&(iN(t,n,e,u),t[io]=(t[io]&4294901760)+u+2),u++}function tE(t,e){vn(4,t,e);let n=we(null);try{e.call(t)}finally{we(n),vn(5,t,e)}}function iN(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[Z]>>14<t[io]>>16&&(t[Z]&3)===e&&(t[Z]+=16384,tE(a,o)):tE(a,o)}var ao=-1,ui=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function oN(t){return t instanceof ui}function sN(t){return(t.flags&8)!==0}function aN(t){return(t.flags&16)!==0}var Ff={},np=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=il(r);let i=this.injector.get(e,Ff,r);return i!==Ff||n===Ff?i:this.parentInjector.get(e,n,r)}};function x0(t){return t!==ao}function Bu(t){return t&32767}function cN(t){return t>>16}function $u(t,e){let n=cN(t),r=e;for(;n>0;)r=r[Eo],n--;return r}var rp=!0;function Hu(t){let e=rp;return rp=t,e}var uN=256,N0=uN-1,P0=5,lN=0,_n={};function dN(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(zs)&&(r=n[zs]),r==null&&(r=n[zs]=lN++);let i=r&N0,o=1<<i;e.data[t+(i>>P0)]|=o}function zu(t,e){let n=O0(t,e);if(n!==-1)return n;let r=e[de];r.firstCreatePass&&(t.injectorIndex=e.length,Lf(r.data,t),Lf(e,null),Lf(r.blueprint,null));let i=Yp(t,e),o=t.injectorIndex;if(x0(i)){let s=Bu(i),a=$u(i,e),u=a[de].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Lf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function O0(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Yp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=j0(i),r===null)return ao;if(n++,i=i[Eo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ao}function ip(t,e,n){dN(t,e,n)}function k0(t,e,n){if(n&se.Optional||t!==void 0)return t;kp(e,"NodeInjector")}function F0(t,e,n,r){if(n&se.Optional&&r===void 0&&(r=null),!(n&(se.Self|se.Host))){let i=t[ho],o=St(void 0);try{return i?i.get(e,r,n&se.Optional):VE(e,r,n&se.Optional)}finally{St(o)}}return k0(r,e,n)}function L0(t,e,n,r=se.Default,i){if(t!==null){if(e[Z]&2048&&!(r&se.Self)){let s=mN(t,e,n,r,_n);if(s!==_n)return s}let o=V0(t,e,n,r,_n);if(o!==_n)return o}return F0(e,n,r,i)}function V0(t,e,n,r,i){let o=pN(n);if(typeof o=="function"){if(!D0(e,t,r))return r&se.Host?k0(i,n,r):F0(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&se.Optional))kp(n);else return s}finally{S0()}}else if(typeof o=="number"){let s=null,a=O0(t,e),u=ao,l=r&se.Host?e[En][an]:null;for((a===-1||r&se.SkipSelf)&&(u=a===-1?Yp(t,e):e[a+8],u===ao||!rE(r,!1)?a=-1:(s=e[de],a=Bu(u),e=$u(u,e)));a!==-1;){let h=e[de];if(nE(o,a,h.data)){let p=hN(a,e,n,s,r,l);if(p!==_n)return p}u=e[a+8],u!==ao&&rE(r,e[de].data[a+8]===l)&&nE(o,a,e)?(s=h,a=Bu(u),e=$u(u,e)):a=-1}}return i}function hN(t,e,n,r,i,o){let s=e[de],a=s.data[t+8],u=r==null?cl(a)&&rp:r!=s&&(a.type&3)!==0,l=i&se.Host&&o===a,h=fN(a,s,n,u,l);return h!==null?go(e,s,h,a):_n}function fN(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let S=s[y];if(y<u&&n===S||y>=u&&S.type===n)return y}if(i){let y=s[u];if(y&&Rr(y)&&y.type===n)return u}return null}function go(t,e,n,r){let i=t[n],o=e.data;if(oN(i)){let s=i;s.resolving&&zR(HR(o[n]));let a=Hu(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?St(s.injectImpl):null,h=D0(t,r,se.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&rN(n,o[n],e)}finally{l!==null&&St(l),Hu(a),s.resolving=!1,S0()}}return i}function pN(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(zs)?t[zs]:void 0;return typeof e=="number"?e>=0?e&N0:gN:e}function nE(t,e,n){let r=1<<t;return!!(n[e+(t>>P0)]&r)}function rE(t,e){return!(t&se.Self)&&!(t&se.Host&&e)}var ri=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return L0(this._tNode,this._lView,e,il(r),n)}};function gN(){return new ri(Mt(),Te())}function Co(t){return ta(()=>{let e=t.prototype.constructor,n=e[xu]||op(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[xu]||op(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function op(t){return NE(t)?()=>{let e=op(Et(t));return e&&e()}:ii(t)}function mN(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Z]&2048&&!(s[Z]&512);){let a=V0(o,s,n,r|se.Self,_n);if(a!==_n)return a;let u=o.parent;if(!u){let l=s[r0];if(l){let h=l.get(n,_n,r);if(h!==_n)return h}u=j0(s),s=s[Eo]}o=u}return i}function j0(t){let e=t[de],n=e.type;return n===2?e.declTNode:n===1?t[an]:null}function iE(t,e=null,n=null,r){let i=U0(t,e,n,r);return i.resolveInjectorInitializers(),i}function U0(t,e=null,n=null,r,i=new Set){let o=[n||Ht,_x(t)];return r=r||(typeof t=="object"?void 0:Dt(t)),new Ks(o,e||Up(),r||null,i)}var ni=class ni{static create(e,n){if(Array.isArray(e))return iE({name:""},n,e,"");{let r=e.name??"";return iE({name:r},e.parent,e.providers,r)}}};ni.THROW_IF_NOT_FOUND=Gs,ni.NULL=new Ou,ni.\u0275prov=$({token:ni,providedIn:"any",factory:()=>W($E)}),ni.__NG_ELEMENT_ID__=-1;var xr=ni;var yN=new Q("");yN.__NG_ELEMENT_ID__=t=>{let e=Mt();if(e===null)throw new G(204,!1);if(e.type&2)return e.value;if(t&se.Optional)return null;throw new G(204,!1)};var vN="ngOriginalError";function Vf(t){return t[vN]}var B0=!0,$0=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=_N,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),sp=class extends $0{constructor(e){super(),this._lView=e}onDestroy(e){return g0(this._lView,e),()=>jx(this._lView,e)}};function _N(){return new sp(Te())}var To=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ze(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=$({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var ap=class extends Je{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,Rx()&&(this.destroyRef=F($0,{optional:!0})??void 0,this.pendingTasks=F(To,{optional:!0})??void 0)}emit(e){let n=we(null);try{super.next(e)}finally{we(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ze&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Le=ap;function qu(...t){}function H0(t){let e,n;function r(){t=qu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function oE(t){return queueMicrotask(()=>t()),()=>{t=qu}}var Jp="isAngularZone",Gu=Jp+"_ID",wN=0,et=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Le(!1),this.onMicrotaskEmpty=new Le(!1),this.onStable=new Le(!1),this.onError=new Le(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=B0}=e;if(typeof Zone>"u")throw new G(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,DN(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Jp)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new G(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new G(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,IN,qu,qu);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},IN={};function Zp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function EN(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){H0(()=>{t.callbackScheduled=!1,cp(t),t.isCheckStableRunning=!0,Zp(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),cp(t)}function DN(t){let e=()=>{EN(t)},n=wN++;t._inner=t._inner.fork({name:"angular",properties:{[Jp]:!0,[Gu]:n,[Gu+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(bN(u))return r.invokeTask(o,s,a,u);try{return sE(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),aE(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return sE(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!CN(u)&&e(),aE(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,cp(t),Zp(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function cp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function sE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function aE(t){t._nesting--,Zp(t)}var up=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Le,this.onMicrotaskEmpty=new Le,this.onStable=new Le,this.onError=new Le}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function bN(t){return z0(t,"__ignore_ng_zone__")}function CN(t){return z0(t,"__scheduler_tick__")}function z0(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Nr=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Vf(e);for(;n&&Vf(n);)n=Vf(n);return n||null}},TN=new Q("",{providedIn:"root",factory:()=>{let t=F(et),e=F(Nr);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function SN(){return ll(Mt(),Te())}function ll(t,e){return new kr(cn(t,e))}var kr=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=SN;let t=e;return t})();function q0(t){return(t.flags&128)===128}var G0=new Map,AN=0;function MN(){return AN++}function RN(t){G0.set(t[al],t)}function xN(t){G0.delete(t[al])}var cE="__ngContext__";function li(t,e){Ar(e)?(t[cE]=e[al],RN(e)):t[cE]=e}function W0(t){return Q0(t[Qs])}function K0(t){return Q0(t[on])}function Q0(t){for(;t!==null&&!er(t);)t=t[on];return t}var lp;function Y0(t){lp=t}function J0(){if(lp!==void 0)return lp;if(typeof document<"u")return document;throw new G(210,!1)}var Xp=new Q("",{providedIn:"root",factory:()=>NN}),NN="ng",eg=new Q(""),So=new Q("",{providedIn:"platform",factory:()=>"unknown"});var tg=new Q("",{providedIn:"root",factory:()=>J0().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var PN="h",ON="b";var kN=()=>null;function ng(t,e,n=!1){return kN(t,e,n)}var Z0=!1,FN=new Q("",{providedIn:"root",factory:()=>Z0});var wu;function LN(){if(wu===void 0&&(wu=null,qs.trustedTypes))try{wu=qs.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return wu}function dl(t){return LN()?.createHTML(t)||t}var Iu;function VN(){if(Iu===void 0&&(Iu=null,qs.trustedTypes))try{Iu=qs.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Iu}function uE(t){return VN()?.createHTML(t)||t}var Wu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${RE})`}};function ia(t){return t instanceof Wu?t.changingThisBreaksApplicationSecurity:t}function rg(t,e){let n=jN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${RE})`)}return n===e}function jN(t){return t instanceof Wu&&t.getTypeName()||null}function UN(t){let e=new hp(t);return BN()?new dp(e):e}var dp=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(dl(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},hp=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=dl(e),n}};function BN(){try{return!!new window.DOMParser().parseFromString(dl(""),"text/html")}catch{return!1}}var $N=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ig(t){return t=String(t),t.match($N)?t:"unsafe:"+t}function tr(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function oa(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var X0=tr("area,br,col,hr,img,wbr"),eD=tr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),tD=tr("rp,rt"),HN=oa(tD,eD),zN=oa(eD,tr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),qN=oa(tD,tr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),lE=oa(X0,zN,qN,HN),nD=tr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),GN=tr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),WN=tr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),KN=oa(nD,GN,WN),QN=tr("script,style,template"),fp=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=ZN(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=JN(n);if(o){n=o;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=dE(e).toLowerCase();if(!lE.hasOwnProperty(n))return this.sanitizedSomething=!0,!QN.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!KN.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=o.value;nD[a]&&(u=ig(u)),this.buf.push(" ",s,'="',hE(u),'"')}return this.buf.push(">"),!0}endElement(e){let n=dE(e).toLowerCase();lE.hasOwnProperty(n)&&!X0.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(hE(e))}};function YN(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function JN(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw rD(e);return e}function ZN(t){let e=t.firstChild;if(e&&YN(t,e))throw rD(e);return e}function dE(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function rD(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var XN=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,eP=/([^\#-~ |!])/g;function hE(t){return t.replace(/&/g,"&amp;").replace(XN,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(eP,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Eu;function iD(t,e){let n=null;try{Eu=Eu||UN(t);let r=e?String(e):"";n=Eu.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Eu.getInertBodyElement(r)}while(r!==o);let a=new fp().sanitizeChildren(fE(n)||n);return dl(a)}finally{if(n){let r=fE(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function fE(t){return"content"in t&&tP(t)?t.content:null}function tP(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var hl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(hl||{});function oD(t){let e=aD();return e?uE(e.sanitize(hl.HTML,t)||""):rg(t,"HTML")?uE(ia(t)):iD(J0(),rl(t))}function sD(t){let e=aD();return e?e.sanitize(hl.URL,t)||"":rg(t,"URL")?ia(t):ig(rl(t))}function aD(){let t=Te();return t&&t[In].sanitizer}function cD(t){return t instanceof Function?t():t}var Jn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Jn||{}),nP;function og(t,e){return nP(t,e)}function oo(t,e,n,r,i){if(r!=null){let o,s=!1;er(r)?o=r:Ar(r)&&(s=!0,r=r[Xn]);let a=bn(r);t===0&&n!==null?i==null?fD(e,n,a):Ku(e,n,a,i||null,!0):t===1&&n!==null?Ku(e,n,a,i||null,!0):t===2?yP(e,a,s):t===3&&e.destroyNode(a),o!=null&&_P(e,t,o,n,i)}}function rP(t,e){return t.createText(e)}function iP(t,e,n){t.setValue(e,n)}function uD(t,e,n){return t.createElement(e,n)}function oP(t,e){lD(t,e),e[Xn]=null,e[an]=null}function sP(t,e,n,r,i,o){r[Xn]=i,r[an]=e,fl(t,r,n,1,i,o)}function lD(t,e){e[In].changeDetectionScheduler?.notify(8),fl(t,e,e[tt],2,null,null)}function aP(t){let e=t[Qs];if(!e)return jf(t[de],t);for(;e;){let n=null;if(Ar(e))n=e[Qs];else{let r=e[qt];r&&(n=r)}if(!n){for(;e&&!e[on]&&e!==t;)Ar(e)&&jf(e[de],e),e=e[bt];e===null&&(e=t),Ar(e)&&jf(e[de],e),n=e&&e[on]}e=n}}function cP(t,e,n,r){let i=qt+r,o=n.length;r>0&&(n[i-1][on]=e),r<o-qt?(e[on]=n[i],BE(n,qt+r,e)):(n.push(e),e[on]=null),e[bt]=n;let s=e[fo];s!==null&&n!==s&&dD(s,e);let a=e[po];a!==null&&a.insertView(t),ep(e),e[Z]|=128}function dD(t,e){let n=t[Vu],r=e[bt];if(Ar(r))t[Z]|=ju.HasTransplantedViews;else{let i=r[bt][En];e[En]!==i&&(t[Z]|=ju.HasTransplantedViews)}n===null?t[Vu]=[e]:n.push(e)}function sg(t,e){let n=t[Vu],r=n.indexOf(e);n.splice(r,1)}function pp(t,e){if(t.length<=qt)return;let n=qt+e,r=t[n];if(r){let i=r[fo];i!==null&&i!==t&&sg(i,r),e>0&&(t[n-1][on]=r[on]);let o=Pu(t,qt+e);oP(r[de],r);let s=o[po];s!==null&&s.detachView(o[de]),r[bt]=null,r[on]=null,r[Z]&=-129}return r}function hD(t,e){if(!(e[Z]&256)){let n=e[tt];n.destroyNode&&fl(t,e,n,3,null,null),aP(e)}}function jf(t,e){if(e[Z]&256)return;let n=we(null);try{e[Z]&=-129,e[Z]|=256,e[zt]&&ff(e[zt]),lP(t,e),uP(t,e),e[de].type===1&&e[tt].destroy();let r=e[fo];if(r!==null&&er(e[bt])){r!==e[bt]&&sg(r,e);let i=e[po];i!==null&&i.detachView(t)}xN(e)}finally{we(n)}}function uP(t,e){let n=t.cleanup,r=e[Fu];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Fu]=null);let i=e[Sr];if(i!==null){e[Sr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function lP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ui)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];vn(4,a,u);try{u.call(a)}finally{vn(5,a,u)}}else{vn(4,i,o);try{o.call(i)}finally{vn(5,i,o)}}}}}function dP(t,e,n){return hP(t,e.parent,n)}function hP(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Xn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===wn.None||o===wn.Emulated)return null}return cn(r,n)}}function Ku(t,e,n,r,i){t.insertBefore(e,n,r,i)}function fD(t,e,n){t.appendChild(e,n)}function pE(t,e,n,r,i){r!==null?Ku(t,e,n,r,i):fD(t,e,n)}function pD(t,e){return t.parentNode(e)}function fP(t,e){return t.nextSibling(e)}function pP(t,e,n){return mP(t,e,n)}function gP(t,e,n){return t.type&40?cn(t,n):null}var mP=gP,gE;function ag(t,e,n,r){let i=dP(t,r,e),o=e[tt],s=r.parent||e[an],a=pP(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)pE(o,i,n[u],a,!1);else pE(o,i,n,a,!1);gE!==void 0&&gE(o,r,e,n,i)}function Hs(t,e){if(e!==null){let n=e.type;if(n&3)return cn(e,t);if(n&4)return gp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Hs(t,r);{let i=t[e.index];return er(i)?gp(-1,i):bn(i)}}else{if(n&128)return Hs(t,e.next);if(n&32)return og(e,t)()||bn(t[e.index]);{let r=gD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ai(t[En]);return Hs(i,r)}else return Hs(t,e.next)}}}return null}function gD(t,e){if(e!==null){let r=t[En][an],i=e.projection;return r.projection[i]}return null}function gp(t,e){let n=qt+t+1;if(n<e.length){let r=e[n],i=r[de].firstChild;if(i!==null)return Hs(r,i)}return e[si]}function yP(t,e,n){t.removeChild(null,e,n)}function cg(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&li(bn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)cg(t,e,n.child,r,i,o,!1),oo(e,t,i,a,o);else if(u&32){let l=og(n,r),h;for(;h=l();)oo(e,t,i,h,o);oo(e,t,i,a,o)}else u&16?vP(t,e,r,n,i,o):oo(e,t,i,a,o);n=s?n.projectionNext:n.next}}function fl(t,e,n,r,i,o){cg(n,r,t.firstChild,e,i,o,!1)}function vP(t,e,n,r,i,o){let s=n[En],u=s[an].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];oo(e,t,i,h,o)}else{let l=u,h=s[bt];q0(r)&&(l.flags|=128),cg(t,e,l,h,i,o,!0)}}function _P(t,e,n,r,i){let o=n[si],s=bn(n);o!==s&&oo(e,t,r,o,i);for(let a=qt;a<n.length;a++){let u=n[a];fl(u[de],u,t,e,r,o)}}function wP(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Jn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Jn.Important),t.setStyle(n,r,i,o))}}function IP(t,e,n){t.setAttribute(e,"style",n)}function mD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function yD(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Kf(t,e,r),i!==null&&mD(t,e,i),o!==null&&IP(t,e,o)}var Fr={};function ce(t=1){vD(At(),Te(),bo()+t,!1)}function vD(t,e,n,r){if(!r)if((e[Z]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Su(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Au(e,o,0,n)}ci(n)}function B(t,e=se.Default){let n=Te();if(n===null)return W(t,e);let r=Mt();return L0(r,n,Et(t),e)}function _D(t,e,n,r,i,o){let s=we(null);try{let a=null;i&Mr.SignalBased&&(a=e[r][Kn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Mr.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):s0(e,a,r,o)}finally{we(s)}}function EP(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ci(~i);else{let o=i,s=n[++r],a=n[++r];Jx(s,o);let u=e[o];a(2,u)}}}finally{ci(-1)}}function pl(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Xn]=i,p[Z]=r|4|128|8|64,(l!==null||t&&t[Z]&2048)&&(p[Z]|=2048),f0(p),p[bt]=p[Eo]=t,p[sn]=n,p[In]=s||t&&t[In],p[tt]=a||t&&t[tt],p[ho]=u||t&&t[ho]||null,p[an]=o,p[al]=MN(),p[ku]=h,p[r0]=l,p[En]=e.type==2?t[En]:p,p}function gl(t,e,n,r,i){let o=t.data[e];if(o===null)o=DP(t,e,n,r,i),Yx()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=Gx();o.injectorIndex=s===null?-1:s.injectorIndex}return ra(o,!0),o}function DP(t,e,n,r,i){let o=v0(),s=_0(),a=s?o:o&&o.parent,u=t.data[e]=AP(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function wD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ID(t,e,n,r,i){let o=bo(),s=r&2;try{ci(-1),s&&e.length>Dn&&vD(t,e,Dn,!1),vn(s?2:0,i),n(r,i)}finally{ci(o),vn(s?3:1,i)}}function ED(t,e,n){if(o0(e)){let r=we(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{we(r)}}}function DD(t,e,n){y0()&&(OP(t,e,n,cn(n,e)),(n.flags&64)===64&&AD(t,e,n))}function bD(t,e,n=cn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function CD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=ug(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function ug(t,e,n,r,i,o,s,a,u,l,h){let p=Dn+r,m=p+i,y=bP(p,m),S=typeof l=="function"?l():l;return y[de]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function bP(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Fr);return n}function CP(t,e,n,r){let o=r.get(FN,Z0)||n===wn.ShadowDom,s=t.selectRootElement(e,o);return TP(s),s}function TP(t){SP(t)}var SP=()=>null;function AP(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Hx()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function mE(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=Mr.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?yE(r,n,l,a,u):yE(r,n,l,a)}return r}function yE(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function MP(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],m=n?n.get(p):null,y=m?m.inputs:null,S=m?m.outputs:null;u=mE(0,p.inputs,h,u,y),l=mE(1,p.outputs,h,l,S);let x=u!==null&&s!==null&&!Vp(e)?HP(u,h,s):null;a.push(x)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function RP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function lg(t,e,n,r,i,o,s,a){let u=cn(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(dg(t,n,h,r,i),cl(e)&&xP(n,e.index)):e.type&3?(r=RP(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function xP(t,e){let n=Or(e,t);n[Z]&16||(n[Z]|=64)}function TD(t,e,n,r){if(y0()){let i=r===null?null:{"":-1},o=FP(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&SD(t,e,n,s,i,a),i&&LP(n,r,i)}n.mergedAttrs=Ws(n.mergedAttrs,n.attrs)}function SD(t,e,n,r,i,o){for(let l=0;l<r.length;l++)ip(zu(n,e),t,r[l].type);jP(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=wD(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=Ws(n.mergedAttrs,h.hostAttrs),UP(t,n,e,u,h),VP(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}MP(t,n,o)}function NP(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;PP(s)!=a&&s.push(a),s.push(n,r,o)}}function PP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function OP(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;cl(n)&&BP(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||zu(n,e),li(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],l=go(e,t,a,n);if(li(l,e),s!==null&&$P(e,a-i,l,u,n,s),Rr(u)){let h=Or(n.index,e);h[sn]=go(e,t,a,n)}}}function AD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Zx();try{ci(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];tp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&kP(u,l)}}finally{ci(-1),tp(s)}}function kP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function FP(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(lx(e,s.selectors,!1))if(r||(r=[]),Rr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;mp(t,e,u)}else r.unshift(s),mp(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function mp(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function LP(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new G(-301,!1);r.push(e[i],o)}}}function VP(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Rr(e)&&(n[""]=t)}}function jP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function UP(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=ii(i.type,!0)),s=new ui(o,Rr(i),B);t.blueprint[r]=s,n[r]=s,NP(t,e,r,wD(t,n,i.hostVars,Fr),i)}function BP(t,e,n){let r=cn(e,t),i=CD(n),o=t[In].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=ml(t,pl(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function $P(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];_D(r,n,u,l,h,p)}}function HP(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function MD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function RD(t,e){let n=t.contentQueries;if(n!==null){let r=we(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];E0(o),a.contentQueries(2,e[s],s)}}}finally{we(r)}}}function ml(t,e){return t[Qs]?t[ZI][on]=e:t[Qs]=e,t[ZI]=e,e}function yp(t,e,n){E0(0);let r=we(null);try{e(t,n)}finally{we(r)}}function zP(t){return t[Fu]??=[]}function qP(t){return t.cleanup??=[]}function xD(t,e){let n=t[ho],r=n?n.get(Nr,null):null;r&&r.handleError(e)}function dg(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=e[s],h=t.data[s];_D(h,l,r,a,u,i)}}function GP(t,e,n){let r=d0(e,t);iP(t[tt],r,n)}function WP(t,e){let n=Or(e,t),r=n[de];KP(r,n);let i=n[Xn];i!==null&&n[ku]===null&&(n[ku]=ng(i,n[ho])),hg(r,n,n[sn])}function KP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function hg(t,e,n){zp(e);try{let r=t.viewQuery;r!==null&&yp(1,r,n);let i=t.template;i!==null&&ID(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[po]?.finishViewCreation(t),t.staticContentQueries&&RD(t,e),t.staticViewQueries&&yp(2,t.viewQuery,n);let o=t.components;o!==null&&QP(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Z]&=-5,qp()}}function QP(t,e){for(let n=0;n<e.length;n++)WP(t,e[n])}function YP(t,e,n,r){let i=we(null);try{let o=e.tView,a=t[Z]&4096?4096:16,u=pl(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[fo]=l;let h=t[po];return h!==null&&(u[po]=h.createEmbeddedView(o)),hg(o,u,n),u}finally{we(i)}}function vE(t,e){return!e||e.firstChild===null||q0(t)}function JP(t,e,n,r=!0){let i=e[de];if(cP(i,e,t,n),r){let s=gp(n,t),a=e[tt],u=pD(a,t[si]);u!==null&&sP(i,t[an],a,e,u,s)}let o=e[ku];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Qu(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(bn(o)),er(o)&&ZP(o,r);let s=n.type;if(s&8)Qu(t,e,n.child,r);else if(s&32){let a=og(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=gD(e,n);if(Array.isArray(a))r.push(...a);else{let u=ai(e[En]);Qu(u[de],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function ZP(t,e){for(let n=qt;n<t.length;n++){let r=t[n],i=r[de].firstChild;i!==null&&Qu(r[de],r,i,e)}t[si]!==t[Xn]&&e.push(t[si])}var ND=[];function XP(t){return t[zt]??e1(t)}function e1(t){let e=ND.pop()??Object.create(n1);return e.lView=t,e}function t1(t){t.lView[zt]!==t&&(t.lView=null,ND.push(t))}var n1=he(k({},js),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ul(t.lView)},consumerOnSignalRead(){this.lView[zt]=this}});function r1(t){let e=t[zt]??Object.create(i1);return e.lView=t,e}var i1=he(k({},js),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=ai(t.lView);for(;e&&!PD(e[de]);)e=ai(e);e&&p0(e)},consumerOnSignalRead(){this.lView[zt]=this}});function PD(t){return t.type!==2}var o1=100;function OD(t,e=!0,n=0){let r=t[In],i=r.rendererFactory,o=!1;o||i.begin?.();try{s1(t,n)}catch(s){throw e&&xD(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function s1(t,e){let n=w0();try{eE(!0),vp(t,e);let r=0;for(;Ys(t);){if(r===o1)throw new G(103,!1);r++,vp(t,1)}}finally{eE(n)}}function a1(t,e,n,r){let i=e[Z];if((i&256)===256)return;let o=!1,s=!1;!o&&e[In].inlineEffectRunner?.flush(),zp(e);let a=!0,u=null,l=null;o||(PD(t)?(l=XP(e),u=qc(l)):iI()===null?(a=!1,l=r1(e),u=qc(l)):e[zt]&&(ff(e[zt]),e[zt]=null));try{f0(e),Kx(t.bindingStartIndex),n!==null&&ID(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&Su(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Au(e,y,0,null),kf(e,0)}if(s||c1(e),kD(e,0),t.contentQueries!==null&&RD(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&Su(e,y)}else{let y=t.contentHooks;y!==null&&Au(e,y,1),kf(e,1)}EP(t,e);let p=t.components;p!==null&&LD(e,p,0);let m=t.viewQuery;if(m!==null&&yp(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&Su(e,y)}else{let y=t.viewHooks;y!==null&&Au(e,y,2),kf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Of]){for(let y of e[Of])y();e[Of]=null}o||(e[Z]&=-73)}catch(h){throw o||ul(e),h}finally{l!==null&&(df(l,u),a&&t1(l)),qp()}}function kD(t,e){for(let n=W0(t);n!==null;n=K0(n))for(let r=qt;r<n.length;r++){let i=n[r];FD(i,e)}}function c1(t){for(let e=W0(t);e!==null;e=K0(e)){if(!(e[Z]&ju.HasTransplantedViews))continue;let n=e[Vu];for(let r=0;r<n.length;r++){let i=n[r];p0(i)}}}function u1(t,e,n){let r=Or(e,t);FD(r,n)}function FD(t,e){$p(t)&&vp(t,e)}function vp(t,e){let r=t[de],i=t[Z],o=t[zt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&hf(o)),s||=!1,o&&(o.dirty=!1),t[Z]&=-9217,s)a1(r,t,r.template,t[sn]);else if(i&8192){kD(t,1);let a=r.components;a!==null&&LD(t,a,1)}}function LD(t,e,n){for(let r=0;r<e.length;r++)u1(t,e[r],n)}function fg(t,e){let n=w0()?64:1088;for(t[In].changeDetectionScheduler?.notify(e);t;){t[Z]|=n;let r=ai(t);if(Zf(t)&&!r)return t;t=r}return null}var di=class{get rootNodes(){let e=this._lView,n=e[de];return Qu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[sn]}set context(e){this._lView[sn]=e}get destroyed(){return(this._lView[Z]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[bt];if(er(e)){let n=e[Lu],r=n?n.indexOf(this):-1;r>-1&&(pp(e,r),Pu(n,r))}this._attachedToViewContainer=!1}hD(this._lView[de],this._lView)}onDestroy(e){g0(this._lView,e)}markForCheck(){fg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Z]&=-129}reattach(){ep(this._lView),this._lView[Z]|=128}detectChanges(){this._lView[Z]|=1024,OD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new G(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Zf(this._lView),n=this._lView[fo];n!==null&&!e&&sg(n,this._lView),lD(this._lView[de],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new G(902,!1);this._appRef=e;let n=Zf(this._lView),r=this._lView[fo];r!==null&&!n&&dD(r,this._lView),ep(this._lView)}},yl=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=h1;let t=e;return t})(),l1=yl,d1=class extends l1{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=YP(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new di(i)}};function h1(){return f1(Mt(),Te())}function f1(t,e){return t.type&4?new d1(e,t,ll(t,e)):null}var oz=new RegExp(`^(\\d+)*(${ON}|${PN})*(.*)`);var p1=()=>null;function _E(t,e){return p1(t,e)}var Js=class{},pg=new Q("",{providedIn:"root",factory:()=>!1});var VD=new Q(""),jD=new Q(""),_p=class{},Yu=class{};function g1(t){let e=Error(`No component factory found for ${Dt(t)}.`);return e[m1]=t,e}var m1="ngComponent";var wp=class{resolveComponentFactory(e){throw g1(e)}},Dg=class Dg{};Dg.NULL=new wp;var mo=Dg,yo=class{},fi=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>y1();let t=e;return t})();function y1(){let t=Te(),e=Mt(),n=Or(e.index,t);return(Ar(n)?n:t)[tt]}var v1=(()=>{let e=class e{};e.\u0275prov=$({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();var wE=new Set;function sa(t){wE.has(t)||(wE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var UD=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=$({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Ip(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=$I(i,a);else if(o==2){let u=a,l=e[++s];r=$I(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Ju=class extends mo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=oi(e);return new Zs(n,this.ngModule)}};function IE(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Mr.None;e?n.push({propName:s,templateName:r,isSignal:(a&Mr.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function _1(t){let e=t.toLowerCase();return e==="svg"?l0:e==="math"?kx:null}var Zs=class extends Yu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=IE(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return IE(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=px(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=we(null);try{i=i||this.ngModule;let s=i instanceof Gt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new np(e,s):e,u=a.get(yo,null);if(u===null)throw new G(407,!1);let l=a.get(v1,null),h=a.get(UD,null),p=a.get(Js,null),m={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},y=u.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",x=r?CP(y,r,this.componentDef.encapsulation,a):uD(y,S,_1(S)),R=512;this.componentDef.signals?R|=4096:this.componentDef.onPush||(R|=16);let j=null;x!==null&&(j=ng(x,a,!0));let K=ug(0,null,null,1,0,null,null,null,null,null,null),H=pl(null,K,null,R,null,null,m,y,a,null,j);zp(H);let me,je;try{let ie=this.componentDef,D,v=null;ie.findHostDirectiveDefs?(D=[],v=new Map,ie.findHostDirectiveDefs(ie,D,v),D.push(ie)):D=[ie];let w=w1(H,x),E=I1(w,x,ie,D,H,m,y);je=h0(K,Dn),x&&b1(y,ie,x,r),n!==void 0&&C1(je,this.ngContentSelectors,n),me=D1(E,ie,D,v,H,[T1]),hg(K,H,null)}finally{qp()}return new Ep(this.componentType,me,ll(je,H),H,je)}finally{we(o)}}},Ep=class extends _p{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new di(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;dg(o[de],o,i,e,n),this.previousInputValues.set(e,n);let s=Or(this._tNode.index,o);fg(s,1)}}get injector(){return new ri(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function w1(t,e){let n=t[de],r=Dn;return t[r]=e,gl(n,r,2,"#host",null)}function I1(t,e,n,r,i,o,s){let a=i[de];E1(r,t,e,s);let u=null;e!==null&&(u=ng(e,i[ho]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=pl(i,CD(n),null,h,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&mp(a,t,r.length-1),ml(i,p),i[t.index]=p}function E1(t,e,n,r){for(let i of t)e.mergedAttrs=Ws(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Ip(e,e.mergedAttrs,!0),n!==null&&yD(r,n,e))}function D1(t,e,n,r,i,o){let s=Mt(),a=i[de],u=cn(s,i);SD(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,m=go(i,a,p,s);li(m,i)}AD(a,i,s),u&&li(u,i);let l=go(i,a,s.directiveStart+s.componentOffset,s);if(t[sn]=i[sn]=l,o!==null)for(let h of o)h(l,e);return ED(a,s,i),l}function b1(t,e,n,r){if(r)Kf(t,n,["ng-version","18.2.1"]);else{let{attrs:i,classes:o}=gx(e.selectors[0]);i&&Kf(t,n,i),o&&o.length>0&&mD(t,n,o.join(" "))}}function C1(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function T1(){let t=Mt();Qp(Te()[de],t)}var Ao=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=S1;let t=e;return t})();function S1(){let t=Mt();return M1(t,Te())}var A1=Ao,BD=class extends A1{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ll(this._hostTNode,this._hostLView)}get injector(){return new ri(this._hostTNode,this._hostLView)}get parentInjector(){let e=Yp(this._hostTNode,this._hostLView);if(x0(e)){let n=$u(e,this._hostLView),r=Bu(e),i=n[de].data[r+8];return new ri(i,n)}else return new ri(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=EE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-qt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=_E(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,vE(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!xx(e),a;if(s)a=n;else{let S=n||{};a=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef}let u=s?e:new Zs(oi(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let x=(s?l:this.parentInjector).get(Gt,null);x&&(o=x)}let h=oi(u.componentType??{}),p=_E(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,o);return this.insertImpl(y.hostView,a,vE(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Lx(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[bt],l=new BD(u,u[an],u[bt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return JP(s,i,o,r),e.attachToViewContainerRef(),BE(Uf(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=EE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=pp(this._lContainer,n);r&&(Pu(Uf(this._lContainer),n),hD(r[de],r))}detach(e){let n=this._adjustIndex(e,-1),r=pp(this._lContainer,n);return r&&Pu(Uf(this._lContainer),n)!=null?new di(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function EE(t){return t[Lu]}function Uf(t){return t[Lu]||(t[Lu]=[])}function M1(t,e){let n,r=e[t.index];return er(r)?n=r:(n=MD(r,e,null,t),e[t.index]=n,ml(e,n)),x1(n,e,t,r),new BD(n,t,e)}function R1(t,e){let n=t[tt],r=n.createComment(""),i=cn(e,t),o=pD(n,i);return Ku(n,o,r,fP(n,i),!1),r}var x1=O1,N1=()=>!1;function P1(t,e,n){return N1(t,e,n)}function O1(t,e,n,r){if(t[si])return;let i;n.type&8?i=bn(r):i=R1(e,n),t[si]=i}function k1(t){return typeof t=="function"&&t[Kn]!==void 0}function vl(t,e){sa("NgSignals");let n=gI(t),r=n[Kn];return e?.equal&&(r.equal=e.equal),n.set=i=>pf(r,i),n.update=i=>mI(r,i),n.asReadonly=F1.bind(n),n}function F1(){let t=this[Kn];if(t.readonlyFn===void 0){let e=()=>this();e[Kn]=t,t.readonlyFn=e}return t.readonlyFn}function $D(t){return k1(t)&&typeof t.set=="function"}function L1(t){return Object.getPrototypeOf(t.prototype).constructor}function pi(t){let e=L1(t.type),n=!0,r=[t];for(;e;){let i;if(Rr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new G(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Du(t.inputs),s.inputTransforms=Du(t.inputTransforms),s.declaredInputs=Du(t.declaredInputs),s.outputs=Du(t.outputs);let a=i.hostBindings;a&&$1(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&U1(t,u),l&&B1(t,l),V1(t,i),kR(t.outputs,i.outputs),Rr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===pi&&(n=!1)}}e=Object.getPrototypeOf(e)}j1(r)}function V1(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function j1(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ws(i.hostAttrs,n=Ws(n,i.hostAttrs))}}function Du(t){return t===co?{}:t===Ht?[]:t}function U1(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function B1(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function $1(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var Pr=class{},Xs=class{};var Dp=class extends Pr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ju(this);let o=YE(e);this._bootstrapComponents=cD(o.bootstrap),this._r3Injector=U0(e,n,[{provide:Pr,useValue:this},{provide:mo,useValue:this.componentFactoryResolver},...r],Dt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},bp=class extends Xs{constructor(e){super(),this.moduleType=e}create(e){return new Dp(this.moduleType,e,[])}};var Zu=class extends Pr{constructor(e){super(),this.componentFactoryResolver=new Ju(this),this.instance=null;let n=new Ks([...e.providers,{provide:Pr,useValue:this},{provide:mo,useValue:this.componentFactoryResolver}],e.parent||Up(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function gg(t,e,n=null){return new Zu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function HD(t){return z1(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function H1(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function z1(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function q1(t,e,n){return t[e]=n}function aa(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function G1(t){return(t.flags&32)===32}function W1(t,e,n,r,i,o,s,a,u){let l=e.consts,h=gl(e,t,4,s||null,a||null);TD(e,n,h,Uu(l,u)),Qp(e,h);let p=h.tView=ug(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function K1(t,e,n,r,i,o,s,a,u,l){let h=n+Dn,p=e.firstCreatePass?W1(h,e,t,r,i,o,s,a,u):e.data[h];ra(p,!1);let m=Q1(e,t,p,n);Wp()&&ag(e,t,m,p),li(m,t);let y=MD(m,t,m,p);return t[h]=y,ml(t,y),P1(y,p,t),Bp(p)&&DD(e,t,p),u!=null&&bD(t,p,l),p}function Ge(t,e,n,r,i,o,s,a){let u=Te(),l=At(),h=Uu(l.consts,o);return K1(u,l,t,e,n,r,i,h,s,a),Ge}var Q1=Y1;function Y1(t,e,n,r){return Kp(!0),e[tt].createComment("")}function zD(t,e,n,r){return aa(t,Hp(),n)?e+rl(n)+r:Fr}function bu(t,e){return t<<17|e<<2}function hi(t){return t>>17&32767}function J1(t){return(t&2)==2}function Z1(t,e){return t&131071|e<<17}function Cp(t){return t|2}function vo(t){return(t&131068)>>2}function Bf(t,e){return t&-131069|e<<2}function X1(t){return(t&1)===1}function Tp(t){return t|1}function eO(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=hi(s),u=vo(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||na(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=hi(t[a+1]);t[r+1]=bu(m,a),m!==0&&(t[m+1]=Bf(t[m+1],r)),t[a+1]=Z1(t[a+1],r)}else t[r+1]=bu(a,0),a!==0&&(t[a+1]=Bf(t[a+1],r)),a=r;else t[r+1]=bu(u,0),a===0?a=r:t[u+1]=Bf(t[u+1],r),u=r;l&&(t[r+1]=Cp(t[r+1])),DE(t,h,r,!0),DE(t,h,r,!1),tO(e,h,t,r,o),s=bu(a,u),o?e.classBindings=s:e.styleBindings=s}function tO(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&na(o,e)>=0&&(n[r+1]=Tp(n[r+1]))}function DE(t,e,n,r){let i=t[n+1],o=e===null,s=r?hi(i):vo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];nO(u,e)&&(a=!0,t[s+1]=r?Tp(l):Cp(l)),s=r?hi(l):vo(l)}a&&(t[n+1]=r?Cp(i):Tp(i))}function nO(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?na(t,e)>=0:!1}function ve(t,e,n){let r=Te(),i=Hp();if(aa(r,i,e)){let o=At(),s=Gp();lg(o,s,r,t,e,r[tt],n,!1)}return ve}function bE(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";dg(t,n,o[s],s,r)}function mg(t,e){return rO(t,e,null,!0),mg}function rO(t,e,n,r){let i=Te(),o=At(),s=Qx(2);if(o.firstUpdatePass&&oO(o,t,s,r),e!==Fr&&aa(i,s,e)){let a=o.data[bo()];lO(o,a,i,i[tt],t,i[s+1]=dO(e,n),r,s)}}function iO(t,e){return e>=t.expandoStartIndex}function oO(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[bo()],s=iO(t,n);hO(o,r)&&e===null&&!s&&(e=!1),e=sO(i,o,e,r),eO(i,o,e,n,s,r)}}function sO(t,e,n,r){let i=Xx(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=$f(null,t,e,n,r),n=ea(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=$f(i,t,e,n,r),o===null){let u=aO(t,e,r);u!==void 0&&Array.isArray(u)&&(u=$f(null,t,e,u[1],r),u=ea(u,e.attrs,r),cO(t,e,r,u))}else o=uO(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function aO(t,e,n){let r=n?e.classBindings:e.styleBindings;if(vo(r)!==0)return t[hi(r)]}function cO(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[hi(i)]=r}function uO(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=ea(r,s,n)}return ea(r,e.attrs,n)}function $f(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=ea(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ea(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),tx(t,s,n?!0:e[++o]))}return t===void 0?null:t}function lO(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=X1(l)?CE(u,e,n,i,vo(l),s):void 0;if(!Xu(h)){Xu(o)||J1(l)&&(o=CE(u,null,n,i,a,s));let p=d0(bo(),n);wP(r,s,p,i,o)}}function CE(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===Fr&&(m=p?Ht:void 0);let y=p?Nf(m,r):h===r?m:void 0;if(l&&!Xu(y)&&(y=Nf(u,r)),Xu(y)&&(a=y,s))return a;let S=t[i+1];i=s?hi(S):vo(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Nf(u,r))}return a}function Xu(t){return t!==void 0}function dO(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Dt(ia(t)))),t}function hO(t,e){return(t.flags&(e?8:16))!==0}function fO(t,e,n,r,i,o){let s=e.consts,a=Uu(s,i),u=gl(e,t,2,r,a);return TD(e,n,u,Uu(s,o)),u.attrs!==null&&Ip(u,u.attrs,!1),u.mergedAttrs!==null&&Ip(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function O(t,e,n,r){let i=Te(),o=At(),s=Dn+t,a=i[tt],u=o.firstCreatePass?fO(s,o,i,e,n,r):o.data[s],l=pO(o,i,u,a,e,t);i[s]=l;let h=Bp(u);return ra(u,!0),yD(a,l,u),!G1(u)&&Wp()&&ag(o,i,l,u),Ux()===0&&li(l,i),Bx(),h&&(DD(o,i,u),ED(o,u,i)),r!==null&&bD(i,u),O}function L(){let t=Mt();_0()?Wx():(t=t.parent,ra(t,!1));let e=t;zx(e)&&qx(),$x();let n=At();return n.firstCreatePass&&(Qp(n,t),o0(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&sN(e)&&bE(n,e,Te(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&aN(e)&&bE(n,e,Te(),e.stylesWithoutHost,!1),L}function Pe(t,e,n,r){return O(t,e,n,r),L(),Pe}var pO=(t,e,n,r,i,o)=>(Kp(!0),uD(r,i,nN()));function Ct(){return Te()}var el="en-US";var gO=el;function mO(t){typeof t=="string"&&(gO=t.toLowerCase().replace(/_/g,"-"))}var yO=(t,e,n)=>{};function Ee(t,e,n,r){let i=Te(),o=At(),s=Mt();return qD(o,i,i[tt],s,t,e,r),Ee}function vO(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Fu],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function qD(t,e,n,r,i,o,s){let a=Bp(r),l=t.firstCreatePass&&qP(t),h=e[sn],p=zP(e),m=!0;if(r.type&3||s){let x=cn(r,e),R=s?s(x):x,j=p.length,K=s?me=>s(bn(me[r.index])):r.index,H=null;if(!s&&a&&(H=vO(t,e,i,r.index)),H!==null){let me=H.__ngLastListenerFn__||H;me.__ngNextListenerFn__=o,H.__ngLastListenerFn__=o,m=!1}else{o=SE(r,e,h,o),yO(x,i,o);let me=n.listen(R,i,o);p.push(o,me),l&&l.push(i,K,j,j+1)}}else o=SE(r,e,h,o);let y=r.outputs,S;if(m&&y!==null&&(S=y[i])){let x=S.length;if(x)for(let R=0;R<x;R+=2){let j=S[R],K=S[R+1],je=e[j][K].subscribe(o),ie=p.length;p.push(o,je),l&&l.push(i,r.index,ie,-(ie+1))}}}function TE(t,e,n,r){let i=we(null);try{return vn(6,e,n),n(r)!==!1}catch(o){return xD(t,o),!1}finally{vn(7,e,n),we(i)}}function SE(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?Or(t.index,e):e;fg(s,5);let a=TE(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)a=TE(e,n,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function ue(t=1){return tN(t)}function yg(t,e,n){return GD(t,"",e,"",n),yg}function GD(t,e,n,r,i){let o=Te(),s=zD(o,e,n,r);if(s!==Fr){let a=At(),u=Gp();lg(a,u,o,t,s,o[tt],i,!1)}return GD}function _O(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function X(t,e=""){let n=Te(),r=At(),i=t+Dn,o=r.firstCreatePass?gl(r,i,1,e,null):r.data[i],s=wO(r,n,o,e,t);n[i]=s,Wp()&&ag(r,n,s,o),ra(o,!1)}var wO=(t,e,n,r,i)=>(Kp(!0),rP(e[tt],r));function Cn(t){return WD("",t,""),Cn}function WD(t,e,n){let r=Te(),i=zD(r,t,e,n);return i!==Fr&&GP(r,bo(),i),WD}function Tn(t,e,n){$D(e)&&(e=e());let r=Te(),i=Hp();if(aa(r,i,e)){let o=At(),s=Gp();lg(o,s,r,t,e,r[tt],n,!1)}return Tn}function nr(t,e){let n=$D(t);return n&&t.set(e),n}function Sn(t,e){let n=Te(),r=At(),i=Mt();return qD(r,n,n[tt],i,t,e),Sn}function IO(t,e,n){let r=At();if(r.firstCreatePass){let i=Rr(t);Sp(n,r.data,r.blueprint,i,!0),Sp(e,r.data,r.blueprint,i,!1)}}function Sp(t,e,n,r,i){if(t=Et(t),Array.isArray(t))for(let o=0;o<t.length;o++)Sp(t[o],e,n,r,i);else{let o=At(),s=Te(),a=Mt(),u=lo(t)?t:Et(t.provide),l=n0(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(lo(t)||!t.multi){let y=new ui(l,i,B),S=zf(u,e,i?h:h+m,p);S===-1?(ip(zu(a,s),o,u),Hf(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[S]=y,s[S]=y)}else{let y=zf(u,e,h+m,p),S=zf(u,e,h,h+m),x=y>=0&&n[y],R=S>=0&&n[S];if(i&&!R||!i&&!x){ip(zu(a,s),o,u);let j=bO(i?DO:EO,n.length,i,r,l);!i&&R&&(n[S].providerFactory=j),Hf(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(j),s.push(j)}else{let j=KD(n[i?S:y],l,!i&&r);Hf(o,t,y>-1?y:S,j)}!i&&r&&R&&n[S].componentProviders++}}}function Hf(t,e,n,r){let i=lo(e),o=Dx(e);if(i||o){let u=(o?Et(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function KD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function zf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function EO(t,e,n,r){return Ap(this.multi,[])}function DO(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=go(n,n[de],this.providerFactory.index,r);o=a.slice(0,s),Ap(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Ap(i,o);return o}function Ap(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function bO(t,e,n,r,i){let o=new ui(t,n,B);return o.multi=[],o.index=e,o.componentProviders=0,KD(o,i,r&&!n),o}function _l(t,e=[]){return n=>{n.providersResolver=(r,i)=>IO(r,i?i(t):t,e)}}var CO=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=XE(!1,r.type),o=i.length>0?gg([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=$({token:e,providedIn:"environment",factory:()=>new e(W(Gt))});let t=e;return t})();function ke(t){sa("NgStandalone"),t.getStandaloneInjector=e=>e.get(CO).getOrCreateStandaloneInjector(t)}function Mo(t,e,n,r){return QD(Te(),I0(),t,e,n,r)}function TO(t,e){let n=t[e];return n===Fr?void 0:n}function QD(t,e,n,r,i,o){let s=e+n;return aa(t,s,i)?q1(t,s+1,o?r.call(o,i):r(i)):TO(t,s+1)}function YD(t,e){let n=At(),r,i=t+Dn;n.firstCreatePass?(r=SO(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=ii(r.type,!0)),s,a=St(B);try{let u=Hu(!1),l=o();return Hu(u),_O(n,Te(),i,l),l}finally{St(a)}}function SO(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function JD(t,e,n){let r=t+Dn,i=Te(),o=Fx(i,r);return AO(i,r)?QD(i,I0(),e,o.transform,n,o):o.transform(n)}function AO(t,e){return t[de].data[e].pure}var wl=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var ZD=new Q("");function Lr(t){return!!t&&typeof t.then=="function"}function vg(t){return!!t&&typeof t.subscribe=="function"}var Il=new Q(""),XD=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=F(Il,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Lr(s))r.push(s);else if(vg(s)){let a=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_g=new Q("");function MO(){pI(()=>{throw new G(600,!1)})}function RO(t){return t.isBoundToModule}var xO=10;function NO(t,e,n){try{let r=n();return Lr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var gi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=F(TN),this.afterRenderEffectManager=F(UD),this.zonelessEnabled=F(pg),this.externalTestViews=new Set,this.beforeRender=new Je,this.afterTick=new Je,this.componentTypes=[],this.components=[],this.isStable=F(To).hasPendingTasks.pipe(le(r=>!r)),this._injector=F(Gt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:o=>{o&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof Yu;if(!this._injector.get(XD).done){let y=!o&&QE(r),S=!1;throw new G(405,S)}let a;o?a=r:a=this._injector.get(mo).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=RO(a)?void 0:this._injector.get(Pr),l=i||a.selector,h=a.create(xr.NULL,[],l,u),p=h.location.nativeElement,m=h.injector.get(ZD,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Mu(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new G(101,!1);let i=we(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,we(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(yo,null,{optional:!0}));let o=0,s=this.afterRenderEffectManager;for(;o<xO;){let a=o===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:u,notifyErrorHandler:l}of this._views)PO(u,l,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(o++,s.executeInternalCallbacks(),!this.allViews.some(({_lView:u})=>Ys(u))&&(s.execute(),!this.allViews.some(({_lView:u})=>Ys(u))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Mu(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(_g,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Mu(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new G(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Mu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function PO(t,e,n,r){if(!n&&!Ys(t))return;OD(t,e,n&&!r?0:1)}var Mp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},wg=(()=>{let e=class e{compileModuleSync(r){return new bp(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=YE(r),s=cD(o.declarations).reduce((a,u)=>{let l=oi(u);return l&&a.push(new Zs(l)),a},[]);return new Mp(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var OO=(()=>{let e=class e{constructor(){this.zone=F(et),this.changeDetectionScheduler=F(Js),this.applicationRef=F(gi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kO=new Q("",{factory:()=>!1});function eb({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new et(he(k({},nb()),{scheduleInRootZone:n})),[{provide:et,useFactory:t},{provide:uo,multi:!0,useFactory:()=>{let r=F(OO,{optional:!0});return()=>r.initialize()}},{provide:uo,multi:!0,useFactory:()=>{let r=F(FO);return()=>{r.initialize()}}},e===!0?{provide:VD,useValue:!0}:[],{provide:jD,useValue:n??B0}]}function tb(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=eb({ngZoneFactory:()=>{let i=nb(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&sa("NgZone_CoalesceEvent"),new et(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return ol([{provide:kO,useValue:!0},{provide:pg,useValue:!1},r])}function nb(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var FO=(()=>{let e=class e{constructor(){this.subscription=new ze,this.initialized=!1,this.zone=F(et),this.pendingTasks=F(To)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{et.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{et.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var LO=(()=>{let e=class e{constructor(){this.appRef=F(gi),this.taskService=F(To),this.ngZone=F(et),this.zonelessEnabled=F(pg),this.disableScheduling=F(VD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new ze,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Gu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(F(jD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof up||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?oE:H0;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick(this.shouldRefreshViews))):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick(this.shouldRefreshViews)))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Gu+this.angularZoneId))}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(i),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,oE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function VO(){return typeof $localize<"u"&&$localize.locale||el}var Ig=new Q("",{providedIn:"root",factory:()=>F(Ig,se.Optional|se.SkipSelf)||VO()});var rb=new Q("");function Cu(t){return!!t.platformInjector}function jO(t){let e=Cu(t)?t.r3Injector:t.moduleRef.injector,n=e.get(et);return n.run(()=>{Cu(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Nr,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Cu(t)){let o=()=>e.destroy(),s=t.platformInjector.get(rb);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else t.moduleRef.onDestroy(()=>{Mu(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return NO(r,n,()=>{let o=e.get(XD);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Ig,el);if(mO(s||el),Cu(t)){let a=e.get(gi);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return UO(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function UO(t,e){let n=t.injector.get(gi);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new G(-403,!1);e.push(t)}var Ru=null;function BO(t=[],e){return xr.create({name:e,providers:[{provide:sl,useValue:"platform"},{provide:rb,useValue:new Set([()=>Ru=null])},...t]})}function $O(t=[]){if(Ru)return Ru;let e=BO(t);return Ru=e,MO(),HO(e),e}function HO(t){t.get(eg,null)?.forEach(n=>n())}var Vr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=zO;let t=e;return t})();function zO(t){return qO(Mt(),Te(),(t&16)===16)}function qO(t,e,n){if(cl(t)&&!n){let r=Or(t.index,e);return new di(r,r)}else if(t.type&175){let r=e[En];return new di(r,e)}return null}var Rp=class{constructor(){}supports(e){return HD(e)}create(e){return new xp(e)}},GO=(t,e)=>e,xp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||GO}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<AE(r,i,o)?n:r,a=AE(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,S=y+m;h<=S&&S<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!HD(e))throw new G(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,H1(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Np(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new tl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new tl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Np=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Pp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},tl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Pp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function AE(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function ME(){return new Eg([new Rp])}var Eg=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||ME()),deps:[[e,new UE,new Fp]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new G(901,!1)}};e.\u0275prov=$({token:e,providedIn:"root",factory:ME});let t=e;return t})();function ib(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=$O(r),o=[eb({}),{provide:Js,useExisting:LO},...n||[]],s=new Zu({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return jO({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var ob=new Q("");function El(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Dl(t,e){sa("NgSignals");let n=dI(t);return e?.equal&&(n[Kn].equal=e.equal),n}function An(t){let e=we(null);try{return t()}finally{we(e)}}var db=null;function rr(){return db}function hb(t){db??=t}var bl=class{};var Lt=new Q(""),fb=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>F(QO),providedIn:"platform"});let t=e;return t})();var QO=(()=>{let e=class e extends fb{constructor(){super(),this._doc=F(Lt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return rr().getBaseHref(this._doc)}onPopState(r){let i=rr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=rr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function pb(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function sb(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function mi(t){return t&&t[0]!=="?"?"?"+t:t}var Tl=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>F(gb),providedIn:"root"});let t=e;return t})(),YO=new Q(""),gb=(()=>{let e=class e extends Tl{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??F(Lt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return pb(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+mi(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+mi(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+mi(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(W(fb),W(YO,8))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ca=(()=>{let e=class e{constructor(r){this._subject=new Le,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=XO(sb(ab(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+mi(i))}normalize(r){return e.stripTrailingSlash(ZO(this._basePath,ab(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+mi(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+mi(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=mi,e.joinWithSlash=pb,e.stripTrailingSlash=sb,e.\u0275fac=function(i){return new(i||e)(W(Tl))},e.\u0275prov=$({token:e,factory:()=>JO(),providedIn:"root"});let t=e;return t})();function JO(){return new ca(W(Tl))}function ZO(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function ab(t){return t.replace(/\/index.html$/,"")}function XO(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function mb(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var bg=/\s+/,cb=[],Sl=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=cb,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(bg):cb}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(bg):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(bg).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(B(kr),B(fi))},e.\u0275dir=Ft({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Cg=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ro=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new Cg(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let u=i.get(s);i.move(u,a),ub(u,o)}});for(let o=0,s=i.length;o<s;o++){let u=i.get(o).context;u.index=o,u.count=s,u.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);ub(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(B(Ao),B(yl),B(Eg))},e.\u0275dir=Ft({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function ub(t,e){t.context.$implicit=e.item}var Wt=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Tg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){lb("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){lb("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(B(Ao),B(yl))},e.\u0275dir=Ft({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Tg=class{constructor(){this.$implicit=null,this.ngIf=null}};function lb(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Dt(e)}'.`)}function ek(t,e){return new G(2100,!1)}var Sg=class{createSubscription(e,n){return An(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){An(()=>e.unsubscribe())}},Ag=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},tk=new Ag,nk=new Sg,yb=(()=>{let e=class e{constructor(r){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){if(!this._obj){if(r)try{this.markForCheckOnValueUpdate=!1,this._subscribe(r)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(Lr(r))return tk;if(vg(r))return nk;throw ek(e,r)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(i){return new(i||e)(B(Vr,16))},e.\u0275pipe=GE({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var vb="browser",rk="server";function Rg(t){return t===rk}var Cl=class{};var Pg=class extends bl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Og=class t extends Pg{static makeCurrent(){hb(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=ik();return n==null?null:ok(n)}resetBaseElement(){ua=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return mb(document.cookie,e)}},ua=null;function ik(){return ua=ua||document.querySelector("base"),ua?ua.getAttribute("href"):null}function ok(t){return new URL(t,document.baseURI).pathname}var sk=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),Al=new Q(""),Eb=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new G(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(W(Al),W(et))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),la=class{constructor(e){this._doc=e}},xg="ng-app-id",Db=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Rg(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${xg}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(xg),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(xg,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(W(Lt),W(Xp),W(tg,8),W(So))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),Ng={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Fg=/%COMP%/g,bb="%COMP%",ak=`_nghost-${bb}`,ck=`_ngcontent-${bb}`,uk=!0,lk=new Q("",{providedIn:"root",factory:()=>uk});function dk(t){return ck.replace(Fg,t)}function hk(t){return ak.replace(Fg,t)}function Cb(t,e){return e.map(n=>n.replace(Fg,t))}var _b=(()=>{let e=class e{constructor(r,i,o,s,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Rg(u),this.defaultRenderer=new da(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===wn.ShadowDom&&(i=he(k({},i),{encapsulation:wn.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Ml?o.applyToHost(r):o instanceof ha&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case wn.Emulated:s=new Ml(l,h,i,this.appId,p,a,u,m);break;case wn.ShadowDom:return new kg(l,h,r,i,a,u,this.nonce,m);default:s=new ha(l,h,i,p,a,u,m);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(W(Eb),W(Db),W(Xp),W(lk),W(Lt),W(So),W(et),W(tg))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),da=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Ng[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(wb(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(wb(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new G(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Ng[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Ng[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Jn.DashCase|Jn.Important)?e.style.setProperty(n,r,i&Jn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Jn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=rr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function wb(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var kg=class extends da{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=Cb(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ha=class extends da{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?Cb(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ml=class extends ha{constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=dk(l),this.hostAttr=hk(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},fk=(()=>{let e=class e extends la{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(W(Lt))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),pk=(()=>{let e=class e extends la{constructor(r){super(r),this.delegate=F(ob,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,o){return this.delegate.addEventListener(r,i,o)}removeEventListener(r,i,o){return this.delegate.removeEventListener(r,i,o)}};e.\u0275fac=function(i){return new(i||e)(W(Lt))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),Ib=["alt","control","meta","shift"],gk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mk={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},yk=(()=>{let e=class e extends la{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>rr().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),Ib.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=gk[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Ib.forEach(a=>{if(a!==o){let u=mk[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(W(Lt))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})();function Tb(t,e){return ib(k({rootComponent:t},vk(e)))}function vk(t){return{appProviders:[...Dk,...t?.providers??[]],platformProviders:Ek}}function _k(){Og.makeCurrent()}function wk(){return new Nr}function Ik(){return Y0(document),document}var Ek=[{provide:So,useValue:vb},{provide:eg,useValue:_k,multi:!0},{provide:Lt,useFactory:Ik,deps:[]}];var Dk=[{provide:sl,useValue:"root"},{provide:Nr,useFactory:wk,deps:[]},{provide:Al,useClass:fk,multi:!0,deps:[Lt,et,So]},{provide:Al,useClass:yk,multi:!0,deps:[Lt]},{provide:Al,useClass:pk,multi:!0},_b,Db,Eb,{provide:yo,useExisting:_b},{provide:Cl,useClass:sk,deps:[]},[]];var Sb=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(W(Lt))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var oe="primary",Ma=Symbol("RouteTitle"),Bg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Fo(t){return new Bg(t)}function Tk(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Sk(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Mn(t[n],e[n]))return!1;return!0}function Mn(t,e){let n=t?$g(t):void 0,r=e?$g(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!kb(t[i],e[i]))return!1;return!0}function $g(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function kb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function Fb(t){return t.length>0?t[t.length-1]:null}function jr(t){return bf(t)?t:Lr(t)?He(Promise.resolve(t)):ne(t)}var Ak={exact:Vb,subset:jb},Lb={exact:Mk,subset:Rk,ignored:()=>!0};function Ab(t,e,n){return Ak[n.paths](t.root,e.root,n.matrixParams)&&Lb[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Mk(t,e){return Mn(t,e)}function Vb(t,e,n){if(!vi(t.segments,e.segments)||!Nl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Vb(t.children[r],e.children[r],n))return!1;return!0}function Rk(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>kb(t[n],e[n]))}function jb(t,e,n){return Ub(t,e,e.segments,n)}function Ub(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!vi(i,n)||e.hasChildren()||!Nl(i,n,r))}else if(t.segments.length===n.length){if(!vi(t.segments,n)||!Nl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!jb(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!vi(t.segments,i)||!Nl(t.segments,i,r)||!t.children[oe]?!1:Ub(t.children[oe],e,o,r)}}function Nl(t,e,n){return e.every((r,i)=>Lb[n](t[i].parameters,r.parameters))}var or=class{constructor(e=new Ce([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Fo(this.queryParams),this._queryParamMap}toString(){return Pk.serialize(this)}},Ce=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pl(this)}},yi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Fo(this.parameters),this._parameterMap}toString(){return $b(this)}};function xk(t,e){return vi(t,e)&&t.every((n,r)=>Mn(n.parameters,e[r].parameters))}function vi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Nk(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===oe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==oe&&(n=n.concat(e(i,r)))}),n}var pm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>new _a,providedIn:"root"});let t=e;return t})(),_a=class{parse(e){let n=new zg(e);return new or(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${fa(e.root,!0)}`,r=Fk(e.queryParams),i=typeof e.fragment=="string"?`#${Ok(e.fragment)}`:"";return`${n}${r}${i}`}},Pk=new _a;function Pl(t){return t.segments.map(e=>$b(e)).join("/")}function fa(t,e){if(!t.hasChildren())return Pl(t);if(e){let n=t.children[oe]?fa(t.children[oe],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==oe&&r.push(`${i}:${fa(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Nk(t,(r,i)=>i===oe?[fa(t.children[oe],!1)]:[`${i}:${fa(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[oe]!=null?`${Pl(t)}/${n[0]}`:`${Pl(t)}/(${n.join("//")})`}}function Bb(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rl(t){return Bb(t).replace(/%3B/gi,";")}function Ok(t){return encodeURI(t)}function Hg(t){return Bb(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ol(t){return decodeURIComponent(t)}function Mb(t){return Ol(t.replace(/\+/g,"%20"))}function $b(t){return`${Hg(t.path)}${kk(t.parameters)}`}function kk(t){return Object.entries(t).map(([e,n])=>`;${Hg(e)}=${Hg(n)}`).join("")}function Fk(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Rl(n)}=${Rl(i)}`).join("&"):`${Rl(n)}=${Rl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Lk=/^[^\/()?;#]+/;function Lg(t){let e=t.match(Lk);return e?e[0]:""}var Vk=/^[^\/()?;=#]+/;function jk(t){let e=t.match(Vk);return e?e[0]:""}var Uk=/^[^=?&#]+/;function Bk(t){let e=t.match(Uk);return e?e[0]:""}var $k=/^[^&#]+/;function Hk(t){let e=t.match($k);return e?e[0]:""}var zg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ce([],{}):new Ce([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[oe]=new Ce(e,n)),r}parseSegment(){let e=Lg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new G(4009,!1);return this.capture(e),new yi(Ol(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=jk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Lg(this.remaining);i&&(r=i,this.capture(r))}e[Ol(n)]=Ol(r)}parseQueryParam(e){let n=Bk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=Hk(this.remaining);s&&(r=s,this.capture(r))}let i=Mb(n),o=Mb(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Lg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new G(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=oe);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[oe]:new Ce([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new G(4011,!1)}};function Hb(t){return t.segments.length>0?new Ce([],{[oe]:t}):t}function zb(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=zb(i);if(r===oe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Ce(t.segments,e);return zk(n)}function zk(t){if(t.numberOfChildren===1&&t.children[oe]){let e=t.children[oe];return new Ce(t.segments.concat(e.segments),e.children)}return t}function wa(t){return t instanceof or}function qk(t,e,n=null,r=null){let i=qb(t);return Gb(i,e,n,r)}function qb(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new Ce(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=Hb(r);return e??i}function Gb(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Vg(i,i,i,n,r);let o=Gk(e);if(o.toRoot())return Vg(i,i,new Ce([],{}),n,r);let s=Wk(o,i,t),a=s.processChildren?ma(s.segmentGroup,s.index,o.commands):Kb(s.segmentGroup,s.index,o.commands);return Vg(i,s.segmentGroup,a,n,r)}function kl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ia(t){return typeof t=="object"&&t!=null&&t.outlets}function Vg(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=Wb(t,e,n);let a=Hb(zb(s));return new or(a,o,i)}function Wb(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=Wb(o,e,n)}),new Ce(t.segments,r)}var Fl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&kl(r[0]))throw new G(4003,!1);let i=r.find(Ia);if(i&&i!==Fb(r))throw new G(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Gk(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Fl(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Fl(n,e,r)}var Po=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function Wk(t,e,n){if(t.isAbsolute)return new Po(e,!0,0);if(!n)return new Po(e,!1,NaN);if(n.parent===null)return new Po(n,!0,0);let r=kl(t.commands[0])?0:1,i=n.segments.length-1+r;return Kk(n,i,t.numberOfDoubleDots)}function Kk(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new G(4005,!1);i=r.segments.length}return new Po(r,!1,i-o)}function Qk(t){return Ia(t[0])?t[0].outlets:{[oe]:t}}function Kb(t,e,n){if(t??=new Ce([],{}),t.segments.length===0&&t.hasChildren())return ma(t,e,n);let r=Yk(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Ce(t.segments.slice(0,r.pathIndex),{});return o.children[oe]=new Ce(t.segments.slice(r.pathIndex),t.children),ma(o,0,i)}else return r.match&&i.length===0?new Ce(t.segments,{}):r.match&&!t.hasChildren()?qg(t,e,n):r.match?ma(t,0,i):qg(t,e,n)}function ma(t,e,n){if(n.length===0)return new Ce(t.segments,{});{let r=Qk(n),i={};if(Object.keys(r).some(o=>o!==oe)&&t.children[oe]&&t.numberOfChildren===1&&t.children[oe].segments.length===0){let o=ma(t.children[oe],e,n);return new Ce(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Kb(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ce(t.segments,i)}}function Yk(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Ia(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!xb(u,l,s))return o;r+=2}else{if(!xb(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function qg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Ia(o)){let u=Jk(o.outlets);return new Ce(r,u)}if(i===0&&kl(n[0])){let u=t.segments[e];r.push(new yi(u.path,Rb(n[0]))),i++;continue}let s=Ia(o)?o.outlets[oe]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&kl(a)?(r.push(new yi(s,Rb(a))),i+=2):(r.push(new yi(s,{})),i++)}return new Ce(r,{})}function Jk(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=qg(new Ce([],{}),0,r))}),e}function Rb(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function xb(t,e,n){return t==n.path&&Mn(e,n.parameters)}var ya="imperative",ut=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ut||{}),Kt=class{constructor(e,n){this.id=e,this.url=n}},Ea=class extends Kt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=ut.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ln=class extends Kt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ut.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},jt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(jt||{}),Gg=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Gg||{}),ir=class extends Kt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ut.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},_i=class extends Kt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ut.NavigationSkipped}},Da=class extends Kt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=ut.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ll=class extends Kt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ut.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wg=class extends Kt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ut.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kg=class extends Kt{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ut.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Qg=class extends Kt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ut.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yg=class extends Kt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ut.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jg=class{constructor(e){this.route=e,this.type=ut.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Zg=class{constructor(e){this.route=e,this.type=ut.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Xg=class{constructor(e){this.snapshot=e,this.type=ut.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},em=class{constructor(e){this.snapshot=e,this.type=ut.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tm=class{constructor(e){this.snapshot=e,this.type=ut.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nm=class{constructor(e){this.snapshot=e,this.type=ut.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ba=class{},Lo=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function Zk(t,e){return t.providers&&!t._injector&&(t._injector=gg(t.providers,e,`Route: ${t.path}`)),t._injector??e}function un(t){return t.outlet||oe}function Xk(t,e){let n=t.filter(r=>un(r)===e);return n.push(...t.filter(r=>un(r)!==e)),n}function Ra(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var rm=class{get injector(){return Ra(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new zl(this.rootInjector),this.attachRef=null}},zl=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new rm(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(W(Gt))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Vl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=im(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=im(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=om(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return om(e,this._root).map(n=>n.value)}};function im(t,e){if(t===e.value)return e;for(let n of e.children){let r=im(t,n);if(r)return r}return null}function om(t,e){if(t===e.value)return[e];for(let n of e.children){let r=om(t,n);if(r.length)return r.unshift(e),r}return[]}var Vt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function No(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var jl=class extends Vl{constructor(e,n){super(e),this.snapshot=n,gm(this,e)}toString(){return this.snapshot.toString()}};function Qb(t){let e=eF(t),n=new Ze([new yi("",{})]),r=new Ze({}),i=new Ze({}),o=new Ze({}),s=new Ze(""),a=new Rn(n,r,o,s,i,oe,t,e.root);return a.snapshot=e.root,new jl(new Vt(a,[]),e)}function eF(t){let e={},n={},r={},i="",o=new Oo([],e,r,i,n,oe,t,null,{});return new Bl("",new Vt(o,[]))}var Rn=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(le(l=>l[Ma]))??ne(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(le(e=>Fo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(le(e=>Fo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ul(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),t.params),data:k(k({},e.data),t.data),resolve:k(k(k(k({},t.data),e.data),i?.data),t._resolvedData)}:r={params:k({},t.params),data:k({},t.data),resolve:k(k({},t.data),t._resolvedData??{})},i&&Jb(i)&&(r.resolve[Ma]=i.title),r}var Oo=class{get title(){return this.data?.[Ma]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Fo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Fo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Bl=class extends Vl{constructor(e,n){super(n),this.url=e,gm(this,n)}toString(){return Yb(this._root)}};function gm(t,e){e.value._routerState=t,e.children.forEach(n=>gm(t,n))}function Yb(t){let e=t.children.length>0?` { ${t.children.map(Yb).join(", ")} } `:"";return`${t.value}${e}`}function jg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Mn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Mn(e.params,n.params)||t.paramsSubject.next(n.params),Sk(e.url,n.url)||t.urlSubject.next(n.url),Mn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function sm(t,e){let n=Mn(t.params,e.params)&&xk(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||sm(t.parent,e.parent))}function Jb(t){return typeof t.title=="string"||t.title===null}var mm=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=oe,this.activateEvents=new Le,this.deactivateEvents=new Le,this.attachEvents=new Le,this.detachEvents=new Le,this.parentContexts=F(zl),this.location=F(Ao),this.changeDetector=F(Vr),this.inputBinder=F(ym,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new G(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new G(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new G(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new G(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new am(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ft({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Do]});let t=e;return t})(),am=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Rn?this.route:e===zl?this.childContexts:this.parent.get(e,n)}},ym=new Q("");function tF(t,e,n){let r=Ca(t,e._root,n?n._root:void 0);return new jl(r,e)}function Ca(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=nF(t,e,n);return new Vt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ca(t,a)),s}}let r=rF(e.value),i=e.children.map(o=>Ca(t,o));return new Vt(r,i)}}function nF(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ca(t,r,i);return Ca(t,r)})}function rF(t){return new Rn(new Ze(t.url),new Ze(t.params),new Ze(t.queryParams),new Ze(t.fragment),new Ze(t.data),t.outlet,t.component,t)}var Ta=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},Zb="ngNavigationCancelingError";function $l(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=wa(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Xb(!1,jt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Xb(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Zb]=!0,n.cancellationCode=e,n}function iF(t){return eC(t)&&wa(t.url)}function eC(t){return!!t&&t[Zb]}var oF=(t,e,n,r)=>le(i=>(new cm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),cm=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),jg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=No(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=No(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=No(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=No(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new nm(o.value.snapshot))}),e.children.length&&this.forwardEvent(new em(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(jg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),jg(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Hl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ko=class{constructor(e,n){this.component=e,this.route=n}};function sF(t,e,n){let r=t._root,i=e?e._root:null;return pa(r,i,n,[r.value])}function aF(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function jo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!PE(t)?t:e.get(t):r}function pa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=No(e);return t.children.forEach(s=>{cF(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>va(a,n.getContext(s),i)),i}function cF(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=uF(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Hl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?pa(t,e,a?a.children:null,r,i):pa(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ko(a.outlet.component,s))}else s&&va(e,a,i),i.canActivateChecks.push(new Hl(r)),o.component?pa(t,null,a?a.children:null,r,i):pa(t,null,n,r,i);return i}function uF(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!vi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!vi(t.url,e.url)||!Mn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sm(t,e)||!Mn(t.queryParams,e.queryParams);case"paramsChange":default:return!sm(t,e)}}function va(t,e,n){let r=No(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?va(s,e.children.getContext(o),n):va(s,null,n):va(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ko(e.outlet.component,i)):n.canDeactivateChecks.push(new ko(null,i)):n.canDeactivateChecks.push(new ko(null,i))}function xa(t){return typeof t=="function"}function lF(t){return typeof t=="boolean"}function dF(t){return t&&xa(t.canLoad)}function hF(t){return t&&xa(t.canActivate)}function fF(t){return t&&xa(t.canActivateChild)}function pF(t){return t&&xa(t.canDeactivate)}function gF(t){return t&&xa(t.canMatch)}function tC(t){return t instanceof Qn||t?.name==="EmptyError"}var xl=Symbol("INITIAL_VALUE");function Vo(){return nn(t=>mu(t.map(e=>e.pipe(Yn(1),Rf(xl)))).pipe(le(e=>{for(let n of e)if(n!==!0){if(n===xl)return xl;if(n===!1||mF(n))return n}return!0}),tn(e=>e!==xl),Yn(1)))}function mF(t){return wa(t)||t instanceof Ta}function yF(t,e){return Xe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?ne(he(k({},n),{guardsResult:!0})):vF(s,r,i,t).pipe(Xe(a=>a&&lF(a)?_F(r,o,t,e):ne(a)),le(a=>he(k({},n),{guardsResult:a})))})}function vF(t,e,n,r){return He(t).pipe(Xe(i=>bF(i.component,i.route,n,e,r)),yn(i=>i!==!0,!0))}function _F(t,e,n,r){return He(e).pipe(to(i=>eo(IF(i.route.parent,r),wF(i.route,r),DF(t,i.path,n),EF(t,i.route,n))),yn(i=>i!==!0,!0))}function wF(t,e){return t!==null&&e&&e(new tm(t)),ne(!0)}function IF(t,e){return t!==null&&e&&e(new Xg(t)),ne(!0)}function EF(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ne(!0);let i=r.map(o=>yu(()=>{let s=Ra(e)??n,a=jo(o,s),u=hF(a)?a.canActivate(e,t):Zn(s,()=>a(e,t));return jr(u).pipe(yn())}));return ne(i).pipe(Vo())}function DF(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>aF(s)).filter(s=>s!==null).map(s=>yu(()=>{let a=s.guards.map(u=>{let l=Ra(s.node)??n,h=jo(u,l),p=fF(h)?h.canActivateChild(r,t):Zn(l,()=>h(r,t));return jr(p).pipe(yn())});return ne(a).pipe(Vo())}));return ne(o).pipe(Vo())}function bF(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ne(!0);let s=o.map(a=>{let u=Ra(e)??i,l=jo(a,u),h=pF(l)?l.canDeactivate(t,e,n,r):Zn(u,()=>l(t,e,n,r));return jr(h).pipe(yn())});return ne(s).pipe(Vo())}function CF(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return ne(!0);let o=i.map(s=>{let a=jo(s,t),u=dF(a)?a.canLoad(e,n):Zn(t,()=>a(e,n));return jr(u)});return ne(o).pipe(Vo(),nC(r))}function nC(t){return wf(ct(e=>{if(typeof e!="boolean")throw $l(t,e)}),le(e=>e===!0))}function TF(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return ne(!0);let o=i.map(s=>{let a=jo(s,t),u=gF(a)?a.canMatch(e,n):Zn(t,()=>a(e,n));return jr(u)});return ne(o).pipe(Vo(),nC(r))}var Sa=class{constructor(e){this.segmentGroup=e||null}},Aa=class extends Error{constructor(e){super(),this.urlTree=e}};function xo(t){return Xi(new Sa(t))}function SF(t){return Xi(new G(4e3,!1))}function AF(t){return Xi(Xb(!1,jt.GuardRejected))}var um=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ne(r);if(i.numberOfChildren>1||!i.children[oe])return SF(`${e.redirectTo}`);i=i.children[oe]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:S,title:x}=i,R=Zn(o,()=>a({params:y,data:S,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:x}));if(R instanceof or)throw new Aa(R);n=R}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Aa(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new or(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Ce(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new G(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},lm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function MF(t,e,n,r,i){let o=vm(t,e,n);return o.matched?(r=Zk(e,r),TF(r,e,n,i).pipe(le(s=>s===!0?o:k({},lm)))):ne(o)}function vm(t,e,n){if(e.path==="**")return RF(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?k({},lm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Tk)(n,t,e);if(!i)return k({},lm);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?k(k({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function RF(t){return{matched:!0,parameters:t.length>0?Fb(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Nb(t,e,n,r){return n.length>0&&PF(t,n,r)?{segmentGroup:new Ce(e,NF(r,new Ce(n,t.children))),slicedSegments:[]}:n.length===0&&OF(t,n,r)?{segmentGroup:new Ce(t.segments,xF(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ce(t.segments,t.children),slicedSegments:n}}function xF(t,e,n,r){let i={};for(let o of n)if(ql(t,e,o)&&!r[un(o)]){let s=new Ce([],{});i[un(o)]=s}return k(k({},r),i)}function NF(t,e){let n={};n[oe]=e;for(let r of t)if(r.path===""&&un(r)!==oe){let i=new Ce([],{});n[un(r)]=i}return n}function PF(t,e,n){return n.some(r=>ql(t,e,r)&&un(r)!==oe)}function OF(t,e,n){return n.some(r=>ql(t,e,r))}function ql(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function kF(t,e,n,r){return un(t)!==r&&(r===oe||!ql(e,n,t))?!1:vm(e,t,n).matched}function FF(t,e,n){return e.length===0&&!t.children[n]}var dm=class{};function LF(t,e,n,r,i,o,s="emptyOnly"){return new hm(t,e,n,r,i,s,o).recognize()}var VF=31,hm=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new um(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new G(4002,`'${e.segmentGroup}'`)}recognize(){let e=Nb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(le(({children:n,rootSnapshot:r})=>{let i=new Vt(r,n),o=new Bl("",i),s=qk(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Oo([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),oe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,oe,n).pipe(le(r=>({children:r,rootSnapshot:n})),br(r=>{if(r instanceof Aa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Sa?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(le(s=>s instanceof Vt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return He(o).pipe(to(s=>{let a=r.children[s],u=Xk(n,s);return this.processSegmentGroup(e,u,a,s,i)}),Mf((s,a)=>(s.push(...a),s)),Cr(null),Af(),Xe(s=>{if(s===null)return xo(r);let a=rC(s);return jF(a),ne(a)}))}processSegment(e,n,r,i,o,s,a){return He(n).pipe(to(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(br(l=>{if(l instanceof Sa)return ne(null);throw l}))),yn(u=>!!u),br(u=>{if(tC(u))return FF(r,i,o)?ne(new dm):xo(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return kF(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):xo(i):xo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=vm(n,i,o);if(!u)return xo(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>VF&&(this.allowRedirects=!1));let y=new Oo(o,l,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Pb(i),un(i),i.component??i._loadedComponent??null,i,Ob(i)),S=Ul(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(S.params),y.data=Object.freeze(S.data);let x=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,x).pipe(Xe(R=>this.processSegment(e,r,n,R.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=MF(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(nn(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(nn(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,S=new Oo(m,p,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Pb(r),un(r),r.component??r._loadedComponent??null,r,Ob(r)),x=Ul(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(x.params),S.data=Object.freeze(x.data);let{segmentGroup:R,slicedSegments:j}=Nb(n,m,y,l);if(j.length===0&&R.hasChildren())return this.processChildren(h,l,R,S).pipe(le(H=>new Vt(S,H)));if(l.length===0&&j.length===0)return ne(new Vt(S,[]));let K=un(r)===o;return this.processSegment(h,l,R,j,K?oe:o,!0,S).pipe(le(H=>new Vt(S,H instanceof Vt?[H]:[])))}))):xo(n)))}getChildConfig(e,n,r){return n.children?ne({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ne({routes:n._loadedRoutes,injector:n._loadedInjector}):CF(e,n,r,this.urlSerializer).pipe(Xe(i=>i?this.configLoader.loadChildren(e,n).pipe(ct(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):AF(n))):ne({routes:[],injector:e})}};function jF(t){t.sort((e,n)=>e.value.outlet===oe?-1:n.value.outlet===oe?1:e.value.outlet.localeCompare(n.value.outlet))}function UF(t){let e=t.value.routeConfig;return e&&e.path===""}function rC(t){let e=[],n=new Set;for(let r of t){if(!UF(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=rC(r.children);e.push(new Vt(r.value,i))}return e.filter(r=>!n.has(r))}function Pb(t){return t.data||{}}function Ob(t){return t.resolve||{}}function BF(t,e,n,r,i,o){return Xe(s=>LF(t,e,n,r,s.extractedUrl,i,o).pipe(le(({state:a,tree:u})=>he(k({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function $F(t,e){return Xe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ne(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of iC(u))s.add(l);let a=0;return He(s).pipe(to(u=>o.has(u)?HF(u,r,t,e):(u.data=Ul(u,u.parent,t).resolve,ne(void 0))),ct(()=>a++),no(1),Xe(u=>a===s.size?ne(n):kt))})}function iC(t){let e=t.children.map(n=>iC(n)).flat();return[t,...e]}function HF(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!Jb(i)&&(o[Ma]=i.title),zF(o,t,e,r).pipe(le(s=>(t._resolvedData=s,t.data=Ul(t,t.parent,n).resolve,null)))}function zF(t,e,n,r){let i=$g(t);if(i.length===0)return ne({});let o={};return He(i).pipe(Xe(s=>qF(t[s],e,n,r).pipe(yn(),ct(a=>{if(a instanceof Ta)throw $l(new _a,a);o[s]=a}))),no(1),Sf(o),br(s=>tC(s)?kt:Xi(s)))}function qF(t,e,n,r){let i=Ra(e)??r,o=jo(t,i),s=o.resolve?o.resolve(e,n):Zn(i,()=>o(e,n));return jr(s)}function Ug(t){return nn(e=>{let n=t(e);return n?He(n).pipe(le(()=>e)):ne(e)})}var oC=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===oe);return i}getResolvedTitleForRoute(r){return r.data[Ma]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>F(GF),providedIn:"root"});let t=e;return t})(),GF=(()=>{let e=class e extends oC{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(W(Sb))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_m=new Q("",{providedIn:"root",factory:()=>({})}),WF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Oe({type:e,selectors:[["ng-component"]],standalone:!0,features:[ke],decls:1,vars:0,template:function(i,o){i&1&&Pe(0,"router-outlet")},dependencies:[mm],encapsulation:2});let t=e;return t})();function wm(t){let e=t.children&&t.children.map(wm),n=e?he(k({},t),{children:e}):k({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==oe&&(n.component=WF),n}var Im=new Q(""),KF=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=F(wg)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ne(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=jr(r.loadComponent()).pipe(le(sC),ct(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),$s(()=>{this.componentLoaders.delete(r)})),o=new Zi(i,()=>new Je).pipe(Ji());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ne({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=QF(i,this.compiler,r,this.onLoadEndListener).pipe($s(()=>{this.childrenLoaders.delete(i)})),a=new Zi(s,()=>new Je).pipe(Ji());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function QF(t,e,n,r){return jr(t.loadChildren()).pipe(le(sC),Xe(i=>i instanceof Xs||Array.isArray(i)?ne(i):He(e.compileModuleAsync(i))),le(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Im,[],{optional:!0,self:!0}).flat()),{routes:s.map(wm),injector:o}}))}function YF(t){return t&&typeof t=="object"&&"default"in t}function sC(t){return YF(t)?t.default:t}var Em=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>F(JF),providedIn:"root"});let t=e;return t})(),JF=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ZF=new Q("");var XF=new Q(""),eL=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Je,this.transitionAbortSubject=new Je,this.configLoader=F(KF),this.environmentInjector=F(Gt),this.urlSerializer=F(pm),this.rootContexts=F(zl),this.location=F(ca),this.inputBindingEnabled=F(ym,{optional:!0})!==null,this.titleStrategy=F(oC),this.options=F(_m,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=F(Em),this.createViewTransition=F(ZF,{optional:!0}),this.navigationErrorHandler=F(XF,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ne(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Jg(o)),i=o=>this.events.next(new Zg(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(he(k(k({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Ze({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ya,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(tn(s=>s.id!==0),le(s=>he(k({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),nn(s=>{let a=!1,u=!1;return ne(s).pipe(nn(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",jt.SupersededByNewNavigation),kt;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?he(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new _i(l.id,this.urlSerializer.serialize(l.rawUrl),m,Gg.IgnoredSameUrlNavigation)),l.resolve(!1),kt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ne(l).pipe(nn(m=>{let y=this.transitions?.getValue();return this.events.next(new Ea(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?kt:Promise.resolve(m)}),BF(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),ct(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=he(k({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let y=new Ll(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:y,source:S,restoredState:x,extras:R}=l,j=new Ea(m,this.urlSerializer.serialize(y),S,x);this.events.next(j);let K=Qb(this.rootComponentType).snapshot;return this.currentTransition=s=he(k({},l),{targetSnapshot:K,urlAfterRedirects:y,extras:he(k({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,ne(s)}else{let m="";return this.events.next(new _i(l.id,this.urlSerializer.serialize(l.extractedUrl),m,Gg.IgnoredByUrlHandlingStrategy)),l.resolve(!1),kt}}),ct(l=>{let h=new Wg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),le(l=>(this.currentTransition=s=he(k({},l),{guards:sF(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),yF(this.environmentInjector,l=>this.events.next(l)),ct(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw $l(this.urlSerializer,l.guardsResult);let h=new Kg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),tn(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",jt.GuardRejected),!1)),Ug(l=>{if(l.guards.canActivateChecks.length)return ne(l).pipe(ct(h=>{let p=new Qg(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),nn(h=>{let p=!1;return ne(h).pipe($F(this.paramsInheritanceStrategy,this.environmentInjector),ct({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",jt.NoDataFromResolver)}}))}),ct(h=>{let p=new Yg(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),Ug(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(ct(y=>{p.component=y}),le(()=>{})));for(let y of p.children)m.push(...h(y));return m};return mu(h(l.targetSnapshot.root)).pipe(Cr(null),Yn(1))}),Ug(()=>this.afterPreactivation()),nn(()=>{let{currentSnapshot:l,targetSnapshot:h}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?He(p).pipe(le(()=>s)):ne(s)}),le(l=>{let h=tF(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=he(k({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),ct(()=>{this.events.next(new ba)}),oF(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Yn(1),ct({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ln(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),xf(this.transitionAbortSubject.pipe(ct(l=>{throw l}))),$s(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",jt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),br(l=>{if(u=!0,eC(l))this.events.next(new ir(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),iF(l)?this.events.next(new Lo(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let h=new Da(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let p=Zn(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(p instanceof Ta){let{message:m,cancellationCode:y}=$l(this.urlSerializer,p);this.events.next(new ir(s.id,this.urlSerializer.serialize(s.extractedUrl),m,y)),this.events.next(new Lo(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(h);let m=r.errorHandler(l);s.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(p)}}return kt}))}))}cancelNavigationTransition(r,i,o){let s=new ir(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function tL(t){return t!==ya}var nL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>F(rL),providedIn:"root"});let t=e;return t})(),fm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},rL=(()=>{let e=class e extends fm{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Co(e)))(o||e)}})(),e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),aC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>F(iL),providedIn:"root"});let t=e;return t})(),iL=(()=>{let e=class e extends aC{constructor(){super(...arguments),this.location=F(ca),this.urlSerializer=F(pm),this.options=F(_m,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=F(Em),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new or,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Qb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Ea)this.stateMemento=this.createStateMemento();else if(r instanceof _i)this.rawUrlTree=i.initialUrl;else if(r instanceof Ll){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??o,i)}}else r instanceof ba?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof ir&&(r.code===jt.GuardRejected||r.code===jt.NoDataFromResolver)?this.restoreHistory(i):r instanceof Da?this.restoreHistory(i,!0):r instanceof ln&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=r instanceof or?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=k(k({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=k(k({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Co(e)))(o||e)}})(),e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ga=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ga||{});function oL(t,e){t.events.pipe(tn(n=>n instanceof ln||n instanceof ir||n instanceof Da||n instanceof _i),le(n=>n instanceof ln||n instanceof _i?ga.COMPLETE:(n instanceof ir?n.code===jt.Redirect||n.code===jt.SupersededByNewNavigation:!1)?ga.REDIRECTING:ga.FAILED),tn(n=>n!==ga.REDIRECTING),Yn(1)).subscribe(()=>{e()})}function sL(t){throw t}var aL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},nt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=F(wl),this.stateManager=F(aC),this.options=F(_m,{optional:!0})||{},this.pendingTasks=F(To),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=F(eL),this.urlSerializer=F(pm),this.location=F(ca),this.urlHandlingStrategy=F(Em),this._events=new Je,this.errorHandler=this.options.errorHandler||sL,this.navigated=!1,this.routeReuseStrategy=F(nL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=F(Im,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!F(ym,{optional:!0}),this.eventsSubscription=new ze,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof ir&&i.code!==jt.Redirect&&i.code!==jt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof ln)this.navigated=!0;else if(i instanceof Lo){let a=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l=k({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||tL(o.source)},a);this.scheduleNavigation(u,ya,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}lL(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ya,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=k({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(wm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":p=k(k({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let y=o?o.snapshot:this.routerState.snapshot.root;m=qb(y)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),m=this.currentUrlTree.root}return Gb(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=wa(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,ya,null,i)}navigate(r,i={skipLocationChange:!1}){return uL(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=k({},aL):i===!1?o=k({},cL):o=i,wa(r))return Ab(this.currentUrlTree,r,o);let s=this.parseUrl(r);return Ab(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,y)=>{u=m,l=y});let p=this.pendingTasks.add();return oL(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function uL(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new G(4008,!1)}function lL(t){return!(t instanceof ba)&&!(t instanceof Lo)}var dL=new Q("");function cC(t,...e){return ol([{provide:Im,multi:!0,useValue:t},[],{provide:Rn,useFactory:hL,deps:[nt]},{provide:_g,multi:!0,useFactory:fL},e.map(n=>n.\u0275providers)])}function hL(t){return t.routerState.root}function fL(){let t=F(xr);return e=>{let n=t.get(gi);if(e!==n.components[0])return;let r=t.get(nt),i=t.get(pL);t.get(gL)===1&&r.initialNavigation(),t.get(mL,null,se.Optional)?.setUpPreloading(),t.get(dL,null,se.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var pL=new Q("",{factory:()=>new Je}),gL=new Q("",{providedIn:"root",factory:()=>1});var mL=new Q("");var lC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},yL=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},dC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new bm;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},bm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},vL=function(t){let e=lC(t);return dC.encodeByteArray(e,!0)},Na=function(t){return vL(t).replace(/\./g,"")},Tm=function(t){try{return dC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function _L(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var wL=()=>_L().__FIREBASE_DEFAULTS__,IL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},EL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Tm(t[1]);return e&&JSON.parse(e)},Wl=()=>{try{return wL()||IL()||EL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Sm=t=>{var e,n;return(n=(e=Wl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},hC=t=>{let e=Sm(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Am=()=>{var t;return(t=Wl())===null||t===void 0?void 0:t.config},Mm=t=>{var e;return(e=Wl())===null||e===void 0?void 0:e[`_${t}`]};var Gl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function fC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Na(JSON.stringify(n)),Na(JSON.stringify(s)),""].join(".")}function rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rt())}function DL(){var t;let e=(t=Wl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Kl(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mC(){let t=rt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yC(){return!DL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pa(){try{return typeof indexedDB=="object"}catch{return!1}}function Ql(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function vC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var bL="FirebaseError",lt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=bL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ut.prototype.create)}},Ut=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?CL(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new lt(i,a,r)}};function CL(t,e){return t.replace(TL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var TL=/\{\$([^}]+)}/g;function _C(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function sr(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(uC(o)&&uC(s)){if(!sr(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function uC(t){return t!==null&&typeof t=="object"}function Uo(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wC(t,e){let n=new Cm(t,e);return n.subscribe.bind(n)}var Cm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");SL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Dm),i.error===void 0&&(i.error=Dm),i.complete===void 0&&(i.complete=Dm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function SL(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dm(){}var AL=1e3,ML=2,RL=4*60*60*1e3,xL=.5;function Rm(t,e=AL,n=ML){let r=e*Math.pow(n,t),i=Math.round(xL*r*(Math.random()-.5)*2);return Math.min(RL,r+i)}function it(t){return t&&t._delegate?t._delegate:t}var ot=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ii="[DEFAULT]";var xm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Gl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PL(e))try{this.getOrInitializeService({instanceIdentifier:Ii})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ii){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ii){return this.instances.has(e)}getOptions(e=Ii){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:NL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ii){return this.component?this.component.multipleInstances?e:Ii:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function NL(t){return t===Ii?void 0:t}function PL(t){return t.instantiationMode==="EAGER"}var Yl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new xm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var OL=[],pe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(pe||{}),kL={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},FL=pe.INFO,LL={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},VL=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=LL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},xn=class{constructor(e){this.name=e,this._logLevel=FL,this._logHandler=VL,this._userLogHandler=null,OL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}};var jL=(t,e)=>e.some(n=>t instanceof n),IC,EC;function UL(){return IC||(IC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BL(){return EC||(EC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var DC=new WeakMap,Pm=new WeakMap,bC=new WeakMap,Nm=new WeakMap,km=new WeakMap;function $L(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Nn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&DC.set(n,t)}).catch(()=>{}),km.set(e,t),e}function HL(t){if(Pm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Pm.set(t,e)}var Om={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Pm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CC(t){Om=t(Om)}function zL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Jl(this),e,...n);return bC.set(r,e.sort?e.sort():[e]),Nn(r)}:BL().includes(t)?function(...e){return t.apply(Jl(this),e),Nn(DC.get(this))}:function(...e){return Nn(t.apply(Jl(this),e))}}function qL(t){return typeof t=="function"?zL(t):(t instanceof IDBTransaction&&HL(t),jL(t,UL())?new Proxy(t,Om):t)}function Nn(t){if(t instanceof IDBRequest)return $L(t);if(Nm.has(t))return Nm.get(t);let e=qL(t);return e!==t&&(Nm.set(t,e),km.set(e,t)),e}var Jl=t=>km.get(t);function Zl(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Nn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Nn(s.result),u.oldVersion,u.newVersion,Nn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var GL=["get","getKey","getAll","getAllKeys","count"],WL=["put","add","delete","clear"],Fm=new Map;function TC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fm.get(e))return Fm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=WL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||GL.includes(n)))return;let o=function(s,...a){return _(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Fm.set(e,o),o}CC(t=>he(k({},t),{get:(e,n,r)=>TC(e,n)||t.get(e,n,r),has:(e,n)=>!!TC(e,n)||t.has(e,n)}));var Vm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(KL(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function KL(t){let e=t.getComponent();return e?.type==="VERSION"}var jm="@firebase/app",SC="0.10.9";var ar=new xn("@firebase/app"),QL="@firebase/app-compat",YL="@firebase/analytics-compat",JL="@firebase/analytics",ZL="@firebase/app-check-compat",XL="@firebase/app-check",eV="@firebase/auth",tV="@firebase/auth-compat",nV="@firebase/database",rV="@firebase/database-compat",iV="@firebase/functions",oV="@firebase/functions-compat",sV="@firebase/installations",aV="@firebase/installations-compat",cV="@firebase/messaging",uV="@firebase/messaging-compat",lV="@firebase/performance",dV="@firebase/performance-compat",hV="@firebase/remote-config",fV="@firebase/remote-config-compat",pV="@firebase/storage",gV="@firebase/storage-compat",mV="@firebase/firestore",yV="@firebase/vertexai-preview",vV="@firebase/firestore-compat",_V="firebase",wV="10.13.0";var Um="[DEFAULT]",IV={[jm]:"fire-core",[QL]:"fire-core-compat",[JL]:"fire-analytics",[YL]:"fire-analytics-compat",[XL]:"fire-app-check",[ZL]:"fire-app-check-compat",[eV]:"fire-auth",[tV]:"fire-auth-compat",[nV]:"fire-rtdb",[rV]:"fire-rtdb-compat",[iV]:"fire-fn",[oV]:"fire-fn-compat",[sV]:"fire-iid",[aV]:"fire-iid-compat",[cV]:"fire-fcm",[uV]:"fire-fcm-compat",[lV]:"fire-perf",[dV]:"fire-perf-compat",[hV]:"fire-rc",[fV]:"fire-rc-compat",[pV]:"fire-gcs",[gV]:"fire-gcs-compat",[mV]:"fire-fst",[vV]:"fire-fst-compat",[yV]:"fire-vertex","fire-js":"fire-js",[_V]:"fire-js-all"};var Xl=new Map,EV=new Map,Bm=new Map;function AC(t,e){try{t.container.addComponent(e)}catch(n){ar.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Rt(t){let e=t.name;if(Bm.has(e))return ar.debug(`There were multiple attempts to register component ${e}.`),!1;Bm.set(e,t);for(let n of Xl.values())AC(n,t);for(let n of EV.values())AC(n,t);return!0}function dn(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Pn(t){return t.settings!==void 0}var DV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ur=new Ut("app","Firebase",DV);var $m=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ot("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ur.create("app-deleted",{appName:this._name})}};var Br=wV;function qm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Um,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ur.create("bad-app-name",{appName:String(i)});if(n||(n=Am()),!n)throw Ur.create("no-options");let o=Xl.get(i);if(o){if(sr(n,o.options)&&sr(r,o.config))return o;throw Ur.create("duplicate-app",{appName:i})}let s=new Yl(i);for(let u of Bm.values())s.addComponent(u);let a=new $m(n,r,s);return Xl.set(i,a),a}function Ei(t=Um){let e=Xl.get(t);if(!e&&t===Um&&Am())return qm();if(!e)throw Ur.create("no-app",{appName:t});return e}function dt(t,e,n){var r;let i=(r=IV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ar.warn(a.join(" "));return}Rt(new ot(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var bV="firebase-heartbeat-database",CV=1,Oa="firebase-heartbeat-store",Lm=null;function NC(){return Lm||(Lm=Zl(bV,CV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Oa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ur.create("idb-open",{originalErrorMessage:t.message})})),Lm}function TV(t){return _(this,null,function*(){try{let n=(yield NC()).transaction(Oa),r=yield n.objectStore(Oa).get(PC(t));return yield n.done,r}catch(e){if(e instanceof lt)ar.warn(e.message);else{let n=Ur.create("idb-get",{originalErrorMessage:e?.message});ar.warn(n.message)}}})}function MC(t,e){return _(this,null,function*(){try{let r=(yield NC()).transaction(Oa,"readwrite");yield r.objectStore(Oa).put(e,PC(t)),yield r.done}catch(n){if(n instanceof lt)ar.warn(n.message);else{let r=Ur.create("idb-set",{originalErrorMessage:n?.message});ar.warn(r.message)}}})}function PC(t){return`${t.name}!${t.options.appId}`}var SV=1024,AV=30*24*60*60*1e3,Hm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new zm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n,r;try{let o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=RC();return console.log("heartbeats",(e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats),((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{let u=new Date(a.date).valueOf();return Date.now()-u<=AV}),this._storage.overwrite(this._heartbeatsCache))}catch(i){ar.warn(i)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=RC(),{heartbeatsToSend:r,unsentEntries:i}=MV(this._heartbeatsCache.heartbeats),o=Na(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ar.warn(n),""}})}};function RC(){return new Date().toISOString().substring(0,10)}function MV(t,e=SV){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),xC(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var zm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return Pa()?Ql().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield TV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return MC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return MC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function xC(t){return Na(JSON.stringify({version:2,heartbeats:t})).length}function RV(t){Rt(new ot("platform-logger",e=>new Vm(e),"PRIVATE")),Rt(new ot("heartbeat",e=>new Hm(e),"PRIVATE")),dt(jm,SC,t),dt(jm,SC,"esm2017"),dt("fire-js","")}RV("");var OC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},kC={};var $r,Gm;(function(){var t;function e(D,v){function w(){}w.prototype=v.prototype,D.D=v.prototype,D.prototype=new w,D.prototype.constructor=D,D.C=function(E,b,T){for(var I=Array(arguments.length-2),qn=2;qn<arguments.length;qn++)I[qn-2]=arguments[qn];return v.prototype[b].apply(E,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,v,w){w||(w=0);var E=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)E[b]=v.charCodeAt(w++)|v.charCodeAt(w++)<<8|v.charCodeAt(w++)<<16|v.charCodeAt(w++)<<24;else for(b=0;16>b;++b)E[b]=v[w++]|v[w++]<<8|v[w++]<<16|v[w++]<<24;v=D.g[0],w=D.g[1],b=D.g[2];var T=D.g[3],I=v+(T^w&(b^T))+E[0]+3614090360&4294967295;v=w+(I<<7&4294967295|I>>>25),I=T+(b^v&(w^b))+E[1]+3905402710&4294967295,T=v+(I<<12&4294967295|I>>>20),I=b+(w^T&(v^w))+E[2]+606105819&4294967295,b=T+(I<<17&4294967295|I>>>15),I=w+(v^b&(T^v))+E[3]+3250441966&4294967295,w=b+(I<<22&4294967295|I>>>10),I=v+(T^w&(b^T))+E[4]+4118548399&4294967295,v=w+(I<<7&4294967295|I>>>25),I=T+(b^v&(w^b))+E[5]+1200080426&4294967295,T=v+(I<<12&4294967295|I>>>20),I=b+(w^T&(v^w))+E[6]+2821735955&4294967295,b=T+(I<<17&4294967295|I>>>15),I=w+(v^b&(T^v))+E[7]+4249261313&4294967295,w=b+(I<<22&4294967295|I>>>10),I=v+(T^w&(b^T))+E[8]+1770035416&4294967295,v=w+(I<<7&4294967295|I>>>25),I=T+(b^v&(w^b))+E[9]+2336552879&4294967295,T=v+(I<<12&4294967295|I>>>20),I=b+(w^T&(v^w))+E[10]+4294925233&4294967295,b=T+(I<<17&4294967295|I>>>15),I=w+(v^b&(T^v))+E[11]+2304563134&4294967295,w=b+(I<<22&4294967295|I>>>10),I=v+(T^w&(b^T))+E[12]+1804603682&4294967295,v=w+(I<<7&4294967295|I>>>25),I=T+(b^v&(w^b))+E[13]+4254626195&4294967295,T=v+(I<<12&4294967295|I>>>20),I=b+(w^T&(v^w))+E[14]+2792965006&4294967295,b=T+(I<<17&4294967295|I>>>15),I=w+(v^b&(T^v))+E[15]+1236535329&4294967295,w=b+(I<<22&4294967295|I>>>10),I=v+(b^T&(w^b))+E[1]+4129170786&4294967295,v=w+(I<<5&4294967295|I>>>27),I=T+(w^b&(v^w))+E[6]+3225465664&4294967295,T=v+(I<<9&4294967295|I>>>23),I=b+(v^w&(T^v))+E[11]+643717713&4294967295,b=T+(I<<14&4294967295|I>>>18),I=w+(T^v&(b^T))+E[0]+3921069994&4294967295,w=b+(I<<20&4294967295|I>>>12),I=v+(b^T&(w^b))+E[5]+3593408605&4294967295,v=w+(I<<5&4294967295|I>>>27),I=T+(w^b&(v^w))+E[10]+38016083&4294967295,T=v+(I<<9&4294967295|I>>>23),I=b+(v^w&(T^v))+E[15]+3634488961&4294967295,b=T+(I<<14&4294967295|I>>>18),I=w+(T^v&(b^T))+E[4]+3889429448&4294967295,w=b+(I<<20&4294967295|I>>>12),I=v+(b^T&(w^b))+E[9]+568446438&4294967295,v=w+(I<<5&4294967295|I>>>27),I=T+(w^b&(v^w))+E[14]+3275163606&4294967295,T=v+(I<<9&4294967295|I>>>23),I=b+(v^w&(T^v))+E[3]+4107603335&4294967295,b=T+(I<<14&4294967295|I>>>18),I=w+(T^v&(b^T))+E[8]+1163531501&4294967295,w=b+(I<<20&4294967295|I>>>12),I=v+(b^T&(w^b))+E[13]+2850285829&4294967295,v=w+(I<<5&4294967295|I>>>27),I=T+(w^b&(v^w))+E[2]+4243563512&4294967295,T=v+(I<<9&4294967295|I>>>23),I=b+(v^w&(T^v))+E[7]+1735328473&4294967295,b=T+(I<<14&4294967295|I>>>18),I=w+(T^v&(b^T))+E[12]+2368359562&4294967295,w=b+(I<<20&4294967295|I>>>12),I=v+(w^b^T)+E[5]+4294588738&4294967295,v=w+(I<<4&4294967295|I>>>28),I=T+(v^w^b)+E[8]+2272392833&4294967295,T=v+(I<<11&4294967295|I>>>21),I=b+(T^v^w)+E[11]+1839030562&4294967295,b=T+(I<<16&4294967295|I>>>16),I=w+(b^T^v)+E[14]+4259657740&4294967295,w=b+(I<<23&4294967295|I>>>9),I=v+(w^b^T)+E[1]+2763975236&4294967295,v=w+(I<<4&4294967295|I>>>28),I=T+(v^w^b)+E[4]+1272893353&4294967295,T=v+(I<<11&4294967295|I>>>21),I=b+(T^v^w)+E[7]+4139469664&4294967295,b=T+(I<<16&4294967295|I>>>16),I=w+(b^T^v)+E[10]+3200236656&4294967295,w=b+(I<<23&4294967295|I>>>9),I=v+(w^b^T)+E[13]+681279174&4294967295,v=w+(I<<4&4294967295|I>>>28),I=T+(v^w^b)+E[0]+3936430074&4294967295,T=v+(I<<11&4294967295|I>>>21),I=b+(T^v^w)+E[3]+3572445317&4294967295,b=T+(I<<16&4294967295|I>>>16),I=w+(b^T^v)+E[6]+76029189&4294967295,w=b+(I<<23&4294967295|I>>>9),I=v+(w^b^T)+E[9]+3654602809&4294967295,v=w+(I<<4&4294967295|I>>>28),I=T+(v^w^b)+E[12]+3873151461&4294967295,T=v+(I<<11&4294967295|I>>>21),I=b+(T^v^w)+E[15]+530742520&4294967295,b=T+(I<<16&4294967295|I>>>16),I=w+(b^T^v)+E[2]+3299628645&4294967295,w=b+(I<<23&4294967295|I>>>9),I=v+(b^(w|~T))+E[0]+4096336452&4294967295,v=w+(I<<6&4294967295|I>>>26),I=T+(w^(v|~b))+E[7]+1126891415&4294967295,T=v+(I<<10&4294967295|I>>>22),I=b+(v^(T|~w))+E[14]+2878612391&4294967295,b=T+(I<<15&4294967295|I>>>17),I=w+(T^(b|~v))+E[5]+4237533241&4294967295,w=b+(I<<21&4294967295|I>>>11),I=v+(b^(w|~T))+E[12]+1700485571&4294967295,v=w+(I<<6&4294967295|I>>>26),I=T+(w^(v|~b))+E[3]+2399980690&4294967295,T=v+(I<<10&4294967295|I>>>22),I=b+(v^(T|~w))+E[10]+4293915773&4294967295,b=T+(I<<15&4294967295|I>>>17),I=w+(T^(b|~v))+E[1]+2240044497&4294967295,w=b+(I<<21&4294967295|I>>>11),I=v+(b^(w|~T))+E[8]+1873313359&4294967295,v=w+(I<<6&4294967295|I>>>26),I=T+(w^(v|~b))+E[15]+4264355552&4294967295,T=v+(I<<10&4294967295|I>>>22),I=b+(v^(T|~w))+E[6]+2734768916&4294967295,b=T+(I<<15&4294967295|I>>>17),I=w+(T^(b|~v))+E[13]+1309151649&4294967295,w=b+(I<<21&4294967295|I>>>11),I=v+(b^(w|~T))+E[4]+4149444226&4294967295,v=w+(I<<6&4294967295|I>>>26),I=T+(w^(v|~b))+E[11]+3174756917&4294967295,T=v+(I<<10&4294967295|I>>>22),I=b+(v^(T|~w))+E[2]+718787259&4294967295,b=T+(I<<15&4294967295|I>>>17),I=w+(T^(b|~v))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+v&4294967295,D.g[1]=D.g[1]+(b+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+b&4294967295,D.g[3]=D.g[3]+T&4294967295}r.prototype.u=function(D,v){v===void 0&&(v=D.length);for(var w=v-this.blockSize,E=this.B,b=this.h,T=0;T<v;){if(b==0)for(;T<=w;)i(this,D,T),T+=this.blockSize;if(typeof D=="string"){for(;T<v;)if(E[b++]=D.charCodeAt(T++),b==this.blockSize){i(this,E),b=0;break}}else for(;T<v;)if(E[b++]=D[T++],b==this.blockSize){i(this,E),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var v=1;v<D.length-8;++v)D[v]=0;var w=8*this.o;for(v=D.length-8;v<D.length;++v)D[v]=w&255,w/=256;for(this.u(D),D=Array(16),v=w=0;4>v;++v)for(var E=0;32>E;E+=8)D[w++]=this.g[v]>>>E&255;return D};function o(D,v){var w=a;return Object.prototype.hasOwnProperty.call(w,D)?w[D]:w[D]=v(D)}function s(D,v){this.h=v;for(var w=[],E=!0,b=D.length-1;0<=b;b--){var T=D[b]|0;E&&T==v||(w[b]=T,E=!1)}this.g=w}var a={};function u(D){return-128<=D&&128>D?o(D,function(v){return new s([v|0],0>v?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return R(l(-D));for(var v=[],w=1,E=0;D>=w;E++)v[E]=D/w|0,w*=4294967296;return new s(v,0)}function h(D,v){if(D.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(D.charAt(0)=="-")return R(h(D.substring(1),v));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=l(Math.pow(v,8)),E=p,b=0;b<D.length;b+=8){var T=Math.min(8,D.length-b),I=parseInt(D.substring(b,b+T),v);8>T?(T=l(Math.pow(v,T)),E=E.j(T).add(l(I))):(E=E.j(w),E=E.add(l(I)))}return E}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(x(this))return-R(this).m();for(var D=0,v=1,w=0;w<this.g.length;w++){var E=this.i(w);D+=(0<=E?E:4294967296+E)*v,v*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(x(this))return"-"+R(this).toString(D);for(var v=l(Math.pow(D,6)),w=this,E="";;){var b=me(w,v).g;w=j(w,b.j(v));var T=((0<w.g.length?w.g[0]:w.h)>>>0).toString(D);if(w=b,S(w))return T+E;for(;6>T.length;)T="0"+T;E=T+E}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var v=0;v<D.g.length;v++)if(D.g[v]!=0)return!1;return!0}function x(D){return D.h==-1}t.l=function(D){return D=j(this,D),x(D)?-1:S(D)?0:1};function R(D){for(var v=D.g.length,w=[],E=0;E<v;E++)w[E]=~D.g[E];return new s(w,~D.h).add(m)}t.abs=function(){return x(this)?R(this):this},t.add=function(D){for(var v=Math.max(this.g.length,D.g.length),w=[],E=0,b=0;b<=v;b++){var T=E+(this.i(b)&65535)+(D.i(b)&65535),I=(T>>>16)+(this.i(b)>>>16)+(D.i(b)>>>16);E=I>>>16,T&=65535,I&=65535,w[b]=I<<16|T}return new s(w,w[w.length-1]&-2147483648?-1:0)};function j(D,v){return D.add(R(v))}t.j=function(D){if(S(this)||S(D))return p;if(x(this))return x(D)?R(this).j(R(D)):R(R(this).j(D));if(x(D))return R(this.j(R(D)));if(0>this.l(y)&&0>D.l(y))return l(this.m()*D.m());for(var v=this.g.length+D.g.length,w=[],E=0;E<2*v;E++)w[E]=0;for(E=0;E<this.g.length;E++)for(var b=0;b<D.g.length;b++){var T=this.i(E)>>>16,I=this.i(E)&65535,qn=D.i(b)>>>16,_s=D.i(b)&65535;w[2*E+2*b]+=I*_s,K(w,2*E+2*b),w[2*E+2*b+1]+=T*_s,K(w,2*E+2*b+1),w[2*E+2*b+1]+=I*qn,K(w,2*E+2*b+1),w[2*E+2*b+2]+=T*qn,K(w,2*E+2*b+2)}for(E=0;E<v;E++)w[E]=w[2*E+1]<<16|w[2*E];for(E=v;E<2*v;E++)w[E]=0;return new s(w,0)};function K(D,v){for(;(D[v]&65535)!=D[v];)D[v+1]+=D[v]>>>16,D[v]&=65535,v++}function H(D,v){this.g=D,this.h=v}function me(D,v){if(S(v))throw Error("division by zero");if(S(D))return new H(p,p);if(x(D))return v=me(R(D),v),new H(R(v.g),R(v.h));if(x(v))return v=me(D,R(v)),new H(R(v.g),v.h);if(30<D.g.length){if(x(D)||x(v))throw Error("slowDivide_ only works with positive integers.");for(var w=m,E=v;0>=E.l(D);)w=je(w),E=je(E);var b=ie(w,1),T=ie(E,1);for(E=ie(E,2),w=ie(w,2);!S(E);){var I=T.add(E);0>=I.l(D)&&(b=b.add(w),T=I),E=ie(E,1),w=ie(w,1)}return v=j(D,b.j(v)),new H(b,v)}for(b=p;0<=D.l(v);){for(w=Math.max(1,Math.floor(D.m()/v.m())),E=Math.ceil(Math.log(w)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),T=l(w),I=T.j(v);x(I)||0<I.l(D);)w-=E,T=l(w),I=T.j(v);S(T)&&(T=m),b=b.add(T),D=j(D,I)}return new H(b,D)}t.A=function(D){return me(this,D).h},t.and=function(D){for(var v=Math.max(this.g.length,D.g.length),w=[],E=0;E<v;E++)w[E]=this.i(E)&D.i(E);return new s(w,this.h&D.h)},t.or=function(D){for(var v=Math.max(this.g.length,D.g.length),w=[],E=0;E<v;E++)w[E]=this.i(E)|D.i(E);return new s(w,this.h|D.h)},t.xor=function(D){for(var v=Math.max(this.g.length,D.g.length),w=[],E=0;E<v;E++)w[E]=this.i(E)^D.i(E);return new s(w,this.h^D.h)};function je(D){for(var v=D.g.length+1,w=[],E=0;E<v;E++)w[E]=D.i(E)<<1|D.i(E-1)>>>31;return new s(w,D.h)}function ie(D,v){var w=v>>5;v%=32;for(var E=D.g.length-w,b=[],T=0;T<E;T++)b[T]=0<v?D.i(T+w)>>>v|D.i(T+w+1)<<32-v:D.i(T+w);return new s(b,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Gm=kC.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,$r=kC.Integer=s}).apply(typeof OC<"u"?OC:typeof self<"u"?self:typeof window<"u"?window:{});var ed=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},cr={};var Wm,Km,Bo,Qm,ka,td,Ym,Jm,Zm;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ed=="object"&&ed];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var C=c[g];if(!(C in f))break e;f=f[C]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,C={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,C,A){for(var P=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)P[Se-2]=arguments[Se];return d.prototype[C].apply(g,P)}}function x(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let C=c.length||0,A=g.length||0;c.length=C+A;for(let P=0;P<A;P++)c[C+P]=g[P]}else c.push(g)}}class j{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function K(c){return/^[\s\xa0]*$/.test(c)}function H(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function me(c){return me[" "](c),c}me[" "]=function(){};var je=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function ie(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let f,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(f in g)c[f]=g[f];for(let A=0;A<w.length;A++)f=w[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function T(c){a.setTimeout(()=>{throw c},0)}function I(){var c=Fh;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class qn{constructor(){this.h=this.g=null}add(d,f){let g=_s.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var _s=new j(()=>new wM,c=>c.reset());class wM{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ws,Is=!1,Fh=new qn,ew=()=>{let c=a.Promise.resolve(void 0);ws=()=>{c.then(IM)}};var IM=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){T(f)}var d=_s;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Is=!1};function vr(){this.s=this.s,this.C=this.C}vr.prototype.s=!1,vr.prototype.ma=function(){this.s||(this.s=!0,this.N())},vr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ft(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}ft.prototype.h=function(){this.defaultPrevented=!0};var EM=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Es(c,d){if(ft.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(je){e:{try{me(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:DM[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Es.aa.h.call(this)}}S(Es,ft);var DM={2:"touch",3:"pen",4:"mouse"};Es.prototype.h=function(){Es.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ds="closure_listenable_"+(1e6*Math.random()|0),bM=0;function CM(c,d,f,g,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=C,this.key=++bM,this.da=this.fa=!1}function Cc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Tc(c){this.src=c,this.g={},this.h=0}Tc.prototype.add=function(c,d,f,g,C){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var P=Vh(c,d,g,C);return-1<P?(d=c[P],f||(d.fa=!1)):(d=new CM(d,this.src,A,!!g,C),d.fa=f,c.push(d)),d};function Lh(c,d){var f=d.type;if(f in c.g){var g=c.g[f],C=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=C)&&Array.prototype.splice.call(g,C,1),A&&(Cc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Vh(c,d,f,g){for(var C=0;C<c.length;++C){var A=c[C];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return C}return-1}var jh="closure_lm_"+(1e6*Math.random()|0),Uh={};function tw(c,d,f,g,C){if(g&&g.once)return rw(c,d,f,g,C);if(Array.isArray(d)){for(var A=0;A<d.length;A++)tw(c,d[A],f,g,C);return null}return f=zh(f),c&&c[Ds]?c.K(d,f,l(g)?!!g.capture:!!g,C):nw(c,d,f,!1,g,C)}function nw(c,d,f,g,C,A){if(!d)throw Error("Invalid event type");var P=l(C)?!!C.capture:!!C,Se=$h(c);if(Se||(c[jh]=Se=new Tc(c)),f=Se.add(d,f,g,P,A),f.proxy)return f;if(g=TM(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)EM||(C=P),C===void 0&&(C=!1),c.addEventListener(d.toString(),g,C);else if(c.attachEvent)c.attachEvent(ow(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function TM(){function c(f){return d.call(c.src,c.listener,f)}let d=SM;return c}function rw(c,d,f,g,C){if(Array.isArray(d)){for(var A=0;A<d.length;A++)rw(c,d[A],f,g,C);return null}return f=zh(f),c&&c[Ds]?c.L(d,f,l(g)?!!g.capture:!!g,C):nw(c,d,f,!0,g,C)}function iw(c,d,f,g,C){if(Array.isArray(d))for(var A=0;A<d.length;A++)iw(c,d[A],f,g,C);else g=l(g)?!!g.capture:!!g,f=zh(f),c&&c[Ds]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=Vh(A,f,g,C),-1<f&&(Cc(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=$h(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Vh(d,f,g,C)),(f=-1<c?d[c]:null)&&Bh(f))}function Bh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Ds])Lh(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(ow(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=$h(d))?(Lh(f,c),f.h==0&&(f.src=null,d[jh]=null)):Cc(c)}}}function ow(c){return c in Uh?Uh[c]:Uh[c]="on"+c}function SM(c,d){if(c.da)c=!0;else{d=new Es(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Bh(c),c=f.call(g,d)}return c}function $h(c){return c=c[jh],c instanceof Tc?c:null}var Hh="__closure_events_fn_"+(1e9*Math.random()>>>0);function zh(c){return typeof c=="function"?c:(c[Hh]||(c[Hh]=function(d){return c.handleEvent(d)}),c[Hh])}function pt(){vr.call(this),this.i=new Tc(this),this.M=this,this.F=null}S(pt,vr),pt.prototype[Ds]=!0,pt.prototype.removeEventListener=function(c,d,f,g){iw(this,c,d,f,g)};function wt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new ft(d,c);else if(d instanceof ft)d.target=d.target||c;else{var C=d;d=new ft(g,c),E(d,C)}if(C=!0,f)for(var A=f.length-1;0<=A;A--){var P=d.g=f[A];C=Sc(P,g,!0,d)&&C}if(P=d.g=c,C=Sc(P,g,!0,d)&&C,C=Sc(P,g,!1,d)&&C,f)for(A=0;A<f.length;A++)P=d.g=f[A],C=Sc(P,g,!1,d)&&C}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Cc(f[g]);delete c.g[d],c.h--}}this.F=null},pt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},pt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Sc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,A=0;A<d.length;++A){var P=d[A];if(P&&!P.da&&P.capture==f){var Se=P.listener,at=P.ha||P.src;P.fa&&Lh(c.i,P),C=Se.call(at,g)!==!1&&C}}return C&&!g.defaultPrevented}function sw(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function aw(c){c.g=sw(()=>{c.g=null,c.i&&(c.i=!1,aw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class AM extends vr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:aw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bs(c){vr.call(this),this.h=c,this.g={}}S(bs,vr);var cw=[];function uw(c){ie(c.g,function(d,f){this.g.hasOwnProperty(f)&&Bh(d)},c),c.g={}}bs.prototype.N=function(){bs.aa.N.call(this),uw(this)},bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qh=a.JSON.stringify,MM=a.JSON.parse,RM=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Gh(){}Gh.prototype.h=null;function lw(c){return c.h||(c.h=c.i())}function dw(){}var Cs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wh(){ft.call(this,"d")}S(Wh,ft);function Kh(){ft.call(this,"c")}S(Kh,ft);var Qr={},hw=null;function Ac(){return hw=hw||new pt}Qr.La="serverreachability";function fw(c){ft.call(this,Qr.La,c)}S(fw,ft);function Ts(c){let d=Ac();wt(d,new fw(d))}Qr.STAT_EVENT="statevent";function pw(c,d){ft.call(this,Qr.STAT_EVENT,c),this.stat=d}S(pw,ft);function It(c){let d=Ac();wt(d,new pw(d,c))}Qr.Ma="timingevent";function gw(c,d){ft.call(this,Qr.Ma,c),this.size=d}S(gw,ft);function Ss(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function As(){this.g=!0}As.prototype.xa=function(){this.g=!1};function xM(c,d,f,g,C,A){c.info(function(){if(c.g)if(A)for(var P="",Se=A.split("&"),at=0;at<Se.length;at++){var Ie=Se[at].split("=");if(1<Ie.length){var gt=Ie[0];Ie=Ie[1];var mt=gt.split("_");P=2<=mt.length&&mt[1]=="type"?P+(gt+"="+Ie+"&"):P+(gt+"=redacted&")}}else P=null;else P=A;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+f+`
`+P})}function NM(c,d,f,g,C,A,P){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+f+`
`+A+" "+P})}function $i(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+OM(c,f)+(g?" "+g:"")})}function PM(c,d){c.info(function(){return"TIMEOUT: "+d})}As.prototype.info=function(){};function OM(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var A=C[0];if(A!="noop"&&A!="stop"&&A!="close")for(var P=1;P<C.length;P++)C[P]=""}}}}return qh(f)}catch{return d}}var Mc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qh;function Rc(){}S(Rc,Gh),Rc.prototype.g=function(){return new XMLHttpRequest},Rc.prototype.i=function(){return{}},Qh=new Rc;function _r(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new bs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yw}function yw(){this.i=null,this.g="",this.h=!1}var vw={},Yh={};function Jh(c,d,f){c.L=1,c.v=Oc(Gn(d)),c.m=f,c.P=!0,_w(c,null)}function _w(c,d){c.F=Date.now(),xc(c),c.A=Gn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),Pw(f.i,"t",g),c.C=0,f=c.j.J,c.h=new yw,c.g=Jw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new AM(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(cw[0]=C.toString()),C=cw);for(var A=0;A<C.length;A++){var P=tw(f,C[A],g||d.handleEvent,!1,d.h||d);if(!P)break;d.g[P.key]=P}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Ts(),xM(c.i,c.u,c.A,c.l,c.R,c.m)}_r.prototype.ca=function(c){c=c.target;let d=this.M;d&&Wn(c)==3?d.j():this.Y(c)},_r.prototype.Y=function(c){try{if(c==this.g)e:{let mt=Wn(this.g);var d=this.g.Ba();let qi=this.g.Z();if(!(3>mt)&&(mt!=3||this.g&&(this.h.h||this.g.oa()||Uw(this.g)))){this.J||mt!=4||d==7||(d==8||0>=qi?Ts(3):Ts(2)),Zh(this);var f=this.g.Z();this.X=f;t:if(ww(this)){var g=Uw(this.g);c="";var C=g.length,A=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yr(this),Ms(this);var P="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==C-1)});g.length=0,this.h.g+=c,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=f==200,NM(this.i,this.u,this.A,this.l,this.R,mt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,at=this.g;if((Se=at.g?at.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Se)){var Ie=Se;break t}}Ie=null}if(f=Ie)$i(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xh(this,f);else{this.o=!1,this.s=3,It(12),Yr(this),Ms(this);break e}}if(this.P){f=!0;let Xt;for(;!this.J&&this.C<P.length;)if(Xt=kM(this,P),Xt==Yh){mt==4&&(this.s=4,It(14),f=!1),$i(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==vw){this.s=4,It(15),$i(this.i,this.l,P,"[Invalid Chunk]"),f=!1;break}else $i(this.i,this.l,Xt,null),Xh(this,Xt);if(ww(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mt!=4||P.length!=0||this.h.h||(this.s=1,It(16),f=!1),this.o=this.o&&f,!f)$i(this.i,this.l,P,"[Invalid Chunked Response]"),Yr(this),Ms(this);else if(0<P.length&&!this.W){this.W=!0;var gt=this.j;gt.g==this&&gt.ba&&!gt.M&&(gt.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),sf(gt),gt.M=!0,It(11))}}else $i(this.i,this.l,P,null),Xh(this,P);mt==4&&Yr(this),this.o&&!this.J&&(mt==4?Ww(this.j,this):(this.o=!1,xc(this)))}else ZM(this.g),f==400&&0<P.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),Yr(this),Ms(this)}}}catch{}finally{}};function ww(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function kM(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Yh:(f=Number(d.substring(f,g)),isNaN(f)?vw:(g+=1,g+f>d.length?Yh:(d=d.slice(g,g+f),c.C=g+f,d)))}_r.prototype.cancel=function(){this.J=!0,Yr(this)};function xc(c){c.S=Date.now()+c.I,Iw(c,c.I)}function Iw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ss(m(c.ba,c),d)}function Zh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}_r.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(PM(this.i,this.A),this.L!=2&&(Ts(),It(17)),Yr(this),this.s=2,Ms(this)):Iw(this,this.S-c)};function Ms(c){c.j.G==0||c.J||Ww(c.j,c)}function Yr(c){Zh(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,uw(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Xh(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||ef(f.h,c))){if(!c.K&&ef(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)jc(f),Lc(f);else break e;of(f),It(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ss(m(f.Za,f),6e3));if(1>=bw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Zr(f,11)}else if((c.K||f.g==c)&&jc(f),!K(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let Ie=C[d];if(f.T=Ie[0],Ie=Ie[1],f.G==2)if(Ie[0]=="c"){f.K=Ie[1],f.ia=Ie[2];let gt=Ie[3];gt!=null&&(f.la=gt,f.j.info("VER="+f.la));let mt=Ie[4];mt!=null&&(f.Aa=mt,f.j.info("SVER="+f.Aa));let qi=Ie[5];qi!=null&&typeof qi=="number"&&0<qi&&(g=1.5*qi,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Xt=c.g;if(Xt){let Bc=Xt.g?Xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bc){var A=g.h;A.g||Bc.indexOf("spdy")==-1&&Bc.indexOf("quic")==-1&&Bc.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(tf(A,A.h),A.h=null))}if(g.D){let af=Xt.g?Xt.g.getResponseHeader("X-HTTP-Session-Id"):null;af&&(g.ya=af,Ne(g.I,g.D,af))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var P=c;if(g.qa=Yw(g,g.J?g.ia:null,g.W),P.K){Cw(g.h,P);var Se=P,at=g.L;at&&(Se.I=at),Se.B&&(Zh(Se),xc(Se)),g.g=P}else qw(g);0<f.i.length&&Vc(f)}else Ie[0]!="stop"&&Ie[0]!="close"||Zr(f,7);else f.G==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?Zr(f,7):rf(f):Ie[0]!="noop"&&f.l&&f.l.ta(Ie),f.v=0)}}Ts(4)}catch{}}var FM=class{constructor(c,d){this.g=c,this.map=d}};function Ew(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Dw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function bw(c){return c.h?1:c.g?c.g.size:0}function ef(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function tf(c,d){c.g?c.g.add(d):c.h=d}function Cw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}Ew.prototype.cancel=function(){if(this.i=Tw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Tw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return x(c.i)}function LM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function VM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function Sw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=VM(c),g=LM(c),C=g.length,A=0;A<C;A++)d.call(void 0,g[A],f&&f[A],c)}var Aw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jM(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),C=null;if(0<=g){var A=c[f].substring(0,g);C=c[f].substring(g+1)}else A=c[f];d(A,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Jr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Jr){this.h=c.h,Nc(this,c.j),this.o=c.o,this.g=c.g,Pc(this,c.s),this.l=c.l;var d=c.i,f=new Ns;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),Mw(this,f),this.m=c.m}else c&&(d=String(c).match(Aw))?(this.h=!1,Nc(this,d[1]||"",!0),this.o=Rs(d[2]||""),this.g=Rs(d[3]||"",!0),Pc(this,d[4]),this.l=Rs(d[5]||"",!0),Mw(this,d[6]||"",!0),this.m=Rs(d[7]||"")):(this.h=!1,this.i=new Ns(null,this.h))}Jr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(xs(d,Rw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(xs(d,Rw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(xs(f,f.charAt(0)=="/"?$M:BM,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",xs(f,zM)),c.join("")};function Gn(c){return new Jr(c)}function Nc(c,d,f){c.j=f?Rs(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Pc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function Mw(c,d,f){d instanceof Ns?(c.i=d,qM(c.i,c.h)):(f||(d=xs(d,HM)),c.i=new Ns(d,c.h))}function Ne(c,d,f){c.i.set(d,f)}function Oc(c){return Ne(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Rs(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function xs(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,UM),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function UM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Rw=/[#\/\?@]/g,BM=/[#\?:]/g,$M=/[#\?]/g,HM=/[#\?@]/g,zM=/#/g;function Ns(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function wr(c){c.g||(c.g=new Map,c.h=0,c.i&&jM(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Ns.prototype,t.add=function(c,d){wr(this),this.i=null,c=Hi(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function xw(c,d){wr(c),d=Hi(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Nw(c,d){return wr(c),d=Hi(c,d),c.g.has(d)}t.forEach=function(c,d){wr(this),this.g.forEach(function(f,g){f.forEach(function(C){c.call(d,C,g,this)},this)},this)},t.na=function(){wr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let C=c[g];for(let A=0;A<C.length;A++)f.push(d[g])}return f},t.V=function(c){wr(this);let d=[];if(typeof c=="string")Nw(this,c)&&(d=d.concat(this.g.get(Hi(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return wr(this),this.i=null,c=Hi(this,c),Nw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function Pw(c,d,f){xw(c,d),0<f.length&&(c.i=null,c.g.set(Hi(c,d),x(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),P=this.V(g);for(g=0;g<P.length;g++){var C=A;P[g]!==""&&(C+="="+encodeURIComponent(String(P[g]))),c.push(C)}}return this.i=c.join("&")};function Hi(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function qM(c,d){d&&!c.j&&(wr(c),c.i=null,c.g.forEach(function(f,g){var C=g.toLowerCase();g!=C&&(xw(this,g),Pw(this,C,f))},c)),c.j=d}function GM(c,d){let f=new As;if(a.Image){let g=new Image;g.onload=y(Ir,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Ir,f,"TestLoadImage: error",!1,d,g),g.onabort=y(Ir,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Ir,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function WM(c,d){let f=new As,g=new AbortController,C=setTimeout(()=>{g.abort(),Ir(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(C),A.ok?Ir(f,"TestPingServer: ok",!0,d):Ir(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Ir(f,"TestPingServer: error",!1,d)})}function Ir(c,d,f,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(f)}catch{}}function KM(){this.g=new RM}function QM(c,d,f){let g=f||"";try{Sw(c,function(C,A){let P=C;l(C)&&(P=qh(C)),d.push(g+A+"="+encodeURIComponent(P))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function Ps(c){this.l=c.Ub||null,this.j=c.eb||!1}S(Ps,Gh),Ps.prototype.g=function(){return new kc(this.l,this.j)},Ps.prototype.i=function(c){return function(){return c}}({});function kc(c,d){pt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(kc,pt),t=kc.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,ks(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Os(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ks(this)),this.g&&(this.readyState=3,ks(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ow(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ow(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Os(this):ks(this),this.readyState==3&&Ow(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Os(this))},t.Qa=function(c){this.g&&(this.response=c,Os(this))},t.ga=function(){this.g&&Os(this)};function Os(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ks(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function ks(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(kc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function kw(c){let d="";return ie(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function nf(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=kw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ne(c,d,f))}function Ue(c){pt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Ue,pt);var YM=/^https?$/i,JM=["POST","PUT"];t=Ue.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qh.g(),this.v=this.o?lw(this.o):lw(Qh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){Fw(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)f.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(JM,d,void 0))||g||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,P]of f)this.g.setRequestHeader(A,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{jw(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){Fw(this,A)}};function Fw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,Lw(c),Fc(c)}function Lw(c){c.A||(c.A=!0,wt(c,"complete"),wt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,wt(this,"complete"),wt(this,"abort"),Fc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fc(this,!0)),Ue.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Vw(this):this.bb())},t.bb=function(){Vw(this)};function Vw(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Wn(c)!=4||c.Z()!=2)){if(c.u&&Wn(c)==4)sw(c.Ea,0,c);else if(wt(c,"readystatechange"),Wn(c)==4){c.h=!1;try{let P=c.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=P===0){var C=String(c.D).match(Aw)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),g=!YM.test(C?C.toLowerCase():"")}f=g}if(f)wt(c,"complete"),wt(c,"success");else{c.m=6;try{var A=2<Wn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",Lw(c)}}finally{Fc(c)}}}}function Fc(c,d){if(c.g){jw(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||wt(c,"ready");try{f.onreadystatechange=g}catch{}}}function jw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Wn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),MM(d)}};function Uw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ZM(c){let d={};c=(c.g&&2<=Wn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(K(c[g]))continue;var f=b(c[g]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[C]||[];d[C]=A,A.push(f)}D(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fs(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function Bw(c){this.Aa=0,this.i=[],this.j=new As,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fs("baseRetryDelayMs",5e3,c),this.cb=Fs("retryDelaySeedMs",1e4,c),this.Wa=Fs("forwardChannelMaxRetries",2,c),this.wa=Fs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ew(c&&c.concurrentRequestLimit),this.Da=new KM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Bw.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){It(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=Yw(this,null,this.W),Vc(this)};function rf(c){if($w(c),c.G==3){var d=c.U++,f=Gn(c.I);if(Ne(f,"SID",c.K),Ne(f,"RID",d),Ne(f,"TYPE","terminate"),Ls(c,f),d=new _r(c,c.j,d),d.L=2,d.v=Oc(Gn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=Jw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),xc(d)}Qw(c)}function Lc(c){c.g&&(sf(c),c.g.cancel(),c.g=null)}function $w(c){Lc(c),c.u&&(a.clearTimeout(c.u),c.u=null),jc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Vc(c){if(!Dw(c.h)&&!c.s){c.s=!0;var d=c.Ga;ws||ew(),Is||(ws(),Is=!0),Fh.add(d,c),c.B=0}}function XM(c,d){return bw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ss(m(c.Ga,c,d),Kw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new _r(this,this.j,c),A=this.o;if(this.S&&(A?(A=v(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(C.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=zw(this,C,d),f=Gn(this.I),Ne(f,"RID",c),Ne(f,"CVER",22),this.D&&Ne(f,"X-HTTP-Session-Id",this.D),Ls(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(kw(A)))+"&"+d:this.m&&nf(f,this.m,A)),tf(this.h,C),this.Ua&&Ne(f,"TYPE","init"),this.P?(Ne(f,"$req",d),Ne(f,"SID","null"),C.T=!0,Jh(C,f,null)):Jh(C,f,d),this.G=2}}else this.G==3&&(c?Hw(this,c):this.i.length==0||Dw(this.h)||Hw(this))};function Hw(c,d){var f;d?f=d.l:f=c.U++;let g=Gn(c.I);Ne(g,"SID",c.K),Ne(g,"RID",f),Ne(g,"AID",c.T),Ls(c,g),c.m&&c.o&&nf(g,c.m,c.o),f=new _r(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=zw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),tf(c.h,f),Jh(f,g,d)}function Ls(c,d){c.H&&ie(c.H,function(f,g){Ne(d,g,f)}),c.l&&Sw({},function(f,g){Ne(d,g,f)})}function zw(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var C=c.i;let A=-1;for(;;){let P=["count="+f];A==-1?0<f?(A=C[0].g,P.push("ofs="+A)):A=0:P.push("ofs="+A);let Se=!0;for(let at=0;at<f;at++){let Ie=C[at].g,gt=C[at].map;if(Ie-=A,0>Ie)A=Math.max(0,C[at].g-100),Se=!1;else try{QM(gt,P,"req"+Ie+"_")}catch{g&&g(gt)}}if(Se){g=P.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function qw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;ws||ew(),Is||(ws(),Is=!0),Fh.add(d,c),c.v=0}}function of(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ss(m(c.Fa,c),Kw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Gw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ss(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),Lc(this),Gw(this))};function sf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Gw(c){c.g=new _r(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Gn(c.qa);Ne(d,"RID","rpc"),Ne(d,"SID",c.K),Ne(d,"AID",c.T),Ne(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ne(d,"TO",c.ja),Ne(d,"TYPE","xmlhttp"),Ls(c,d),c.m&&c.o&&nf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Oc(Gn(d)),f.m=null,f.P=!0,_w(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Lc(this),of(this),It(19))};function jc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Ww(c,d){var f=null;if(c.g==d){jc(c),sf(c),c.g=null;var g=2}else if(ef(c.h,d))f=d.D,Cw(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;g=Ac(),wt(g,new gw(g,f)),Vc(c)}else qw(c);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&XM(c,d)||g==2&&of(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:Zr(c,5);break;case 4:Zr(c,10);break;case 3:Zr(c,6);break;default:Zr(c,2)}}}function Kw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Zr(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let C=!g;g=new Jr(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Nc(g,"https"),Oc(g),C?GM(g.toString(),f):WM(g.toString(),f)}else It(2);c.G=0,c.l&&c.l.sa(d),Qw(c),$w(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function Qw(c){if(c.G=0,c.ka=[],c.l){let d=Tw(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,x(c.i),c.i.length=0),c.l.ra()}}function Yw(c,d,f){var g=f instanceof Jr?Gn(f):new Jr(f);if(g.g!="")d&&(g.g=d+"."+g.g),Pc(g,g.s);else{var C=a.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var A=new Jr(null);g&&Nc(A,g),d&&(A.g=d),C&&Pc(A,C),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Ne(g,f,d),Ne(g,"VER",c.la),Ls(c,g),g}function Jw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ue(new Ps({eb:f})):new Ue(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zw(){}t=Zw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Uc(){}Uc.prototype.g=function(c,d){return new Pt(c,d)};function Pt(c,d){pt.call(this),this.g=new Bw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!K(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!K(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new zi(this)}S(Pt,pt),Pt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pt.prototype.close=function(){rf(this.g)},Pt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=qh(c),c=f);d.i.push(new FM(d.Ya++,c)),d.G==3&&Vc(d)},Pt.prototype.N=function(){this.g.l=null,delete this.j,rf(this.g),delete this.g,Pt.aa.N.call(this)};function Xw(c){Wh.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(Xw,Wh);function eI(){Kh.call(this),this.status=1}S(eI,Kh);function zi(c){this.g=c}S(zi,Zw),zi.prototype.ua=function(){wt(this.g,"a")},zi.prototype.ta=function(c){wt(this.g,new Xw(c))},zi.prototype.sa=function(c){wt(this.g,new eI)},zi.prototype.ra=function(){wt(this.g,"b")},Uc.prototype.createWebChannel=Uc.prototype.g,Pt.prototype.send=Pt.prototype.o,Pt.prototype.open=Pt.prototype.m,Pt.prototype.close=Pt.prototype.close,Zm=cr.createWebChannelTransport=function(){return new Uc},Jm=cr.getStatEventTarget=function(){return Ac()},Ym=cr.Event=Qr,td=cr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Mc.NO_ERROR=0,Mc.TIMEOUT=8,Mc.HTTP_ERROR=6,ka=cr.ErrorCode=Mc,mw.COMPLETE="complete",Qm=cr.EventType=mw,dw.EventType=Cs,Cs.OPEN="a",Cs.CLOSE="b",Cs.ERROR="c",Cs.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Bo=cr.WebChannel=dw,Km=cr.FetchXmlHttpFactory=Ps,Ue.prototype.listenOnce=Ue.prototype.L,Ue.prototype.getLastError=Ue.prototype.Ka,Ue.prototype.getLastErrorCode=Ue.prototype.Ba,Ue.prototype.getStatus=Ue.prototype.Z,Ue.prototype.getResponseJson=Ue.prototype.Oa,Ue.prototype.getResponseText=Ue.prototype.oa,Ue.prototype.send=Ue.prototype.ea,Ue.prototype.setWithCredentials=Ue.prototype.Ha,Wm=cr.XhrIo=Ue}).apply(typeof ed<"u"?ed:typeof self<"u"?self:typeof window<"u"?window:{});var FC="@firebase/firestore";var st=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};st.UNAUTHENTICATED=new st(null),st.GOOGLE_CREDENTIALS=new st("google-credentials-uid"),st.FIRST_PARTY=new st("first-party-uid"),st.MOCK_USER=new st("mock-user");var ss="10.13.0";var Ti=new xn("@firebase/firestore");function Fa(){return Ti.logLevel}function U(t,...e){if(Ti.logLevel<=pe.DEBUG){let n=e.map(Fv);Ti.debug(`Firestore (${ss}): ${t}`,...n)}}function lr(t,...e){if(Ti.logLevel<=pe.ERROR){let n=e.map(Fv);Ti.error(`Firestore (${ss}): ${t}`,...n)}}function Ko(t,...e){if(Ti.logLevel<=pe.WARN){let n=e.map(Fv);Ti.warn(`Firestore (${ss}): ${t}`,...n)}}function Fv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Y(t="Unexpected state"){let e=`FIRESTORE (${ss}) INTERNAL ASSERTION FAILED: `+t;throw lr(e),new Error(e)}function Me(t,e){t||Y()}function ee(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends lt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var fn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var sd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},ry=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(st.UNAUTHENTICATED))}shutdown(){}},iy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},oy=class{constructor(e){this.t=e,this.currentUser=st.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new fn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new fn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new fn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string"),new sd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string"),new st(e)}},sy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=st.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},ay=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new sy(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(st.FIRST_PARTY))}shutdown(){}invalidateToken(){}},cy=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},uy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me(typeof n.token=="string"),this.R=n.token,new cy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function xV(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var ad=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=xV(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function De(t,e){return t<e?-1:t>e?1:0}function Qo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var ht=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new V(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new V(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var re=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new ht(0,0))}static max(){return new t(new ht(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var cd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Y(),r===void 0?r=e.length-n:r>e.length-n&&Y(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ve=class t extends cd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new V(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},NV=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Bt=class t extends cd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return NV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new V(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new V(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new V(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new V(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var z=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ve.fromString(e))}static fromName(e){return new t(Ve.fromString(e).popFirst(5))}static empty(){return new t(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ve(e.slice()))}};var ly=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};ly.UNKNOWN_ID=-1;function PV(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new ht(n+1,0):new ht(n,r));return new Si(i,z.empty(),e)}function OV(t){return new Si(t.readTime,t.key,-1)}var Si=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(re.min(),z.empty(),-1)}static max(){return new t(re.max(),z.empty(),-1)}};function kV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=z.comparator(t.documentKey,e.documentKey),n!==0?n:De(t.largestBatchId,e.largestBatchId))}var FV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",dy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function tc(t){return _(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==FV)throw t;U("LocalStore","Unexpectedly lost primary lease")})}var N=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function LV(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nc(t){return t.name==="IndexedDbTransactionError"}var gT=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function jd(t){return t==null}function $a(t){return t===0&&1/t==-1/0}function VV(t){return typeof t=="number"&&Number.isInteger(t)&&!$a(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var jV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],u5=[...jV,"documentOverlays"],UV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],BV=UV,$V=[...BV,"indexConfiguration","indexState","indexEntries"];var l5=[...$V,"globals"];function LC(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function as(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var $e=class t{constructor(e,n){this.comparator=e,this.root=n||Fn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Fn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qo(this.root,e,this.comparator,!1)}getReverseIterator(){return new qo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qo(this.root,e,this.comparator,!0)}},qo=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Fn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();let e=this.left.check();if(e!==this.right.check())throw Y();return e+(this.isRed()?0:1)}};Fn.EMPTY=null,Fn.RED=!0,Fn.BLACK=!1;Fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Y()}get value(){throw Y()}get color(){throw Y()}get left(){throw Y()}get right(){throw Y()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var vt=class t{constructor(e){this.comparator=e,this.data=new $e(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ud(this.data.getIterator())}getIteratorFrom(e){return new ud(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},ud=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var kn=class t{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new t([])}unionWith(e){let n=new vt(Bt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var ld=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var _t=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ld("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};_t.EMPTY_BYTE_STRING=new _t("");var HV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dr(t){if(Me(!!t),typeof t=="string"){let e=0,n=HV.exec(t);if(Me(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fe(t.seconds),nanos:Fe(t.nanos)}}function Fe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zr(t){return typeof t=="string"?_t.fromBase64String(t):_t.fromUint8Array(t)}function Lv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Vv(t){let e=t.mapValue.fields.__previous_value__;return Lv(e)?Vv(e):e}function Ha(t){let e=dr(t.mapValue.fields.__local_write_time__.timestampValue);return new ht(e.seconds,e.nanos)}var hy=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},dd=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var nd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ai(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Lv(t)?4:vT(t)?9007199254740991:yT(t)?10:11:Y()}function jn(t,e){if(t===e)return!0;let n=Ai(t);if(n!==Ai(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ha(t).isEqual(Ha(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=dr(i.timestampValue),a=dr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return zr(i.bytesValue).isEqual(zr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Fe(i.geoPointValue.latitude)===Fe(o.geoPointValue.latitude)&&Fe(i.geoPointValue.longitude)===Fe(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Fe(i.integerValue)===Fe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Fe(i.doubleValue),a=Fe(o.doubleValue);return s===a?$a(s)===$a(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Qo(t.arrayValue.values||[],e.arrayValue.values||[],jn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(LC(s)!==LC(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!jn(s[u],a[u])))return!1;return!0}(t,e);default:return Y()}}function za(t,e){return(t.values||[]).find(n=>jn(n,e))!==void 0}function Yo(t,e){if(t===e)return 0;let n=Ai(t),r=Ai(e);if(n!==r)return De(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Fe(o.integerValue||o.doubleValue),u=Fe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return VC(t.timestampValue,e.timestampValue);case 4:return VC(Ha(t),Ha(e));case 5:return De(t.stringValue,e.stringValue);case 6:return function(o,s){let a=zr(o),u=zr(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=De(a[l],u[l]);if(h!==0)return h}return De(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=De(Fe(o.latitude),Fe(s.latitude));return a!==0?a:De(Fe(o.longitude),Fe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return jC(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,S=(u=m.value)===null||u===void 0?void 0:u.arrayValue,x=De(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return x!==0?x:jC(y,S)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===nd.mapValue&&s===nd.mapValue)return 0;if(o===nd.mapValue)return 1;if(s===nd.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=De(u[p],h[p]);if(m!==0)return m;let y=Yo(a[u[p]],l[h[p]]);if(y!==0)return y}return De(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Y()}}function VC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return De(t,e);let n=dr(t),r=dr(e),i=De(n.seconds,r.seconds);return i!==0?i:De(n.nanos,r.nanos)}function jC(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Yo(n[i],r[i]);if(o)return o}return De(n.length,r.length)}function Jo(t){return fy(t)}function fy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=dr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=fy(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${fy(n.fields[s])}`;return i+"}"}(t.mapValue):Y()}function UC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function py(t){return!!t&&"integerValue"in t}function jv(t){return!!t&&"arrayValue"in t}function BC(t){return!!t&&"nullValue"in t}function $C(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function id(t){return!!t&&"mapValue"in t}function yT(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Va(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return as(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Va(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Va(t.arrayValue.values[n]);return e}return Object.assign({},t)}function vT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var hn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!id(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Va(n)}setAll(e){let n=Bt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Va(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());id(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];id(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){as(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Va(this.value))}};function _T(t){let e=[];return as(t.fields,(n,r)=>{let i=new Bt([n]);if(id(r)){let o=_T(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new kn(e)}var pn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,re.min(),re.min(),re.min(),hn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,re.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,re.min(),re.min(),hn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,re.min(),re.min(),hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Zo=class{constructor(e,n){this.position=e,this.inclusive=n}};function HC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=z.comparator(z.fromName(s.referenceValue),n.key):r=Yo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function zC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jn(t.position[n],e.position[n]))return!1;return!0}var Xo=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function zV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var hd=class{},Qe=class t extends hd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new my(e,n,r):n==="array-contains"?new _y(e,r):n==="in"?new wy(e,r):n==="not-in"?new Iy(e,r):n==="array-contains-any"?new Ey(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new yy(e,r):new vy(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Yo(n,this.value)):n!==null&&Ai(this.value)===Ai(n)&&this.matchesComparison(Yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},gn=class t extends hd{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return wT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function wT(t){return t.op==="and"}function IT(t){return qV(t)&&wT(t)}function qV(t){for(let e of t.filters)if(e instanceof gn)return!1;return!0}function gy(t){if(t instanceof Qe)return t.field.canonicalString()+t.op.toString()+Jo(t.value);if(IT(t))return t.filters.map(e=>gy(e)).join(",");{let e=t.filters.map(n=>gy(n)).join(",");return`${t.op}(${e})`}}function ET(t,e){return t instanceof Qe?function(r,i){return i instanceof Qe&&r.op===i.op&&r.field.isEqual(i.field)&&jn(r.value,i.value)}(t,e):t instanceof gn?function(r,i){return i instanceof gn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&ET(s,i.filters[a]),!0):!1}(t,e):void Y()}function DT(t){return t instanceof Qe?function(n){return`${n.field.canonicalString()} ${n.op} ${Jo(n.value)}`}(t):t instanceof gn?function(n){return n.op.toString()+" {"+n.getFilters().map(DT).join(" ,")+"}"}(t):"Filter"}var my=class extends Qe{constructor(e,n,r){super(e,n,r),this.key=z.fromName(r.referenceValue)}matches(e){let n=z.comparator(e.key,this.key);return this.matchesComparison(n)}},yy=class extends Qe{constructor(e,n){super(e,"in",n),this.keys=bT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},vy=class extends Qe{constructor(e,n){super(e,"not-in",n),this.keys=bT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function bT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>z.fromName(r.referenceValue))}var _y=class extends Qe{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return jv(n)&&za(n.arrayValue,this.value)}},wy=class extends Qe{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&za(this.value.arrayValue,n)}},Iy=class extends Qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!za(this.value.arrayValue,n)}},Ey=class extends Qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!jv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>za(this.value.arrayValue,r))}};var Dy=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function qC(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Dy(t,e,n,r,i,o,s)}function Uv(t){let e=ee(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>gy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),jd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Jo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Jo(r)).join(",")),e.ue=n}return e.ue}function Bv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!zV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ET(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zC(t.startAt,e.startAt)&&zC(t.endAt,e.endAt)}function by(t){return z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Mi=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function GV(t,e,n,r,i,o,s,a){return new Mi(t,e,n,r,i,o,s,a)}function $v(t){return new Mi(t)}function GC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function CT(t){return t.collectionGroup!==null}function ja(t){let e=ee(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new vt(Bt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Xo(o,r))}),n.has(Bt.keyField().canonicalString())||e.ce.push(new Xo(Bt.keyField(),r))}return e.ce}function Ln(t){let e=ee(t);return e.le||(e.le=WV(e,ja(t))),e.le}function WV(t,e){if(t.limitType==="F")return qC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Xo(i.field,o)});let n=t.endAt?new Zo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Zo(t.startAt.position,t.startAt.inclusive):null;return qC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Cy(t,e){let n=t.filters.concat([e]);return new Mi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function fd(t,e,n){return new Mi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ud(t,e){return Bv(Ln(t),Ln(e))&&t.limitType===e.limitType}function TT(t){return`${Uv(Ln(t))}|lt:${t.limitType}`}function $o(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>DT(i)).join(", ")}]`),jd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Jo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Jo(i)).join(",")),`Target(${r})`}(Ln(t))}; limitType=${t.limitType})`}function Bd(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):z.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of ja(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=HC(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,ja(r),i)||r.endAt&&!function(s,a,u){let l=HC(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,ja(r),i))}(t,e)}function KV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ST(t){return(e,n)=>{let r=!1;for(let i of ja(t)){let o=QV(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function QV(t,e,n){let r=t.field.isKeyField()?z.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Yo(u,l):Y()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y()}}var qr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){as(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return mT(this.inner)}size(){return this.innerSize}};var YV=new $e(z.comparator);function hr(){return YV}var AT=new $e(z.comparator);function La(...t){let e=AT;for(let n of t)e=e.insert(n.key,n);return e}function MT(t){let e=AT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Di(){return Ua()}function RT(){return Ua()}function Ua(){return new qr(t=>t.toString(),(t,e)=>t.isEqual(e))}var JV=new $e(z.comparator),ZV=new vt(z.comparator);function ge(...t){let e=ZV;for(let n of t)e=e.add(n);return e}var XV=new vt(De);function e2(){return XV}function Hv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$a(e)?"-0":e}}function xT(t){return{integerValue:""+t}}function t2(t,e){return VV(e)?xT(e):Hv(t,e)}var es=class{constructor(){this._=void 0}};function n2(t,e,n){return t instanceof ts?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Lv(o)&&(o=Vv(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Ri?PT(t,e):t instanceof xi?OT(t,e):function(i,o){let s=NT(i,o),a=WC(s)+WC(i.Pe);return py(s)&&py(i.Pe)?xT(a):Hv(i.serializer,a)}(t,e)}function r2(t,e,n){return t instanceof Ri?PT(t,e):t instanceof xi?OT(t,e):n}function NT(t,e){return t instanceof ns?function(r){return py(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var ts=class extends es{},Ri=class extends es{constructor(e){super(),this.elements=e}};function PT(t,e){let n=kT(e);for(let r of t.elements)n.some(i=>jn(i,r))||n.push(r);return{arrayValue:{values:n}}}var xi=class extends es{constructor(e){super(),this.elements=e}};function OT(t,e){let n=kT(e);for(let r of t.elements)n=n.filter(i=>!jn(i,r));return{arrayValue:{values:n}}}var ns=class extends es{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function WC(t){return Fe(t.integerValue||t.doubleValue)}function kT(t){return jv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function i2(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ri&&i instanceof Ri||r instanceof xi&&i instanceof xi?Qo(r.elements,i.elements,jn):r instanceof ns&&i instanceof ns?jn(r.Pe,i.Pe):r instanceof ts&&i instanceof ts}(t.transform,e.transform)}var Ty=class{constructor(e,n){this.version=e,this.transformResults=n}},ur=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function od(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var rs=class{};function FT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qa(t.key,ur.none()):new Ni(t.key,t.data,ur.none());{let n=t.data,r=hn.empty(),i=new vt(Bt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new fr(t.key,r,new kn(i.toArray()),ur.none())}}function o2(t,e,n){t instanceof Ni?function(i,o,s){let a=i.value.clone(),u=QC(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof fr?function(i,o,s){if(!od(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=QC(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(LT(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ba(t,e,n,r){return t instanceof Ni?function(o,s,a,u){if(!od(o.precondition,s))return a;let l=o.value.clone(),h=YC(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof fr?function(o,s,a,u){if(!od(o.precondition,s))return a;let l=YC(o.fieldTransforms,u,s),h=s.data;return h.setAll(LT(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return od(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function s2(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=NT(r.transform,i||null);o!=null&&(n===null&&(n=hn.empty()),n.set(r.field,o))}return n||null}function KC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Qo(r,i,(o,s)=>i2(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ni=class extends rs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},fr=class extends rs{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function LT(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function QC(t,e,n){let r=new Map;Me(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,r2(s,a,n[i]))}return r}function YC(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,n2(o,s,e))}return r}var qa=class extends rs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Sy=class extends rs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Ay=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&o2(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ba(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Ba(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=RT();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=FT(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&Qo(this.mutations,e.mutations,(n,r)=>KC(n,r))&&Qo(this.baseMutations,e.baseMutations,(n,r)=>KC(n,r))}},My=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Me(e.mutations.length===r.length);let i=function(){return JV}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var Ry=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var xy=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var We,_e;function a2(t){switch(t){default:return Y();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function VT(t){if(t===void 0)return lr("GRPC error has no .code"),M.UNKNOWN;switch(t){case We.OK:return M.OK;case We.CANCELLED:return M.CANCELLED;case We.UNKNOWN:return M.UNKNOWN;case We.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case We.INTERNAL:return M.INTERNAL;case We.UNAVAILABLE:return M.UNAVAILABLE;case We.UNAUTHENTICATED:return M.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case We.NOT_FOUND:return M.NOT_FOUND;case We.ALREADY_EXISTS:return M.ALREADY_EXISTS;case We.PERMISSION_DENIED:return M.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case We.ABORTED:return M.ABORTED;case We.OUT_OF_RANGE:return M.OUT_OF_RANGE;case We.UNIMPLEMENTED:return M.UNIMPLEMENTED;case We.DATA_LOSS:return M.DATA_LOSS;default:return Y()}}(_e=We||(We={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";var JC=null;function c2(){return new TextEncoder}var u2=new $r([4294967295,4294967295],0);function ZC(t){let e=c2().encode(t),n=new Gm;return n.update(e),new Uint8Array(n.digest())}function XC(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new $r([n,r],0),new $r([i,o],0)]}var Ny=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bi(`Invalid padding: ${n}`);if(r<0)throw new bi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new bi(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=$r.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply($r.fromNumber(r)));return i.compare(u2)===1&&(i=new $r([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=ZC(e),[r,i]=XC(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=ZC(e),[r,i]=XC(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},bi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var pd=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Ga.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(re.min(),i,new $e(De),hr(),ge())}},Ga=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ge(),ge(),ge())}};var Go=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},gd=class{constructor(e,n){this.targetId=e,this.me=n}},md=class{constructor(e,n,r=_t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},yd=class{constructor(){this.fe=0,this.ge=tT(),this.pe=_t.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ge(),n=ge(),r=ge();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Y()}}),new Ga(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=tT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Me(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Py=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=hr(),this.qe=eT(),this.Qe=new $e(De)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Y()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(by(o))if(r===0){let s=new z(o.path);this.Ue(n,s,pn.newNoDocument(s,re.min()))}else Me(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}JC?.et(function(h,p,m,y,S){var x,R,j,K,H,me;let je={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},ie=p.unchangedNames;return ie&&(je.bloomFilter={applied:S===0,hashCount:(x=ie?.hashCount)!==null&&x!==void 0?x:0,bitmapLength:(K=(j=(R=ie?.bits)===null||R===void 0?void 0:R.bitmap)===null||j===void 0?void 0:j.length)!==null&&K!==void 0?K:0,padding:(me=(H=ie?.bits)===null||H===void 0?void 0:H.padding)!==null&&me!==void 0?me:0,mightContain:D=>{var v;return(v=y?.mightContain(D))!==null&&v!==void 0&&v}}),je}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=zr(r).toUint8Array()}catch(u){if(u instanceof ld)return Ko("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Ny(s,i,o)}catch(u){return Ko(u instanceof bi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&by(a.target)){let u=new z(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,pn.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=ge();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new pd(e,n,this.Qe,this.ke,r);return this.ke=hr(),this.qe=eT(),this.Qe=new $e(De),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new yd,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new vt(De),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||U("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new yd),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function eT(){return new $e(z.comparator)}function tT(){return new $e(z.comparator)}var l2={asc:"ASCENDING",desc:"DESCENDING"},d2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},h2={and:"AND",or:"OR"},Oy=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function ky(t,e){return t.useProto3Json||jd(e)?e:{value:e}}function vd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function f2(t,e){return vd(t,e.toTimestamp())}function Vn(t){return Me(!!t),re.fromTimestamp(function(n){let r=dr(n);return new ht(r.seconds,r.nanos)}(t))}function zv(t,e){return Fy(t,e).canonicalString()}function Fy(t,e){let n=function(i){return new Ve(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function UT(t){let e=Ve.fromString(t);return Me(qT(e)),e}function Ly(t,e){return zv(t.databaseId,e.path)}function Xm(t,e){let n=UT(e);if(n.get(1)!==t.databaseId.projectId)throw new V(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new V(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new z($T(n))}function BT(t,e){return zv(t.databaseId,e)}function p2(t){let e=UT(t);return e.length===4?Ve.emptyPath():$T(e)}function Vy(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $T(t){return Me(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function nT(t,e,n){return{name:Ly(t,e),fields:n.value.mapValue.fields}}function g2(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Y()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Me(h===void 0||typeof h=="string"),_t.fromBase64String(h||"")):(Me(h===void 0||h instanceof Buffer||h instanceof Uint8Array),_t.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?M.UNKNOWN:VT(l.code);return new V(h,l.message||"")}(s);n=new md(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Xm(t,r.document.name),o=Vn(r.document.updateTime),s=r.document.createTime?Vn(r.document.createTime):re.min(),a=new hn({mapValue:{fields:r.document.fields}}),u=pn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Go(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Xm(t,r.document),o=r.readTime?Vn(r.readTime):re.min(),s=pn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Go([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Xm(t,r.document),o=r.removedTargetIds||[];n=new Go([],o,i,null)}else{if(!("filter"in e))return Y();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new xy(i,o),a=r.targetId;n=new gd(a,s)}}return n}function m2(t,e){let n;if(e instanceof Ni)n={update:nT(t,e.key,e.value)};else if(e instanceof qa)n={delete:Ly(t,e.key)};else if(e instanceof fr)n={update:nT(t,e.key,e.data),updateMask:C2(e.fieldMask)};else{if(!(e instanceof Sy))return Y();n={verify:Ly(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof ts)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ri)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof xi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ns)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Y()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:f2(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Y()}(t,e.precondition)),n}function y2(t,e){return t&&t.length>0?(Me(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Vn(i.updateTime):Vn(o);return s.isEqual(re.min())&&(s=Vn(o)),new Ty(s,i.transformResults||[])}(n,e))):[]}function v2(t,e){return{documents:[BT(t,e.path)]}}function _2(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=BT(t,i);let o=function(l){if(l.length!==0)return zT(gn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:Ho(m.field),direction:E2(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=ky(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function w2(t){let e=p2(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Me(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=HT(p);return m instanceof gn&&IT(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(S){return new Xo(zo(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,jd(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new Zo(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new Zo(y,m)}(n.endAt)),GV(e,i,s,o,a,"F",u,l)}function I2(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function HT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=zo(n.unaryFilter.field);return Qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=zo(n.unaryFilter.field);return Qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=zo(n.unaryFilter.field);return Qe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=zo(n.unaryFilter.field);return Qe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Y()}}(t):t.fieldFilter!==void 0?function(n){return Qe.create(zo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Y()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return gn.create(n.compositeFilter.filters.map(r=>HT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y()}}(n.compositeFilter.op))}(t):Y()}function E2(t){return l2[t]}function D2(t){return d2[t]}function b2(t){return h2[t]}function Ho(t){return{fieldPath:t.canonicalString()}}function zo(t){return Bt.fromServerFormat(t.fieldPath)}function zT(t){return t instanceof Qe?function(n){if(n.op==="=="){if($C(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NAN"}};if(BC(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($C(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NOT_NAN"}};if(BC(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ho(n.field),op:D2(n.op),value:n.value}}}(t):t instanceof gn?function(n){let r=n.getFilters().map(i=>zT(i));return r.length===1?r[0]:{compositeFilter:{op:b2(n.op),filters:r}}}(t):Y()}function C2(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Wa=class t{constructor(e,n,r,i,o=re.min(),s=re.min(),a=_t.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var jy=class{constructor(e){this.ct=e}};function T2(t){let e=w2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fd(e,e.limit,"L"):e}var _d=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Fe(e.integerValue));else if("doubleValue"in e){let r=Fe(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),$a(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=dr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(zr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?vT(e)?this.dt(n,Number.MAX_SAFE_INTEGER):yT(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Y()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Fe(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),z.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};_d.vt=new _d;var Uy=class{constructor(){this.un=new By}addToCollectionParentIndex(e,n){return this.un.add(n),N.resolve()}getCollectionParents(e,n){return N.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return N.resolve()}deleteFieldIndex(e,n){return N.resolve()}deleteAllFieldIndexes(e){return N.resolve()}createTargetIndexes(e,n){return N.resolve()}getDocumentsMatchingTarget(e,n){return N.resolve(null)}getIndexType(e,n){return N.resolve(0)}getFieldIndexes(e,n){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,n){return N.resolve(Si.min())}getMinOffsetFromCollectionGroup(e,n){return N.resolve(Si.min())}updateCollectionGroup(e,n,r){return N.resolve()}updateIndexEntries(e,n){return N.resolve()}},By=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new vt(Ve.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vt(Ve.comparator)).toArray()}};var h5=new Uint8Array(0);var On=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(41943040,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);var Ka=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var $y=class{constructor(){this.changes=new qr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?N.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Hy=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var zy=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ba(r.mutation,i,kn.empty(),ht.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){let i=Di();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=La();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Di();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=hr(),s=Ua(),a=function(){return Ua()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof fr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Ba(h.mutation,l,h.mutation.getFieldMask(),ht.now())):s.set(l.key,kn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new Hy(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Ua(),i=new $e((s,a)=>s-a),o=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||kn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ge()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=RT();h.forEach(m=>{if(!o.has(m)){let y=FT(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return N.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):CT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):N.resolve(Di()),a=-1,u=o;return s.next(l=>N.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?N.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ge())).next(h=>({batchId:a,changes:MT(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new z(n)).next(r=>{let i=La();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=La();return this.indexManager.getCollectionParents(e,o).next(a=>N.forEach(a,u=>{let l=function(p,m){return new Mi(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,pn.newInvalidDocument(h)))});let a=La();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Ba(h.mutation,l,kn.empty(),ht.now()),Bd(n,l)&&(a=a.insert(u,l))}),a})}};var qy=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return N.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Vn(i.createTime)}}(n)),N.resolve()}getNamedQuery(e,n){return N.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:T2(i.bundledQuery),readTime:Vn(i.readTime)}}(n)),N.resolve()}};var Gy=class{constructor(){this.overlays=new $e(z.comparator),this.Ir=new Map}getOverlay(e,n){return N.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Di();return N.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),N.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),N.resolve()}getOverlaysForCollection(e,n,r){let i=Di(),o=n.length+1,s=new z(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return N.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new $e((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Di(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Di(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return N.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Ry(n,r));let o=this.Ir.get(n);o===void 0&&(o=ge(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var Wy=class{constructor(){this.sessionToken=_t.EMPTY_BYTE_STRING}getSessionToken(e){return N.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,N.resolve()}};var Qa=class{constructor(){this.Tr=new vt(Ke.Er),this.dr=new vt(Ke.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Ke(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ke(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new z(new Ve([])),r=new Ke(n,e),i=new Ke(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new z(new Ve([])),r=new Ke(n,e),i=new Ke(n,e+1),o=ge();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ke(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ke=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return z.comparator(e.key,n.key)||De(e.wr,n.wr)}static Ar(e,n){return De(e.wr,n.wr)||z.comparator(e.key,n.key)}};var Ky=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new vt(Ke.Er)}checkEmpty(e){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Ay(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new Ke(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return N.resolve(s)}lookupMutationBatch(e,n){return N.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return N.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ke(n,0),i=new Ke(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),N.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vt(De);return n.forEach(i=>{let o=new Ke(i,0),s=new Ke(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),N.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;z.isDocumentKey(o)||(o=o.child(""));let s=new Ke(new z(o),0),a=new vt(De);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),N.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Me(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return N.forEach(n.mutations,i=>{let o=new Ke(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Ke(n,0),i=this.br.firstAfterOrEqual(r);return N.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,N.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Qy=class{constructor(e){this.Mr=e,this.docs=function(){return new $e(z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return N.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(n))}getEntries(e,n){let r=hr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():pn.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=hr(),s=n.path,a=new z(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||kV(OV(h),r)<=0||(i.has(h.key)||Bd(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return N.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Y()}Or(e,n){return N.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Yy(this)}getSize(e){return N.resolve(this.size)}},Yy=class extends $y{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),N.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Jy=class{constructor(e){this.persistence=e,this.Nr=new qr(n=>Uv(n),Bv),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Qa,this.targetCount=0,this.kr=Ka.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),N.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Ka(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,N.resolve()}updateTargetData(e,n){return this.Kn(n),N.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),N.waitFor(o).next(()=>i)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return N.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),N.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),N.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),N.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return N.resolve(r)}containsKey(e,n){return N.resolve(this.Br.containsKey(n))}};var Zy=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new gT(0),this.Kr=!1,this.Kr=!0,this.$r=new Wy,this.referenceDelegate=e(this),this.Ur=new Jy(this),this.indexManager=new Uy,this.remoteDocumentCache=function(i){return new Qy(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new jy(n),this.Gr=new qy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Gy,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Ky(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){U("MemoryPersistence","Starting transaction:",e);let i=new Xy(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return N.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Xy=class extends dy{constructor(e){super(),this.currentSequenceNumber=e}},ev=class t{constructor(e){this.persistence=e,this.Jr=new Qa,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw Y()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),N.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),N.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),N.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Xr,r=>{let i=z.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,re.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return N.or([()=>N.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var tv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ge(),i=ge();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var nv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var rv=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return yC()?8:LV(rt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new nv;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Fa()<=pe.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",$o(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),N.resolve()):(Fa()<=pe.DEBUG&&U("QueryEngine","Query:",$o(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Fa()<=pe.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",$o(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ln(n))):N.resolve())}Yi(e,n){if(GC(n))return N.resolve(null);let r=Ln(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=fd(n,null,"F"),r=Ln(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ge(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,s,u.readTime)?this.Yi(e,fd(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return GC(n)||i.isEqual(re.min())?N.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?N.resolve(null):(Fa()<=pe.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$o(n)),this.rs(e,s,n,PV(i,-1)).next(a=>a))})}ts(e,n){let r=new vt(ST(e));return n.forEach((i,o)=>{Bd(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Fa()<=pe.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",$o(n)),this.Ji.getDocumentsMatchingQuery(e,n,Si.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var iv=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new $e(De),this._s=new qr(o=>Uv(o),Bv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zy(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function S2(t,e,n,r){return new iv(t,e,n,r)}function GT(t,e){return _(this,null,function*(){let n=ee(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ge();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function A2(t,e){let n=ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=N.resolve();return m.forEach(S=>{y=y.next(()=>h.getEntry(u,S)).next(x=>{let R=l.docVersions.get(S);Me(R!==null),x.version.compareTo(R)<0&&(p.applyToRemoteDocument(x,l),x.isValidDocument()&&(x.setReadTime(l.commitVersion),h.addEntry(x)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ge();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function WT(t){let e=ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function M2(t,e){let n=ee(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(_t.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(x,R,j){return x.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(m,y,h)&&a.push(n.Ur.updateTargetData(o,y))});let u=hr(),l=ge();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(R2(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(re.min())){let h=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return N.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function R2(t,e,n){let r=ge(),i=ge();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=hr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(re.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):U("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function x2(t,e){let n=ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function N2(t,e){let n=ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,N.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Wa(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function ov(t,e,n){return _(this,null,function*(){let r=ee(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!nc(s))throw s;U("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function rT(t,e,n){let r=ee(t),i=re.min(),o=ge();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=ee(u),m=p._s.get(h);return m!==void 0?N.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,s,Ln(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:re.min(),n?o:ge())).next(a=>(P2(r,KV(e),a),{documents:a,Ts:o})))}function P2(t,e,n){let r=t.us.get(e)||re.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var wd=class{constructor(){this.activeTargetIds=e2()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var sv=class{constructor(){this.so=new wd,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new wd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var av=class{_o(e){}shutdown(){}};var Id=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var rd=null;function ey(){return rd===null?rd=function(){return 268435456+Math.round(2147483648*Math.random())}():rd++,"0x"+rd.toString(16)}var O2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var cv=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var yt="WebChannelConnection",uv=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=ey(),u=this.xo(n,r.toUriEncodedString());U("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(h=>(U("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Ko("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ss}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=O2[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=ey();return new Promise((s,a)=>{let u=new Wm;u.setWithCredentials(!0),u.listenOnce(Qm.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ka.NO_ERROR:let h=u.getResponseJson();U(yt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case ka.TIMEOUT:U(yt,`RPC '${e}' ${o} timed out`),a(new V(M.DEADLINE_EXCEEDED,"Request time out"));break;case ka.HTTP_ERROR:let p=u.getStatus();if(U(yt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let S=function(R){let j=R.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(j)>=0?j:M.UNKNOWN}(y.status);a(new V(S,y.message))}else a(new V(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new V(M.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{U(yt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);U(yt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=ey(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Zm(),a=Jm(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new Km({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");U(yt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),m=!1,y=!1,S=new cv({Io:R=>{y?U(yt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(U(yt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),U(yt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),x=(R,j,K)=>{R.listen(j,H=>{try{K(H)}catch(me){setTimeout(()=>{throw me},0)}})};return x(p,Bo.EventType.OPEN,()=>{y||(U(yt,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),x(p,Bo.EventType.CLOSE,()=>{y||(y=!0,U(yt,`RPC '${e}' stream ${i} transport closed`),S.So())}),x(p,Bo.EventType.ERROR,R=>{y||(y=!0,Ko(yt,`RPC '${e}' stream ${i} transport errored:`,R),S.So(new V(M.UNAVAILABLE,"The operation could not be completed")))}),x(p,Bo.EventType.MESSAGE,R=>{var j;if(!y){let K=R.data[0];Me(!!K);let H=K,me=H.error||((j=H[0])===null||j===void 0?void 0:j.error);if(me){U(yt,`RPC '${e}' stream ${i} received error:`,me);let je=me.status,ie=function(w){let E=We[w];if(E!==void 0)return VT(E)}(je),D=me.message;ie===void 0&&(ie=M.INTERNAL,D="Unknown error status: "+je+" with message "+me.message),y=!0,S.So(new V(ie,D)),p.close()}else U(yt,`RPC '${e}' stream ${i} received:`,K),S.bo(K)}}),x(a,Ym.STAT_EVENT,R=>{R.stat===td.PROXY?U(yt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===td.NOPROXY&&U(yt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function ty(){return typeof document<"u"?document:null}function $d(t){return new Oy(t,!0)}var Ed=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Dd=class{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ed(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return _(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return _(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return _(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(lr(n.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new V(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>_(this,null,function*(){this.state=0,this.start()}))}I_(e){return U("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},lv=class extends Dd{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=g2(this.serializer,e),r=function(o){if(!("targetChange"in o))return re.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?re.min():s.readTime?Vn(s.readTime):re.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=Vy(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=by(u)?{documents:v2(o,u)}:{query:_2(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=jT(o,s.resumeToken);let l=ky(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(re.min())>0){a.readTime=vd(o,s.snapshotVersion.toTimestamp());let l=ky(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=I2(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=Vy(this.serializer),n.removeTarget=e,this.a_(n)}},dv=class extends Dd{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Me(!!e.streamToken),this.lastStreamToken=e.streamToken,Me(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=y2(e.writeResults,e.commitTime),r=Vn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=Vy(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>m2(this.serializer,r))};this.a_(n)}};var hv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new V(M.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Fy(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(M.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,Fy(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(M.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},fv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(lr(n),this.D_=!1):U("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var pv=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>_(this,null,function*(){Oi(this)&&(U("RemoteStore","Restarting streams for network reachability change."),yield function(u){return _(this,null,function*(){let l=ee(u);l.L_.add(4),yield rc(l),l.q_.set("Unknown"),l.L_.delete(4),yield Hd(l)})}(this))}))}),this.q_=new fv(r,i)}};function Hd(t){return _(this,null,function*(){if(Oi(t))for(let e of t.B_)yield e(!0)})}function rc(t){return _(this,null,function*(){for(let e of t.B_)yield e(!1)})}function KT(t,e){let n=ee(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Kv(n)?Wv(n):cs(n).r_()&&Gv(n,e))}function qv(t,e){let n=ee(t),r=cs(n);n.N_.delete(e),r.r_()&&QT(n,e),n.N_.size===0&&(r.r_()?r.o_():Oi(n)&&n.q_.set("Unknown"))}function Gv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}cs(t).A_(e)}function QT(t,e){t.Q_.xe(e),cs(t).R_(e)}function Wv(t){t.Q_=new Py({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),cs(t).start(),t.q_.v_()}function Kv(t){return Oi(t)&&!cs(t).n_()&&t.N_.size>0}function Oi(t){return ee(t).L_.size===0}function YT(t){t.Q_=void 0}function k2(t){return _(this,null,function*(){t.q_.set("Online")})}function F2(t){return _(this,null,function*(){t.N_.forEach((e,n)=>{Gv(t,e)})})}function L2(t,e){return _(this,null,function*(){YT(t),Kv(t)?(t.q_.M_(e),Wv(t)):t.q_.set("Unknown")})}function V2(t,e,n){return _(this,null,function*(){if(t.q_.set("Online"),e instanceof md&&e.state===2&&e.cause)try{yield function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){U("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield bd(t,r)}else if(e instanceof Go?t.Q_.Ke(e):e instanceof gd?t.Q_.He(e):t.Q_.We(e),!n.isEqual(re.min()))try{let r=yield WT(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(_t.EMPTY_BYTE_STRING,h.snapshotVersion)),QT(o,u);let p=new Wa(h.target,u,l,h.sequenceNumber);Gv(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){U("RemoteStore","Failed to raise snapshot:",r),yield bd(t,r)}})}function bd(t,e,n){return _(this,null,function*(){if(!nc(e))throw e;t.L_.add(1),yield rc(t),t.q_.set("Offline"),n||(n=()=>WT(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(this,null,function*(){U("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Hd(t)}))})}function JT(t,e){return e().catch(n=>bd(t,n,e))}function zd(t){return _(this,null,function*(){let e=ee(t),n=Gr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;j2(e);)try{let i=yield x2(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,U2(e,i)}catch(i){yield bd(e,i)}ZT(e)&&XT(e)})}function j2(t){return Oi(t)&&t.O_.length<10}function U2(t,e){t.O_.push(e);let n=Gr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function ZT(t){return Oi(t)&&!Gr(t).n_()&&t.O_.length>0}function XT(t){Gr(t).start()}function B2(t){return _(this,null,function*(){Gr(t).p_()})}function $2(t){return _(this,null,function*(){let e=Gr(t);for(let n of t.O_)e.m_(n.mutations)})}function H2(t,e,n){return _(this,null,function*(){let r=t.O_.shift(),i=My.from(r,e,n);yield JT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield zd(t)})}function z2(t,e){return _(this,null,function*(){e&&Gr(t).V_&&(yield function(r,i){return _(this,null,function*(){if(function(s){return a2(s)&&s!==M.ABORTED}(i.code)){let o=r.O_.shift();Gr(r).s_(),yield JT(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield zd(r)}})}(t,e)),ZT(t)&&XT(t)})}function iT(t,e){return _(this,null,function*(){let n=ee(t);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");let r=Oi(n);n.L_.add(3),yield rc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Hd(n)})}function q2(t,e){return _(this,null,function*(){let n=ee(t);e?(n.L_.delete(2),yield Hd(n)):e||(n.L_.add(2),yield rc(n),n.q_.set("Unknown"))})}function cs(t){return t.K_||(t.K_=function(n,r,i){let o=ee(n);return o.w_(),new lv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:k2.bind(null,t),Ro:F2.bind(null,t),mo:L2.bind(null,t),d_:V2.bind(null,t)}),t.B_.push(e=>_(this,null,function*(){e?(t.K_.s_(),Kv(t)?Wv(t):t.q_.set("Unknown")):(yield t.K_.stop(),YT(t))}))),t.K_}function Gr(t){return t.U_||(t.U_=function(n,r,i){let o=ee(n);return o.w_(),new dv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:B2.bind(null,t),mo:z2.bind(null,t),f_:$2.bind(null,t),g_:H2.bind(null,t)}),t.B_.push(e=>_(this,null,function*(){e?(t.U_.s_(),yield zd(t)):(yield t.U_.stop(),t.O_.length>0&&(U("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var gv=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new fn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Qv(t,e){if(lr("AsyncQueue",`${e}: ${t}`),nc(t))return new V(M.UNAVAILABLE,`${e}: ${t}`);throw t}var Cd=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||z.comparator(n.key,r.key):(n,r)=>z.comparator(n.key,r.key),this.keyedMap=La(),this.sortedSet=new $e(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Td=class{constructor(){this.W_=new $e(z.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Y():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},is=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Cd.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ud(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var mv=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},yv=class{constructor(){this.queries=oT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=ee(n),o=i.queries;i.queries=oT(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new V(M.ABORTED,"Firestore shutting down"))}};function oT(){return new qr(t=>TT(t),Ud)}function eS(t,e){return _(this,null,function*(){let n=ee(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new mv,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=Qv(s,`Initialization of query '${$o(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Yv(n)})}function tS(t,e){return _(this,null,function*(){let n=ee(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function G2(t,e){let n=ee(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&Yv(n)}function W2(t,e,n){let r=ee(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function Yv(t){t.Y_.forEach(e=>{e.next()})}var vv,sT;(sT=vv||(vv={})).ea="default",sT.Cache="cache";var Sd=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new is(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=is.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==vv.Cache}};var Ad=class{constructor(e){this.key=e}},Md=class{constructor(e){this.key=e}},_v=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ge(),this.mutatedKeys=ge(),this.Aa=ST(e),this.Ra=new Cd(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Td,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Bd(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),x=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?S!==x&&(r.track({type:3,doc:y}),R=!0):this.ga(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=x?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(y,S){let x=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y()}};return x(y)-x(S)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new is(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Td,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ge(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Md(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Ad(r))}),n}ba(e){this.Ta=e.Ts,this.da=ge();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return is.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},wv=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Iv=class{constructor(e){this.key=e,this.va=!1}},Ev=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new qr(a=>TT(a),Ud),this.Ma=new Map,this.xa=new Set,this.Oa=new $e(z.comparator),this.Na=new Map,this.La=new Qa,this.Ba={},this.ka=new Map,this.qa=Ka.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function K2(t,e,n=!0){return _(this,null,function*(){let r=aS(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield nS(r,e,n,!0),i})}function Q2(t,e){return _(this,null,function*(){let n=aS(t);yield nS(n,e,!0,!1)})}function nS(t,e,n,r){return _(this,null,function*(){let i=yield N2(t.localStore,Ln(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current",a;return r&&(a=yield Y2(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&KT(t.remoteStore,i),a})}function Y2(t,e,n,r,i){return _(this,null,function*(){t.Ka=(p,m,y)=>function(x,R,j,K){return _(this,null,function*(){let H=R.view.ma(j);H.ns&&(H=yield rT(x.localStore,R.query,!1).then(({documents:D})=>R.view.ma(D,H)));let me=K&&K.targetChanges.get(R.targetId),je=K&&K.targetMismatches.get(R.targetId)!=null,ie=R.view.applyChanges(H,x.isPrimaryClient,me,je);return cT(x,R.targetId,ie.wa),ie.snapshot})}(t,p,m,y);let o=yield rT(t.localStore,e,!0),s=new _v(e,o.Ts),a=s.ma(o.documents),u=Ga.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);cT(t,n,l.wa);let h=new wv(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function J2(t,e,n){return _(this,null,function*(){let r=ee(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Ud(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield ov(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&qv(r.remoteStore,i.targetId),Dv(r,i.targetId)}).catch(tc))):(Dv(r,i.targetId),yield ov(r.localStore,i.targetId,!0))})}function Z2(t,e){return _(this,null,function*(){let n=ee(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),qv(n.remoteStore,r.targetId))})}function X2(t,e,n){return _(this,null,function*(){let r=sj(t);try{let i=yield function(s,a){let u=ee(s),l=ht.now(),h=a.reduce((y,S)=>y.add(S.key),ge()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let S=hr(),x=ge();return u.cs.getEntries(y,h).next(R=>{S=R,S.forEach((j,K)=>{K.isValidDocument()||(x=x.add(j))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,S)).next(R=>{p=R;let j=[];for(let K of a){let H=s2(K,p.get(K.key).overlayedDocument);H!=null&&j.push(new fr(K.key,H,_T(H.value.mapValue),ur.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,j,a)}).next(R=>{m=R;let j=R.applyToLocalDocumentSet(p,x);return u.documentOverlayCache.saveOverlays(y,R.batchId,j)})}).then(()=>({batchId:m.batchId,changes:MT(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new $e(De)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield ic(r,i.changes),yield zd(r.remoteStore)}catch(i){let o=Qv(i,"Failed to persist write");n.reject(o)}})}function rS(t,e){return _(this,null,function*(){let n=ee(t);try{let r=yield M2(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(Me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Me(s.va):i.removedDocuments.size>0&&(Me(s.va),s.va=!1))}),yield ic(n,r,e)}catch(r){yield tc(r)}})}function aT(t,e,n){let r=ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ee(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&Yv(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ej(t,e,n){return _(this,null,function*(){let r=ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new $e(z.comparator);s=s.insert(o,pn.newNoDocument(o,re.min()));let a=ge().add(o),u=new pd(re.min(),new Map,new $e(De),s,a);yield rS(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),Jv(r)}else yield ov(r.localStore,e,!1).then(()=>Dv(r,e,n)).catch(tc)})}function tj(t,e){return _(this,null,function*(){let n=ee(t),r=e.batch.batchId;try{let i=yield A2(n.localStore,e);oS(n,r,null),iS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ic(n,i)}catch(i){yield tc(i)}})}function nj(t,e,n){return _(this,null,function*(){let r=ee(t);try{let i=yield function(s,a){let u=ee(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Me(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);oS(r,e,n),iS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ic(r,i)}catch(i){yield tc(i)}})}function iS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function oS(t,e,n){let r=ee(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Dv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||sS(t,r)})}function sS(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(qv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Jv(t))}function cT(t,e,n){for(let r of n)r instanceof Ad?(t.La.addReference(r.key,e),rj(t,r)):r instanceof Md?(U("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||sS(t,r.key)):Y()}function rj(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(U("SyncEngine","New document in limbo: "+n),t.xa.add(r),Jv(t))}function Jv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new z(Ve.fromString(e)),r=t.qa.next();t.Na.set(r,new Iv(n)),t.Oa=t.Oa.insert(n,r),KT(t.remoteStore,new Wa(Ln($v(n.path)),r,"TargetPurposeLimboResolution",gT.oe))}}function ic(t,e,n){return _(this,null,function*(){let r=ee(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=tv.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return _(this,null,function*(){let h=ee(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>N.forEach(l,m=>N.forEach(m.$i,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>N.forEach(m.Ui,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!nc(p))throw p;U("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.os.get(m),S=y.snapshotVersion,x=y.withLastLimboFreeSnapshotVersion(S);h.os=h.os.insert(m,x)}}})}(r.localStore,o))})}function ij(t,e){return _(this,null,function*(){let n=ee(t);if(!n.currentUser.isEqual(e)){U("SyncEngine","User change. New user:",e.toKey());let r=yield GT(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new V(M.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ic(n,r.hs)}})}function oj(t,e){let n=ee(t),r=n.Na.get(e);if(r&&r.va)return ge().add(r.key);{let i=ge(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function aS(t){let e=ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ej.bind(null,e),e.Ca.d_=G2.bind(null,e.eventManager),e.Ca.$a=W2.bind(null,e.eventManager),e}function sj(t){let e=ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nj.bind(null,e),e}var Rd=class{constructor(){this.synchronizeTabs=!1}initialize(e){return _(this,null,function*(){this.serializer=$d(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return S2(this.persistence,new rv,e.initialUser,this.serializer)}createPersistence(e){return new Zy(ev.Zr,this.serializer)}createSharedClientState(e){return new sv}terminate(){return _(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var bv=class{initialize(e,n){return _(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>aT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ij.bind(null,this.syncEngine),yield q2(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new yv}()}createDatastore(e){let n=$d(e.databaseInfo.databaseId),r=function(o){return new uv(o)}(e.databaseInfo);return function(o,s,a,u){return new hv(o,s,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new pv(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>aT(this.syncEngine,n,0),function(){return Id.D()?new Id:new av}())}createSyncEngine(e,n){return function(i,o,s,a,u,l,h){let p=new Ev(i,o,s,a,u,l);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return _(this,null,function*(){var e,n;yield function(i){return _(this,null,function*(){let o=ee(i);U("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield rc(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var xd=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):lr("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Cv=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=st.UNAUTHENTICATED,this.clientId=ad.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>_(this,null,function*(){U("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(U("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new V(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new fn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Qv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function ny(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>_(this,null,function*(){r.isEqual(i)||(yield GT(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function uT(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield cj(t);U("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>iT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>iT(e.remoteStore,i)),t._onlineComponents=e})}function aj(t){return t.name==="FirebaseError"?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function cj(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ny(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!aj(n))throw n;Ko("Error using user provided cache. Falling back to memory cache: "+n),yield ny(t,new Rd)}}else U("FirestoreClient","Using default OfflineComponentProvider"),yield ny(t,new Rd);return t._offlineComponents})}function cS(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),yield uT(t,t._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),yield uT(t,new bv))),t._onlineComponents})}function uj(t){return cS(t).then(e=>e.syncEngine)}function uS(t){return _(this,null,function*(){let e=yield cS(t),n=e.eventManager;return n.onListen=K2.bind(null,e.syncEngine),n.onUnlisten=J2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Q2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Z2.bind(null,e.syncEngine),n})}function lj(t,e,n={}){let r=new fn;return t.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return function(o,s,a,u,l){let h=new xd({next:m=>{s.enqueueAndForget(()=>tS(o,p));let y=m.docs.has(a);!y&&m.fromCache?l.reject(new V(M.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?l.reject(new V(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Sd($v(a.path),h,{includeMetadataChanges:!0,_a:!0});return eS(o,p)}(yield uS(t),t.asyncQueue,e,n,r)})),r.promise}function dj(t,e,n={}){let r=new fn;return t.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return function(o,s,a,u,l){let h=new xd({next:m=>{s.enqueueAndForget(()=>tS(o,p)),m.fromCache&&u.source==="server"?l.reject(new V(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Sd(a,h,{includeMetadataChanges:!0,_a:!0});return eS(o,p)}(yield uS(t),t.asyncQueue,e,n,r)})),r.promise}function lS(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var lT=new Map;function dS(t,e,n){if(!n)throw new V(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hj(t,e,n,r){if(e===!0&&r===!0)throw new V(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dT(t){if(!z.isDocumentKey(t))throw new V(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hT(t){if(z.isDocumentKey(t))throw new V(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y()}function pr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=qd(t);throw new V(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function fj(t,e){if(e<=0)throw new V(M.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var Nd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new V(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new V(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},os=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new V(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new V(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ry;switch(r.type){case"firstParty":return new ay(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=lT.get(n);r&&(U("ComponentProvider","Removing Datastore"),lT.delete(n),r.terminate())}(this),Promise.resolve()}};function pj(t,e,n,r={}){var i;let o=(t=pr(t,os))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=st.MOCK_USER;else{a=fC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new V(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new st(l)}t._authCredentials=new iy(new sd(a,u))}}var Pi=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},xt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Hr=class t extends Pi{constructor(e,n,r){super(e,n,$v(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new z(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Qt(t,e,...n){if(t=it(t),dS("collection","path",e),t instanceof os){let r=Ve.fromString(e,...n);return hT(r),new Hr(t,null,r)}{if(!(t instanceof xt||t instanceof Hr))throw new V(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ve.fromString(e,...n));return hT(r),new Hr(t.firestore,null,r)}}function Un(t,e,...n){if(t=it(t),arguments.length===1&&(e=ad.newId()),dS("doc","path",e),t instanceof os){let r=Ve.fromString(e,...n);return dT(r),new xt(t,null,new z(r))}{if(!(t instanceof xt||t instanceof Hr))throw new V(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ve.fromString(e,...n));return dT(r),new xt(t.firestore,t instanceof Hr?t.converter:null,new z(r))}}var Tv=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Ed(this,"async_queue_retry"),this.Eu=()=>{let n=ty();n&&U("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=ty();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=ty();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new fn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return _(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!nc(e))throw e;U("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw lr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=gv.createAndSchedule(this,e,n,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&Y()}verifyOperationInProgress(){}mu(){return _(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};var Wr=class extends os{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Tv}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||fS(this),this._firestoreClient.terminate()}};function hS(t,e){let n=typeof t=="object"?t:Ei(),r=typeof t=="string"?t:e||"(default)",i=dn(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=hC("firestore");o&&pj(i,...o)}return i}function Zv(t){return t._firestoreClient||fS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function fS(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new hy(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,lS(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Cv(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Ya=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(_t.fromBase64String(e))}catch(n){throw new V(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(_t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ja=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new V(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Pd=class{constructor(e){this._methodName=e}};var Za=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new V(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new V(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}};var Xa=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var gj=/^__.*__$/,Sv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ni(e,this.data,n,this.fieldTransforms)}};function pS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y()}}var Av=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Od(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(pS(this.wu)&&gj.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},Mv=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$d(e)}Nu(e,n,r,i=!1){return new Av({wu:e,methodName:n,Ou:r,path:Bt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Xv(t){let e=t._freezeSettings(),n=$d(t._databaseId);return new Mv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gS(t,e,n,r,i,o={}){let s=t.Nu(o.merge||o.mergeFields?2:0,e,n,i);vS("Data must be an object, but it was:",s,r);let a=mS(r,s),u,l;if(o.merge)u=new kn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=yj(e,p,n);if(!s.contains(m))throw new V(M.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);_j(h,m)||h.push(m)}u=new kn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new Sv(new hn(a),u,l)}function mj(t,e,n,r=!1){return e_(n,t.Nu(r?4:3,e))}function e_(t,e){if(yS(t=it(t)))return vS("Unsupported field value:",e,t),mS(t,e);if(t instanceof Pd)return function(r,i){if(!pS(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=e_(a,i.Fu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=it(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return t2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ht.fromDate(r);return{timestampValue:vd(i.serializer,o)}}if(r instanceof ht){let o=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vd(i.serializer,o)}}if(r instanceof Za)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ya)return{bytesValue:jT(i.serializer,r._byteString)};if(r instanceof xt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:zv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Xa)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return Hv(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${qd(r)}`)}(t,e)}function mS(t,e){let n={};return mT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):as(t,(r,i)=>{let o=e_(i,e.bu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function yS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ht||t instanceof Za||t instanceof Ya||t instanceof xt||t instanceof Pd||t instanceof Xa)}function vS(t,e,n){if(!yS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=qd(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function yj(t,e,n){if((e=it(e))instanceof Ja)return e._internalPath;if(typeof e=="string")return _S(t,e);throw Od("Field path arguments must be of type string or ",t,!1,void 0,n)}var vj=new RegExp("[~\\*/\\[\\]]");function _S(t,e,n){if(e.search(vj)>=0)throw Od(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ja(...e.split("."))._internalPath}catch{throw Od(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Od(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new V(M.INVALID_ARGUMENT,a+t+u)}function _j(t,e){return t.some(n=>n.isEqual(e))}var kd=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Rv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(wS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Rv=class extends kd{data(){return super.data()}};function wS(t,e){return typeof e=="string"?_S(t,e):e instanceof Ja?e._internalPath:e._delegate._internalPath}function wj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new V(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ec=class{},Fd=class extends ec{};function Gd(t,e,...n){let r=[];e instanceof ec&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof Nv).length,a=o.filter(u=>u instanceof xv).length;if(s>1||s>0&&a>0)throw new V(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var xv=class t extends Fd{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return ES(e._query,n),new Pi(e.firestore,e.converter,Cy(e._query,n))}_parse(e){let n=Xv(e.firestore);return function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new V(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){pT(p,h);let y=[];for(let S of p)y.push(fT(u,o,S));m={arrayValue:{values:y}}}else m=fT(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||pT(p,h),m=mj(a,s,p,h==="in"||h==="not-in");return Qe.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var Nv=class t extends ec{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:gn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)ES(s,u),s=Cy(s,u)}(e._query,n),new Pi(e.firestore,e.converter,Cy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Pv=class t extends Fd{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new Pi(e.firestore,e.converter,fd(e._query,this._limit,this._limitType))}};function IS(t){return fj("limit",t),Pv._create("limit",t,"F")}function fT(t,e,n){if(typeof(n=it(n))=="string"){if(n==="")throw new V(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CT(e)&&n.indexOf("/")!==-1)throw new V(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Ve.fromString(n));if(!z.isDocumentKey(r))throw new V(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return UC(t,new z(r))}if(n instanceof xt)return UC(t,n._key);throw new V(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qd(n)}.`)}function pT(t,e){if(!Array.isArray(t)||t.length===0)throw new V(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ES(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new V(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new V(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Ov=class{convertValue(e,n="none"){switch(Ai(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Y()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return as(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Fe(s.doubleValue));return new Xa(o)}convertGeoPoint(e){return new Za(Fe(e.latitude),Fe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Vv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ha(e));default:return null}}convertTimestamp(e){let n=dr(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ve.fromString(e);Me(qT(r));let i=new dd(r.get(1),r.get(3)),o=new z(r.popFirst(5));return i.isEqual(n)||lr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function DS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ci=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ld=class extends kd{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Wo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(wS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Wo=class extends Ld{data(e={}){return super.data(e)}},kv=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ci(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Wo(this._firestore,this._userDataWriter,r.key,r,new Ci(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new V(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Wo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ci(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Wo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ci(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Ij(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function Ij(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y()}}function bS(t){t=pr(t,xt);let e=pr(t.firestore,Wr);return lj(Zv(e),t._key).then(n=>Ej(e,t,n))}var Vd=class extends Ov{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ya(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,n)}};function Wd(t){t=pr(t,Pi);let e=pr(t.firestore,Wr),n=Zv(e),r=new Vd(e);return wj(t._query),dj(n,t._query).then(i=>new kv(e,r,t,i))}function ki(t,e,n){t=pr(t,xt);let r=pr(t.firestore,Wr),i=DS(t.converter,e,n);return t_(r,[gS(Xv(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ur.none())])}function CS(t){return t_(pr(t.firestore,Wr),[new qa(t._key,ur.none())])}function TS(t,e){let n=pr(t.firestore,Wr),r=Un(t),i=DS(t.converter,e);return t_(n,[gS(Xv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ur.exists(!1))]).then(()=>r)}function t_(t,e){return function(r,i){let o=new fn;return r.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return X2(yield uj(r),i,o)})),o.promise}(Zv(t),e)}function Ej(t,e,n){let r=n.docs.get(e._key),i=new Vd(t);return new Ld(t,i,e._key,r,new Ci(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ss=i})(Br),Rt(new ot("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Wr(new oy(r.getProvider("auth-internal")),new uy(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new V(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dd(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),dt(FC,"4.7.0",e),dt(FC,"4.7.0","esm2017")})();var OS=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(B(fi),B(kr))},e.\u0275dir=Ft({type:e});let t=e;return t})(),kS=(()=>{let e=class e extends OS{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Co(e)))(o||e)}})(),e.\u0275dir=Ft({type:e,features:[pi]});let t=e;return t})(),s_=new Q(""),Dj={provide:s_,useExisting:_o(()=>a_),multi:!0},a_=(()=>{let e=class e extends kS{writeValue(r){this.setProperty("checked",r)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Co(e)))(o||e)}})(),e.\u0275dir=Ft({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,o){i&1&&Ee("change",function(a){return o.onChange(a.target.checked)})("blur",function(){return o.onTouched()})},features:[_l([Dj]),pi]});let t=e;return t})(),bj={provide:s_,useExisting:_o(()=>hs),multi:!0};function Cj(){let t=rr()?rr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Tj=new Q(""),hs=(()=>{let e=class e extends OS{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Cj())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(B(fi),B(kr),B(Tj,8))},e.\u0275dir=Ft({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&Ee("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[_l([bj]),pi]});let t=e;return t})();var Sj=new Q(""),Aj=new Q("");function FS(t){return t!=null}function LS(t){return Lr(t)?He(t):t}function VS(t){let e={};return t.forEach(n=>{e=n!=null?k(k({},e),n):e}),Object.keys(e).length===0?null:e}function jS(t,e){return e.map(n=>n(t))}function Mj(t){return!t.validate}function US(t){return t.map(e=>Mj(e)?e:n=>e.validate(n))}function Rj(t){if(!t)return null;let e=t.filter(FS);return e.length==0?null:function(n){return VS(jS(n,e))}}function BS(t){return t!=null?Rj(US(t)):null}function xj(t){if(!t)return null;let e=t.filter(FS);return e.length==0?null:function(n){let r=jS(n,e).map(LS);return Tf(r).pipe(le(VS))}}function $S(t){return t!=null?xj(US(t)):null}function SS(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Nj(t){return t._rawValidators}function Pj(t){return t._rawAsyncValidators}function n_(t){return t?Array.isArray(t)?t:[t]:[]}function Qd(t,e){return Array.isArray(t)?t.includes(e):t===e}function AS(t,e){let n=n_(e);return n_(t).forEach(i=>{Qd(n,i)||n.push(i)}),n}function MS(t,e){return n_(e).filter(n=>!Qd(t,n))}var Yd=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=BS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$S(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},r_=class extends Yd{get formDirective(){return null}get path(){return null}},uc=class extends Yd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},i_=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Oj={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},O5=he(k({},Oj),{"[class.ng-submitted]":"isSubmitted"}),Zd=(()=>{let e=class e extends i_{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(B(uc,2))},e.\u0275dir=Ft({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&mg("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[pi]});let t=e;return t})();var oc="VALID",Kd="INVALID",us="PENDING",sc="DISABLED",ds=class{},Jd=class extends ds{constructor(e,n){super(),this.value=e,this.source=n}},ac=class extends ds{constructor(e,n){super(),this.pristine=e,this.source=n}},cc=class extends ds{constructor(e,n){super(),this.touched=e,this.source=n}},ls=class extends ds{constructor(e,n){super(),this.status=e,this.source=n}};function kj(t){return(Xd(t)?t.validators:t)||null}function Fj(t){return Array.isArray(t)?BS(t):t||null}function Lj(t,e){return(Xd(e)?e.asyncValidators:t)||null}function Vj(t){return Array.isArray(t)?$S(t):t||null}function Xd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var o_=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Dl(()=>this.statusReactive()),this.statusReactive=vl(void 0),this._pristine=Dl(()=>this.pristineReactive()),this.pristineReactive=vl(!0),this._touched=Dl(()=>this.touchedReactive()),this.touchedReactive=vl(!1),this._events=new Je,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return An(this.statusReactive)}set status(e){An(()=>this.statusReactive.set(e))}get valid(){return this.status===oc}get invalid(){return this.status===Kd}get pending(){return this.status==us}get disabled(){return this.status===sc}get enabled(){return this.status!==sc}get pristine(){return An(this.pristineReactive)}set pristine(e){An(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return An(this.touchedReactive)}set touched(e){An(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(AS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(AS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(MS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(MS(e,this._rawAsyncValidators))}hasValidator(e){return Qd(this._rawValidators,e)}hasAsyncValidator(e){return Qd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(he(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new cc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new cc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(he(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ac(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new ac(!0,r))}markAsPending(e={}){this.status=us;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ls(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(he(k({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=sc,this.errors=null,this._forEachChild(i=>{i.disable(he(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Jd(this.value,r)),this._events.next(new ls(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(he(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=oc,this._forEachChild(r=>{r.enable(he(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(he(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===oc||this.status===us)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Jd(this.value,n)),this._events.next(new ls(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(he(k({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sc:oc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=us,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=LS(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ls(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Le,this.statusChanges=new Le}_calculateStatus(){return this._allControlsDisabled()?sc:this.errors?Kd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(us)?us:this._anyControlsHaveStatus(Kd)?Kd:oc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new ac(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new cc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Xd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Fj(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Vj(this._rawAsyncValidators)}};var HS=new Q("CallSetDisabledState",{providedIn:"root",factory:()=>c_}),c_="always";function jj(t,e){return[...e.path,t]}function Uj(t,e,n=c_){$j(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Hj(t,e),qj(t,e),zj(t,e),Bj(t,e)}function RS(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Bj(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function $j(t,e){let n=Nj(t);e.validator!==null?t.setValidators(SS(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Pj(t);e.asyncValidator!==null?t.setAsyncValidators(SS(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();RS(e._rawValidators,i),RS(e._rawAsyncValidators,i)}function Hj(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&zS(t,e)})}function zj(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&zS(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function zS(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function qj(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Gj(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Wj(t){return Object.getPrototypeOf(t.constructor)===kS}function Kj(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===hs?n=o:Wj(o)?r=o:i=o}),i||r||n||null}function xS(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function NS(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Qj=class extends o_{constructor(e=null,n,r){super(kj(n),Lj(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(NS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){xS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){xS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){NS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Yj={provide:uc,useExisting:_o(()=>lc)},PS=Promise.resolve(),lc=(()=>{let e=class e extends uc{constructor(r,i,o,s,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new Qj,this._registered=!1,this.name="",this.update=new Le,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=Kj(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),Gj(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Uj(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){PS.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&El(i);PS.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?jj(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(B(r_,9),B(Sj,10),B(Aj,10),B(s_,10),B(Vr,8),B(HS,8))},e.\u0275dir=Ft({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[_l([Yj]),pi,Do]});let t=e;return t})();var Jj=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Io({type:e}),e.\u0275inj=wo({});let t=e;return t})();var eh=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:HS,useValue:r.callSetDisabledState??c_}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Io({type:e}),e.\u0275inj=wo({imports:[Jj]});let t=e;return t})();var dc={prod:!0,logging:!1,firebaseConfig:{apiKey:"AIzaSyCKKFA4iBcqm_RaojG8mBCIwRwiP_caKCE",authDomain:"impulse-develop.firebaseapp.com",projectId:"impulse-develop",storageBucket:"impulse-develop.appspot.com",messagingSenderId:"946243191276",appId:"1:946243191276:web:eed8ce767fa1d458aa40c9",measurementId:"G-BDL31YG14K"}};var q=class{static log(...e){dc!=null&&dc.logging==!0&&console.log(...e)}};var Zj="firebase",Xj="10.13.0";dt(Zj,Xj,"app");var KS="@firebase/installations",h_="0.6.8";var QS=1e4,YS=`w:${h_}`,JS="FIS_v2",eU="https://firebaseinstallations.googleapis.com/v1",tU=60*60*1e3,nU="installations",rU="Installations";var iU={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Li=new Ut(nU,rU,iU);function ZS(t){return t instanceof lt&&t.code.includes("request-failed")}function XS({projectId:t}){return`${eU}/projects/${t}/installations`}function eA(t){return{token:t.token,requestStatus:2,expiresIn:sU(t.expiresIn),creationTime:Date.now()}}function tA(t,e){return _(this,null,function*(){let r=(yield e.json()).error;return Li.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function nA({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function oU(t,{refreshToken:e}){let n=nA(t);return n.append("Authorization",aU(e)),n}function rA(t){return _(this,null,function*(){let e=yield t();return e.status>=500&&e.status<600?t():e})}function sU(t){return Number(t.replace("s","000"))}function aU(t){return`${JS} ${t}`}function cU(r,i){return _(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){let o=XS(t),s=nA(t),a=e.getImmediate({optional:!0});if(a){let p=yield a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}let u={fid:n,authVersion:JS,appId:t.appId,sdkVersion:YS},l={method:"POST",headers:s,body:JSON.stringify(u)},h=yield rA(()=>fetch(o,l));if(h.ok){let p=yield h.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:eA(p.authToken)}}else throw yield tA("Create Installation",h)})}function iA(t){return new Promise(e=>{setTimeout(e,t)})}function uU(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}var lU=/^[cdef][\w-]{21}$/,d_="";function dU(){try{let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let n=hU(t);return lU.test(n)?n:d_}catch{return d_}}function hU(t){return uU(t).substr(0,22)}function nh(t){return`${t.appName}!${t.appId}`}var oA=new Map;function sA(t,e){let n=nh(t);aA(n,e),fU(n,e)}function aA(t,e){let n=oA.get(t);if(n)for(let r of n)r(e)}function fU(t,e){let n=pU();n&&n.postMessage({key:t,fid:e}),gU()}var Fi=null;function pU(){return!Fi&&"BroadcastChannel"in self&&(Fi=new BroadcastChannel("[Firebase] FID Change"),Fi.onmessage=t=>{aA(t.data.key,t.data.fid)}),Fi}function gU(){oA.size===0&&Fi&&(Fi.close(),Fi=null)}var mU="firebase-installations-database",yU=1,Vi="firebase-installations-store",u_=null;function f_(){return u_||(u_=Zl(mU,yU,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Vi)}}})),u_}function th(t,e){return _(this,null,function*(){let n=nh(t),i=(yield f_()).transaction(Vi,"readwrite"),o=i.objectStore(Vi),s=yield o.get(n);return yield o.put(e,n),yield i.done,(!s||s.fid!==e.fid)&&sA(t,e.fid),e})}function cA(t){return _(this,null,function*(){let e=nh(t),r=(yield f_()).transaction(Vi,"readwrite");yield r.objectStore(Vi).delete(e),yield r.done})}function rh(t,e){return _(this,null,function*(){let n=nh(t),i=(yield f_()).transaction(Vi,"readwrite"),o=i.objectStore(Vi),s=yield o.get(n),a=e(s);return a===void 0?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&sA(t,a.fid),a})}function p_(t){return _(this,null,function*(){let e,n=yield rh(t.appConfig,r=>{let i=vU(r),o=_U(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===d_?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})}function vU(t){let e=t||{fid:dU(),registrationStatus:0};return uA(e)}function _U(t,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(Li.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=wU(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:IU(t)}:{installationEntry:e}}function wU(t,e){return _(this,null,function*(){try{let n=yield cU(t,e);return th(t.appConfig,n)}catch(n){throw ZS(n)&&n.customData.serverCode===409?yield cA(t.appConfig):yield th(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})}function IU(t){return _(this,null,function*(){let e=yield GS(t.appConfig);for(;e.registrationStatus===1;)yield iA(100),e=yield GS(t.appConfig);if(e.registrationStatus===0){let{installationEntry:n,registrationPromise:r}=yield p_(t);return r||n}return e})}function GS(t){return rh(t,e=>{if(!e)throw Li.create("installation-not-found");return uA(e)})}function uA(t){return EU(t)?{fid:t.fid,registrationStatus:0}:t}function EU(t){return t.registrationStatus===1&&t.registrationTime+QS<Date.now()}function DU(r,i){return _(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},n){let o=bU(t,n),s=oU(t,n),a=e.getImmediate({optional:!0});if(a){let p=yield a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}let u={installation:{sdkVersion:YS,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(u)},h=yield rA(()=>fetch(o,l));if(h.ok){let p=yield h.json();return eA(p)}else throw yield tA("Generate Auth Token",h)})}function bU(t,{fid:e}){return`${XS(t)}/${e}/authTokens:generate`}function g_(t,e=!1){return _(this,null,function*(){let n,r=yield rh(t.appConfig,o=>{if(!lA(o))throw Li.create("not-registered");let s=o.authToken;if(!e&&SU(s))return o;if(s.requestStatus===1)return n=CU(t,e),o;{if(!navigator.onLine)throw Li.create("app-offline");let a=MU(o);return n=TU(t,a),a}});return n?yield n:r.authToken})}function CU(t,e){return _(this,null,function*(){let n=yield WS(t.appConfig);for(;n.authToken.requestStatus===1;)yield iA(100),n=yield WS(t.appConfig);let r=n.authToken;return r.requestStatus===0?g_(t,e):r})}function WS(t){return rh(t,e=>{if(!lA(e))throw Li.create("not-registered");let n=e.authToken;return RU(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function TU(t,e){return _(this,null,function*(){try{let n=yield DU(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield th(t.appConfig,r),n}catch(n){if(ZS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))yield cA(t.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield th(t.appConfig,r)}throw n}})}function lA(t){return t!==void 0&&t.registrationStatus===2}function SU(t){return t.requestStatus===2&&!AU(t)}function AU(t){let e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+tU}function MU(t){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function RU(t){return t.requestStatus===1&&t.requestTime+QS<Date.now()}function xU(t){return _(this,null,function*(){let e=t,{installationEntry:n,registrationPromise:r}=yield p_(e);return r?r.catch(console.error):g_(e).catch(console.error),n.fid})}function NU(t,e=!1){return _(this,null,function*(){let n=t;return yield PU(n),(yield g_(n,e)).token})}function PU(t){return _(this,null,function*(){let{registrationPromise:e}=yield p_(t);e&&(yield e)})}function OU(t){if(!t||!t.options)throw l_("App Configuration");if(!t.name)throw l_("App Name");let e=["projectId","apiKey","appId"];for(let n of e)if(!t.options[n])throw l_(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function l_(t){return Li.create("missing-app-config-values",{valueName:t})}var dA="installations",kU="installations-internal",FU=t=>{let e=t.getProvider("app").getImmediate(),n=OU(e),r=dn(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},LU=t=>{let e=t.getProvider("app").getImmediate(),n=dn(e,dA).getImmediate();return{getId:()=>xU(n),getToken:i=>NU(n,i)}};function VU(){Rt(new ot(dA,FU,"PUBLIC")),Rt(new ot(kU,LU,"PRIVATE"))}VU();dt(KS,h_);dt(KS,h_,"esm2017");var ih="analytics",jU="firebase_id",UU="origin",BU=60*1e3,$U="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",E_="https://www.googletagmanager.com/gtag/js";var Nt=new xn("@firebase/analytics");var HU={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},$t=new Ut("analytics","Analytics",HU);function zU(t){if(!t.startsWith(E_)){let e=$t.create("invalid-gtag-resource",{gtagURL:t});return Nt.warn(e.message),""}return t}function vA(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function qU(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function GU(t,e){let n=qU("firebase-js-sdk-policy",{createScriptURL:zU}),r=document.createElement("script"),i=`${E_}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function WU(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function KU(t,e,n,r,i,o){return _(this,null,function*(){let s=r[i];try{if(s)yield e[s];else{let u=(yield vA(n)).find(l=>l.measurementId===i);u&&(yield e[u.appId])}}catch(a){Nt.error(a)}t("config",i,o)})}function QU(t,e,n,r,i){return _(this,null,function*(){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);let a=yield vA(n);for(let u of s){let l=a.find(p=>p.measurementId===u),h=l&&e[l.appId];if(h)o.push(h);else{o=[];break}}}o.length===0&&(o=Object.values(e)),yield Promise.all(o),t("event",r,i||{})}catch(o){Nt.error(o)}})}function YU(t,e,n,r){function i(o,...s){return _(this,null,function*(){try{if(o==="event"){let[a,u]=s;yield QU(t,e,n,a,u)}else if(o==="config"){let[a,u]=s;yield KU(t,e,n,r,a,u)}else if(o==="consent"){let[a,u]=s;t("consent",a,u)}else if(o==="get"){let[a,u,l]=s;t("get",a,u,l)}else if(o==="set"){let[a]=s;t("set",a)}else t(o,...s)}catch(a){Nt.error(a)}})}return i}function JU(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=YU(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function ZU(t){let e=window.document.getElementsByTagName("script");for(let n of Object.values(e))if(n.src&&n.src.includes(E_)&&n.src.includes(t))return n;return null}var XU=30,eB=1e3,y_=class{constructor(e={},n=eB){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}},_A=new y_;function tB(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function nB(t){return _(this,null,function*(){var e;let{appId:n,apiKey:r}=t,i={method:"GET",headers:tB(r)},o=$U.replace("{app-id}",n),s=yield fetch(o,i);if(s.status!==200&&s.status!==304){let a="";try{let u=yield s.json();!((e=u.error)===null||e===void 0)&&e.message&&(a=u.error.message)}catch{}throw $t.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})}function rB(r){return _(this,arguments,function*(t,e=_A,n){let{appId:i,apiKey:o,measurementId:s}=t.options;if(!i)throw $t.create("no-app-id");if(!o){if(s)return{measurementId:s,appId:i};throw $t.create("no-api-key")}let a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new v_;return setTimeout(()=>_(this,null,function*(){u.abort()}),n!==void 0?n:BU),wA({appId:i,apiKey:o,measurementId:s},a,u,e)})}function wA(o,s,a){return _(this,arguments,function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=_A){var u;let{appId:l,measurementId:h}=t;try{yield iB(r,e)}catch(p){if(h)return Nt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:l,measurementId:h};throw p}try{let p=yield nB(t);return i.deleteThrottleMetadata(l),p}catch(p){let m=p;if(!oB(m)){if(i.deleteThrottleMetadata(l),h)return Nt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:l,measurementId:h};throw p}let y=Number((u=m?.customData)===null||u===void 0?void 0:u.httpStatus)===503?Rm(n,i.intervalMillis,XU):Rm(n,i.intervalMillis),S={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return i.setThrottleMetadata(l,S),Nt.debug(`Calling attemptFetch again in ${y} millis`),wA(t,S,r,i)}})}function iB(t,e){return new Promise((n,r)=>{let i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r($t.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function oB(t){if(!(t instanceof lt)||!t.customData)return!1;let e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var v_=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}};var __;function sB(t,e,n,r,i){return _(this,null,function*(){if(i&&i.global){t("event",n,r);return}else{let o=yield e,s=Object.assign(Object.assign({},r),{send_to:o});t("event",n,s)}})}var w_;function aB(t){w_=t}function cB(t){__=t}function uB(){return _(this,null,function*(){if(Pa())try{yield Ql()}catch(t){return Nt.warn($t.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Nt.warn($t.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function lB(t,e,n,r,i,o,s){return _(this,null,function*(){var a;let u=rB(t);u.then(y=>{n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&Nt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>Nt.error(y)),e.push(u);let l=uB().then(y=>{if(y)return r.getId()}),[h,p]=yield Promise.all([u,l]);ZU(o)||GU(o,h.measurementId),w_&&(i("consent","default",w_),aB(void 0)),i("js",new Date);let m=(a=s?.config)!==null&&a!==void 0?a:{};return m[UU]="firebase",m.update=!0,p!=null&&(m[jU]=p),i("config",h.measurementId,m),__&&(i("set",__),cB(void 0)),h.measurementId})}var I_=class{constructor(e){this.app=e}_delete(){return delete hc[this.app.options.appId],Promise.resolve()}},hc={},hA=[],fA={},m_="dataLayer",dB="gtag",pA,IA,gA=!1;function hB(){let t=[];if(Kl()&&t.push("This is a browser extension environment."),vC()||t.push("Cookies are not available."),t.length>0){let e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=$t.create("invalid-analytics-context",{errorInfo:e});Nt.warn(n.message)}}function fB(t,e,n){hB();let r=t.options.appId;if(!r)throw $t.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Nt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw $t.create("no-api-key");if(hc[r]!=null)throw $t.create("already-exists",{id:r});if(!gA){WU(m_);let{wrappedGtag:o,gtagCore:s}=JU(hc,hA,fA,m_,dB);IA=o,pA=s,gA=!0}return hc[r]=lB(t,hA,fA,e,pA,m_,n),new I_(t)}function EA(t=Ei()){t=it(t);let e=dn(t,ih);return e.isInitialized()?e.getImmediate():pB(t)}function pB(t,e={}){let n=dn(t,ih);if(n.isInitialized()){let i=n.getImmediate();if(sr(e,n.getOptions()))return i;throw $t.create("already-initialized")}return n.initialize({options:e})}function D_(t,e,n,r){t=it(t),sB(IA,hc[t.app.options.appId],e,n,r).catch(i=>Nt.error(i))}var mA="@firebase/analytics",yA="0.10.7";function gB(){Rt(new ot(ih,(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return fB(r,i,n)},"PUBLIC")),Rt(new ot("analytics-internal",t,"PRIVATE")),dt(mA,yA),dt(mA,yA,"esm2017");function t(e){try{let n=e.getProvider(ih).getImmediate();return{logEvent:(r,i,o)=>D_(n,r,i,o)}}catch(n){throw $t.create("interop-component-reg-failed",{reason:n})}}}gB();var fs=class t{app;analytics;constructor(){q.log("FirebaseService: Init",this),this.app=qm(dc.firebaseConfig),this.analytics=EA(this.app),q.log("FirebaseService: Init Complete",this)}log(e,n=null){let r={url:window.location.href,device:window.navigator.userAgent,timestamp:new Date().toISOString(),event:e};n&&(r.data=n),q.log("FirebaseService: Sending Event to Analytics: ",e,r),D_(this.analytics,e,r)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};var Bn=class t{constructor(e){this.firebase=e;q.log("FirestoreService: Init",this),this.firestore=hS(this.firebase.app),q.log("FirestoreService: Init Complete",this)}firestore;data={};read(r){return _(this,arguments,function*(e,n={order:"order",start:1,end:100,limit:100}){q.log("FirestoreService: read:: ",e,n);let i=Qt(this.firestore,e),o=Gd(i,IS(n.limit)),s=[];return(yield Wd(o)).forEach(u=>{let l=u.data();l.id=u.id,s.push(l)}),s.sort((u,l)=>u.order-l.order),Promise.resolve(s)})}static \u0275fac=function(n){return new(n||t)(W(fs))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};function mB(t,e){if(t&1){let n=Ct();O(0,"tr")(1,"td"),X(2),L(),O(3,"td")(4,"i",10),Ee("click",function(){let i=Re(n).$implicit,o=ue();return xe(o.edit(i))}),X(5,"edit"),L()()()}if(t&2){let n=e.$implicit;ce(2),Cn(n.id)}}function yB(t,e){if(t&1){let n=Ct();O(0,"div",11)(1,"div",12)(2,"div",13)(3,"div",14)(4,"h4",15),X(5,"Document Data"),L(),O(6,"button",16),Ee("click",function(){Re(n);let i=ue();return xe(i.document=void 0)}),L()(),O(7,"div",17)(8,"div",18)(9,"div",19)(10,"textarea",20),Sn("ngModelChange",function(i){Re(n);let o=ue();return nr(o.data,i)||(o.data=i),xe(i)}),L()()()(),O(11,"div",21)(12,"i",22),Ee("click",function(){Re(n);let i=ue();return xe(i.save())}),X(13,"save"),L(),O(14,"i",23),Ee("click",function(){Re(n);let i=ue();return xe(i.delete())}),X(15,"delete"),L()()()()()}if(t&2){let n=ue();ce(10),Tn("ngModel",n.data)}}var sh=class t{constructor(e){this.firestore=e}key;document;data;documents=[];edit(e){this.document=e,this.data=JSON.stringify(this.document?.data(),null,1)}fetch(){if(!this.key)return;this.documents=[];let e=Qt(this.firestore.firestore,this.key),n=Gd(e);Wd(n).then(r=>{r.forEach(i=>{this.documents.push(i)})})}save(){return _(this,null,function*(){if(this.data&&!(!this.key||!this.document)){var e=void 0;try{e=JSON.parse(this.data)}catch(n){console.error(n),alert("Error while parsing document data, please check and retry");return}this.document?.id?(yield ki(Un(Qt(this.firestore.firestore,this.key),this.document?.id),e),alert("Document Updated.")):e.id?(yield ki(Un(Qt(this.firestore.firestore,this.key),e.id),e),alert("Document Added.")):(yield TS(Qt(this.firestore.firestore,this.key),e),alert("Document Added.")),this.document=void 0}})}delete(){return _(this,null,function*(){this.data&&(!this.key||!this.document||(yield CS(Un(Qt(this.firestore.firestore,this.key),this.document?.id)),this.document=void 0))})}static \u0275fac=function(n){return new(n||t)(B(Bn))};static \u0275cmp=Oe({type:t,selectors:[["app-admin"]],standalone:!0,features:[ke],decls:24,vars:3,consts:[[1,"row","m-0"],[1,"mt-3","col-6","text-end"],["type","text","placeholder","Collection",3,"ngModelChange","ngModel"],[1,"mt-3","col-6"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"p-3"],[1,"table"],[4,"ngFor","ngForOf"],[1,"material-icons","mx-2","text-info","pointer",3,"click"],["class","modal extended",4,"ngIf"],[1,"m-2","material-icons","pointer",3,"click"],[1,"modal","extended"],[1,"modal-dialog","modal-fullscreen"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","my-2"],["rows","15",1,"form-control","x",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"m-2","text-primary","material-icons","pointer",3,"click"],[1,"m-2","text-danger","material-icons","pointer",3,"click"]],template:function(n,r){n&1&&(O(0,"div",0)(1,"div",1)(2,"input",2),Sn("ngModelChange",function(o){return nr(r.key,o)||(r.key=o),o}),L()(),O(3,"div",3)(4,"button",4),Ee("click",function(){return r.fetch()}),X(5,"Fetch"),L()()(),O(6,"div",0)(7,"div",5)(8,"table",6)(9,"thead")(10,"tr")(11,"th"),X(12,"Document Key"),L(),O(13,"th"),X(14,"Action"),L()()(),O(15,"tbody"),Ge(16,mB,6,1,"tr",7),O(17,"tr")(18,"th"),X(19,"Add New Document"),L(),O(20,"th")(21,"i",8),Ee("click",function(){return r.edit({})}),X(22,"add"),L()()()()()()(),Ge(23,yB,16,1,"div",9)),n&2&&(ce(2),Tn("ngModel",r.key),ce(14),ve("ngForOf",r.documents),ce(7),ve("ngIf",r.document))},dependencies:[eh,hs,Zd,lc,Ro,Wt],styles:[".modal.extended[_ngcontent-%COMP%]{display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#fffaf0}"]})};var b_=(t,e)=>{let n,r=sessionStorage.getItem("user");return r!=null&&(n=JSON.parse(r)),e.url.includes("admin")&&(n==null||n.role!="ADMIN")?(F(nt).navigate(["/unauthorized"]),!1):!0};function VA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var jA=VA,UA=new Ut("auth","Firebase",VA());var hh=new xn("@firebase/auth");function vB(t,...e){hh.logLevel<=pe.WARN&&hh.warn(`Auth (${Br}): ${t}`,...e)}function ch(t,...e){hh.logLevel<=pe.ERROR&&hh.error(`Auth (${Br}): ${t}`,...e)}function zn(t,...e){throw $_(t,...e)}function mn(t,...e){return $_(t,...e)}function B_(t,e,n){let r=Object.assign(Object.assign({},jA()),{[e]:n});return new Ut("auth","Firebase",r).create(e,{appName:t.name})}function ji(t){return B_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _B(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&zn(t,"argument-error"),B_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $_(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return UA.create(t,...e)}function J(t,e,...n){if(!t)throw $_(e,...n)}function gr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw ch(e),new Error(e)}function yr(t,e){t||gr(e)}function S_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function wB(){return bA()==="http:"||bA()==="https:"}function bA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function IB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wB()||Kl()||"connection"in navigator)?navigator.onLine:!0}function EB(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ui=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,yr(n>e,"Short delay should be less than long delay!"),this.isMobile=pC()||gC()}get(){return IB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function H_(t,e){yr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var fh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var DB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var bB=new Ui(3e4,6e4);function z_(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ms(o,s,a,u){return _(this,arguments,function*(t,e,n,r,i={}){return BA(t,i,()=>_(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Uo(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),fh.fetch()($A(t,t.config.apiHost,n,p),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},l))}))})}function BA(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},DB),e);try{let i=new A_(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw ah(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ah(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw ah(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw ah(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw B_(t,h,l);zn(t,h)}}catch(i){if(i instanceof lt)throw i;zn(t,"network-request-failed",{message:String(i)})}})}function CB(o,s,a,u){return _(this,arguments,function*(t,e,n,r,i={}){let l=yield ms(t,e,n,r,i);return"mfaPendingCredential"in l&&zn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function $A(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?H_(t.config,i):`${t.config.apiScheme}://${i}`}var A_=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mn(this.auth,"network-request-failed")),bB.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function ah(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=mn(t,e,r);return i.customData._tokenResponse=n,i}function TB(t,e){return _(this,null,function*(){return ms(t,"POST","/v1/accounts:delete",e)})}function HA(t,e){return _(this,null,function*(){return ms(t,"POST","/v1/accounts:lookup",e)})}function fc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function zA(t,e=!1){return _(this,null,function*(){let n=it(t),r=yield n.getIdToken(e),i=q_(r);J(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:fc(C_(i.auth_time)),issuedAtTime:fc(C_(i.iat)),expirationTime:fc(C_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function C_(t){return Number(t)*1e3}function q_(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{let i=Tm(n);return i?JSON.parse(i):(ch("Failed to decode base64 JWT payload"),null)}catch(i){return ch("Caught error parsing JWT payload as JSON",i?.toString()),null}}function CA(t){let e=q_(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function gc(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof lt&&SB(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function SB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var M_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var mc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fc(this.lastLoginAt),this.creationTime=fc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function ph(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield gc(t,HA(n,{idToken:r}));J(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?GA(o.providerUserInfo):[],a=AB(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new mc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function qA(t){return _(this,null,function*(){let e=it(t);yield ph(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function AB(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function GA(t){return t.map(e=>{var{providerId:n}=e,r=eu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function MB(t,e){return _(this,null,function*(){let n=yield BA(t,{},()=>_(this,null,function*(){let r=Uo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=$A(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",fh.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function RB(t,e){return _(this,null,function*(){return ms(t,"POST","/v2/accounts:revokeToken",z_(t,e))})}var pc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):CA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){J(e.length!==0,"internal-error");let n=CA(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield MB(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(J(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(J(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(J(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return gr("not implemented")}};function Kr(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var gs=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=eu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new M_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new mc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield gc(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return zA(this,e)}reload(){return qA(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield ph(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(Pn(this.auth.app))return Promise.reject(ji(this.auth));let e=yield this.getIdToken();return yield gc(this,TB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=n.photoURL)!==null&&s!==void 0?s:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,j=(l=n.createdAt)!==null&&l!==void 0?l:void 0,K=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:H,emailVerified:me,isAnonymous:je,providerData:ie,stsTokenManager:D}=n;J(H&&D,e,"internal-error");let v=pc.fromJSON(this.name,D);J(typeof H=="string",e,"internal-error"),Kr(p,e.name),Kr(m,e.name),J(typeof me=="boolean",e,"internal-error"),J(typeof je=="boolean",e,"internal-error"),Kr(y,e.name),Kr(S,e.name),Kr(x,e.name),Kr(R,e.name),Kr(j,e.name),Kr(K,e.name);let w=new t({uid:H,auth:e,email:m,emailVerified:me,displayName:p,isAnonymous:je,photoURL:S,phoneNumber:y,tenantId:x,stsTokenManager:v,createdAt:j,lastLoginAt:K});return ie&&Array.isArray(ie)&&(w.providerData=ie.map(E=>Object.assign({},E))),R&&(w._redirectEventId=R),w}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new pc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ph(o),o})}static _fromGetAccountInfoResponse(e,n,r){return _(this,null,function*(){let i=n.users[0];J(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?GA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new pc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new mc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var TA=new Map;function mr(t){yr(t instanceof Function,"Expected a class definition");let e=TA.get(t);return e?(yr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,TA.set(t,e),e)}var xB=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),R_=xB;function uh(t,e,n){return`firebase:${t}:${e}:${n}`}var gh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=uh(this.userKey,i.apiKey,o),this.fullPersistenceKey=uh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?gs._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(mr(R_),e,r);let i=(yield Promise.all(n.map(l=>_(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||mr(R_),s=uh(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p=gs._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>_(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function SA(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZA(e))return"Blackberry";if(XA(e))return"Webos";if(KA(e))return"Safari";if((e.includes("chrome/")||QA(e))&&!e.includes("edge/"))return"Chrome";if(JA(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function WA(t=rt()){return/firefox\//i.test(t)}function KA(t=rt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QA(t=rt()){return/crios\//i.test(t)}function YA(t=rt()){return/iemobile/i.test(t)}function JA(t=rt()){return/android/i.test(t)}function ZA(t=rt()){return/blackberry/i.test(t)}function XA(t=rt()){return/webos/i.test(t)}function G_(t=rt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function NB(t=rt()){var e;return G_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function PB(){return mC()&&document.documentMode===10}function eM(t=rt()){return G_(t)||JA(t)||XA(t)||ZA(t)||/windows phone/i.test(t)||YA(t)}function tM(t,e=[]){let n;switch(t){case"Browser":n=SA(rt());break;case"Worker":n=`${SA(rt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Br}/${r}`}var x_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function OB(n){return _(this,arguments,function*(t,e={}){return ms(t,"GET","/v2/passwordPolicy",z_(t,e))})}var kB=6,N_=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:kB,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var P_=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mh(this),this.idTokenSubscription=new mh(this),this.beforeStateQueue=new x_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mr(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield gh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield HA(this,{idToken:e}),r=yield gs._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(Pn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield ph(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=EB()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(Pn(this.app))return Promise.reject(ji(this));let n=e?it(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return Pn(this.app)?Promise.reject(ji(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Pn(this.app)?Promise.reject(ji(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(mr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield OB(this),n=new N_(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ut("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield RB(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&mr(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=yield gh.create(this,[mr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&vB(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function bh(t){return it(t)}var mh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=wC(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var W_={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FB(t){W_=t}function LB(t){return W_.loadJS(t)}function VB(){return W_.gapiScript}function nM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function rM(t,e){let n=dn(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(sr(o,e??{}))return i;zn(i,"already-initialized")}return n.initialize({options:e})}function jB(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(mr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function iM(t,e,n){let r=bh(t);J(r._canInitEmulator,r,"emulator-config-failed"),J(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=oM(e),{host:s,port:a}=UB(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||BB()}function oM(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function UB(t){let e=oM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:AA(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:AA(s)}}}function AA(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function BB(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var yc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gr("not implemented")}_getIdTokenResponse(e){return gr("not implemented")}_linkToIdToken(e,n){return gr("not implemented")}_getReauthenticationResolver(e){return gr("not implemented")}};function ps(t,e){return _(this,null,function*(){return CB(t,"POST","/v1/accounts:signInWithIdp",z_(t,e))})}var $B="http://localhost",yh=class t extends yc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=eu(n,["providerId","signInMethod"]);if(!r||!i)return null;let s=new t(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let n=this.buildRequest();return ps(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,ps(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,ps(e,n)}buildRequest(){let e={requestUri:$B,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Uo(n)}return e}};var vc=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var vh=class extends vc{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Ic=(()=>{class t extends vh{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return yh._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();var _c=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(this,null,function*(){let o=yield gs._fromIdTokenResponse(e,r,i),s=MA(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=MA(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function MA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var O_=class t extends lt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function sM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?O_._fromErrorAndOperation(t,o,e,r):o})}function HB(t,e,n=!1){return _(this,null,function*(){let r=yield gc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return _c._forOperation(t,"link",r)})}function zB(t,e,n=!1){return _(this,null,function*(){let{auth:r}=t;if(Pn(r.app))return Promise.reject(ji(r));let i="reauthenticate";try{let o=yield gc(t,sM(r,i,e,t),n);J(o.idToken,r,"internal-error");let s=q_(o.idToken);J(s,r,"internal-error");let{sub:a}=s;return J(t.uid===a,r,"user-mismatch"),_c._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&zn(r,"user-mismatch"),o}})}function qB(t,e,n=!1){return _(this,null,function*(){if(Pn(t.app))return Promise.reject(ji(t));let r="signIn",i=yield sM(t,r,e),o=yield _c._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function aM(t,e,n,r){return it(t).onIdTokenChanged(e,n,r)}function cM(t,e,n){return it(t).beforeAuthStateChanged(e,n)}function K_(t){return it(t).signOut()}var _h="__sak";var wh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_h,"1"),this.storage.removeItem(_h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var GB=1e3,WB=10,KB=(()=>{class t extends wh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eM(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);PB()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,WB):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},GB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return _(this,null,function*(){yield Er(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return _(this,null,function*(){let r=yield Er(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return _(this,null,function*(){yield Er(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),uM=KB;var QB=(()=>{class t extends wh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Q_=QB;function YB(t){return Promise.all(t.map(e=>_(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var JB=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield YB(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Y_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var k_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=Y_("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Hn(){return window}function ZB(t){Hn().location.href=t}function lM(){return typeof Hn().WorkerGlobalScope<"u"&&typeof Hn().importScripts=="function"}function XB(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function e4(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function t4(){return lM()?self:null}var dM="firebaseLocalStorageDb",n4=1,Ih="firebaseLocalStorage",hM="fbase_key",Bi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Ch(t,e){return t.transaction([Ih],e?"readwrite":"readonly").objectStore(Ih)}function r4(){let t=indexedDB.deleteDatabase(dM);return new Bi(t).toPromise()}function F_(){let t=indexedDB.open(dM,n4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Ih,{keyPath:hM})}catch(i){n(i)}}),t.addEventListener("success",()=>_(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Ih)?e(r):(r.close(),yield r4(),e(yield F_()))}))})}function RA(t,e,n){return _(this,null,function*(){let r=Ch(t,!0).put({[hM]:e,value:n});return new Bi(r).toPromise()})}function i4(t,e){return _(this,null,function*(){let n=Ch(t,!1).get(e),r=yield new Bi(n).toPromise();return r===void 0?null:r.value})}function xA(t,e){let n=Ch(t,!0).delete(e);return new Bi(n).toPromise()}var o4=800,s4=3,a4=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield F_(),this.db)})}_withRetries(n){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>s4)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return lM()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=JB._getInstance(t4()),this.receiver._subscribe("keyChanged",(n,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,r;if(this.activeServiceWorker=yield XB(),!this.activeServiceWorker)return;this.sender=new k_(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||e4()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield F_();return yield RA(n,_h,"1"),yield xA(n,_h),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>RA(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let r=yield this._withRetries(i=>i4(i,n));return this.localCache[n]=r,r})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>xA(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(o=>{let s=Ch(o,!1).getAll();return new Bi(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),o4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),fM=a4;var kG=nM("rcb"),FG=new Ui(3e4,6e4);function pM(t,e){return e?mr(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var wc=class extends yc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ps(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ps(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ps(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function c4(t){return qB(t.auth,new wc(t),t.bypassAuthState)}function u4(t){let{auth:e,user:n}=t;return J(n,e,"internal-error"),zB(n,new wc(t),t.bypassAuthState)}function l4(t){return _(this,null,function*(){let{auth:e,user:n}=t;return J(n,e,"internal-error"),HB(n,new wc(t),t.bypassAuthState)})}var Eh=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return c4;case"linkViaPopup":case"linkViaRedirect":return l4;case"reauthViaPopup":case"reauthViaRedirect":return u4;default:zn(this.auth,"internal-error")}}resolve(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var d4=new Ui(2e3,1e4);function J_(t,e,n){return _(this,null,function*(){if(Pn(t.app))return Promise.reject(mn(t,"operation-not-supported-in-this-environment"));let r=bh(t);_B(t,e,vc);let i=pM(r,n);return new h4(r,"signInViaPopup",e,i).executeNotNull()})}var h4=(()=>{class t extends Eh{constructor(n,r,i,o,s){super(n,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return _(this,null,function*(){let n=yield this.execute();return J(n,this.auth,"internal-error"),n})}onExecution(){return _(this,null,function*(){yr(this.filter.length===1,"Popup operations only handle one event");let n=Y_();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(mn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,d4.get())};n()}}t.currentPopupAction=null;return t})(),f4="pendingRedirect",lh=new Map,L_=class t extends Eh{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=lh.get(this.auth._key());if(!e){try{let r=(yield p4(this.resolver,this.auth))?yield Er(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}lh.set(this.auth._key(),e)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return Er(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Er(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function p4(t,e){return _(this,null,function*(){let n=y4(e),r=m4(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function g4(t,e){lh.set(t._key(),e)}function m4(t){return mr(t._redirectPersistence)}function y4(t){return uh(f4,t.config.apiKey,t.name)}function v4(t,e,n=!1){return _(this,null,function*(){if(Pn(t.app))return Promise.reject(ji(t));let r=bh(t),i=pM(r,e),s=yield new L_(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var _4=10*60*1e3,V_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!w4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!gM(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(mn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_4&&this.cachedEventUids.clear(),this.cachedEventUids.has(NA(e))}saveEventToCache(e){this.cachedEventUids.add(NA(e)),this.lastProcessedEventTime=Date.now()}};function NA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function gM({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function w4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gM(t);default:return!1}}function I4(n){return _(this,arguments,function*(t,e={}){return ms(t,"GET","/v1/projects",e)})}var E4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,D4=/^https?/;function b4(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield I4(t);for(let n of e)try{if(C4(n))return}catch{}zn(t,"unauthorized-domain")})}function C4(t){let e=S_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!D4.test(n))return!1;if(E4.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var T4=new Ui(3e4,6e4);function PA(){let t=Hn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function S4(t){return new Promise((e,n)=>{var r,i,o;function s(){PA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PA(),n(mn(t,"network-request-failed"))},timeout:T4.get()})}if(!((i=(r=Hn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Hn().gapi)===null||o===void 0)&&o.load)s();else{let a=nM("iframefcb");return Hn()[a]=()=>{gapi.load?s():n(mn(t,"network-request-failed"))},LB(`${VB()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw dh=null,e})}var dh=null;function A4(t){return dh=dh||S4(t),dh}var M4=new Ui(5e3,15e3),R4="__/auth/iframe",x4="emulator/auth/iframe",N4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},P4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function O4(t){let e=t.config;J(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?H_(e,x4):`https://${t.config.authDomain}/${R4}`,r={apiKey:e.apiKey,appName:t.name,v:Br},i=P4.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Uo(r).slice(1)}`}function k4(t){return _(this,null,function*(){let e=yield A4(t),n=Hn().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:O4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:N4,dontclear:!0},r=>new Promise((i,o)=>_(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=mn(t,"network-request-failed"),a=Hn().setTimeout(()=>{o(s)},M4.get());function u(){Hn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var F4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},L4=500,V4=600,j4="_blank",U4="http://localhost",Dh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function B4(t,e,n,r=L4,i=V4){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},F4),{width:r.toString(),height:i.toString(),top:o,left:s}),l=rt().toLowerCase();n&&(a=QA(l)?j4:n),WA(l)&&(e=e||U4,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,S])=>`${m}${y}=${S},`,"");if(NB(l)&&a!=="_self")return $4(e||"",a),new Dh(null);let p=window.open(e||"",a,h);J(p,t,"popup-blocked");try{p.focus()}catch{}return new Dh(p)}function $4(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var H4="__/auth/handler",z4="emulator/auth/handler",q4=encodeURIComponent("fac");function OA(t,e,n,r,i,o){return _(this,null,function*(){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Br,eventId:i};if(e instanceof vc){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",_C(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof vh){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${q4}=${encodeURIComponent(u)}`:"";return`${G4(t)}?${Uo(a).slice(1)}${l}`})}function G4({config:t}){return t.emulator?H_(t,z4):`https://${t.authDomain}/${H4}`}var T_="webStorageSupport",j_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Q_,this._completeRedirectFn=v4,this._overrideRedirectResult=g4}_openPopup(e,n,r,i){return _(this,null,function*(){var o;yr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield OA(e,n,r,S_(),i);return B4(e,s,Y_())})}_openRedirect(e,n,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield OA(e,n,r,S_(),i);return ZB(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(yr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return _(this,null,function*(){let n=yield k4(e),r=new V_(e);return n.register("authEvent",i=>(J(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(T_,{type:T_},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[T_];s!==void 0&&n(!!s),zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=b4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return eM()||KA()||G_()}},mM=j_;var kA="@firebase/auth",FA="1.7.7";var U_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function W4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function K4(t){Rt(new ot("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;J(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tM(t)},l=new P_(r,i,o,u);return jB(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Rt(new ot("auth-internal",e=>{let n=bh(e.getProvider("auth").getImmediate());return(r=>new U_(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),dt(kA,FA,W4(t)),dt(kA,FA,"esm2017")}var Q4=5*60,Y4=Mm("authIdTokenMaxAge")||Q4,LA=null,J4=t=>e=>_(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Y4)return;let i=n?.token;LA!==i&&(LA=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Z_(t=Ei()){let e=dn(t,"auth");if(e.isInitialized())return e.getImmediate();let n=rM(t,{popupRedirectResolver:mM,persistence:[fM,uM,Q_]}),r=Mm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=J4(o.toString());cM(n,s,()=>s(n.currentUser)),aM(n,a=>s(a))}}let i=Sm("auth");return i&&iM(n,`http://${i}`),n}function Z4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}FB({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=mn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Z4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});K4("Browser");var Yt=class t{loading=new Ze(!1);count=0;constructor(){q.log("LoaderService: Init",this),q.log("LoaderService: Init Complete",this)}show(){this.count++,this.count>0&&this.loading.next(!0)}hide(){this.count--,this.count==0&&this.loading.next(!1)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};var Jt=class t{constructor(e,n,r){this.firebase=e;this.loader=n;this.firestore=r;q.log("AuthenticationService: Init",this),this.auth=Z_(this.firebase.app),this.intialize(),q.log("AuthenticationService: Init Complete",this)}auth;user;refresh=new Le;intialize(){this.auth.onAuthStateChanged(e=>{if(e==null)this.user=void 0,this.refresh.emit(void 0);else{console.log("AuthenticationService:initialize:: Auth State Changed ",e),this.loader.show();let n=e,r={id:n.uid,email:n.email,name:n.displayName,contact:n.phoneNumber,image:n.photoURL,role:"USER"};this.login(r)}})}login(e){return _(this,null,function*(){let n=Un(this.firestore.firestore,"users",e.id),r=yield bS(n);if(r.exists()){let i=r.data();console.log("AuthenticationService:login:: Existing User :",i),this.user={id:i.id,name:i.name,email:i.email,contact:i.contact,role:i.role,image:i.image},this.refresh.emit(this.user),sessionStorage.setItem("user",JSON.stringify(this.user)),this.firebase.log("login",this.user),this.loader.hide()}else q.log("AuthenticationService:login:: Registering new user: "+e.email),this.user=e,yield ki(Un(Qt(this.firestore.firestore,"users"),e.id),this.user),q.log("AuthenticationService:login:: Registered new user: "+e.email),this.refresh.emit(this.user),sessionStorage.setItem("user",JSON.stringify(this.user)),this.firebase.log("sign_up",this.user),this.loader.hide()})}logout(){return _(this,null,function*(){q.log("AuthenticationService:logout:: Logging out user: "+this.user?.email),this.user=void 0,sessionStorage.clear(),this.firebase.log("logout",this.user),this.refresh.emit(this.user)})}static \u0275fac=function(n){return new(n||t)(W(fs),W(Yt),W(Bn))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};var Th=class t{constructor(e,n,r){this.router=e;this.auth=n;this.loader=r;q.log("LoginComponent: Init",this),this.init(),q.log("LoginComponent: Init Complete",this)}provider=new Ic;init(){let e=sessionStorage.getItem("redirect");sessionStorage.removeItem("redirect"),this.auth.refresh.subscribe(n=>{n!=null?e?(q.log("LoginComponent: Login Success, Redirecting to ",e),this.router.navigateByUrl(e)):(q.log("LoginComponent: Login Success, Redirecting to home"),this.router.navigate(["home"])):q.log("LoginComponent: User Auth State Null")})}login(){this.loader.show(),J_(this.auth.auth,this.provider).then(e=>{let r=Ic.credentialFromResult(e)?.accessToken,i=e.user;q.log("LoginComponent: SignedIn User:",i),this.loader.hide()}).catch(e=>{this.loader.hide();let n=e.code,r=e.message;console.error(e);let i=e.customData.email,o=Ic.credentialFromError(e)})}static \u0275fac=function(n){return new(n||t)(B(nt),B(Jt),B(Yt))};static \u0275cmp=Oe({type:t,selectors:[["app-login"]],standalone:!0,features:[ke],decls:19,vars:0,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"col-md-12"],[1,"card"],[1,"card-title"],[1,"mb-3"],["type","text","id","username","placeholder","Email ID","required","",1,"form-control"],["type","password","id","password","placeholder","Password","required","",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-block"],[1,"divider","my-4"],["type","button",1,"btn","btn-danger","btn-block",3,"click"],[1,"bi","bi-google","me-2"]],template:function(n,r){n&1&&(O(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),X(5,"Sign in"),L(),O(6,"form")(7,"div",5),Pe(8,"input",6),L(),O(9,"div",5),Pe(10,"input",7),L(),O(11,"button",8),X(12,"Login"),L(),O(13,"div",9)(14,"span"),X(15,"or"),L()(),O(16,"button",10),Ee("click",function(){return r.login()}),Pe(17,"i",11),X(18,"Login with Google "),L()()()()()())},styles:['.container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f8f9fa;padding:20px}.card[_ngcontent-%COMP%]{padding:40px;border-radius:8px;border:none;box-shadow:0 4px 12px #0000001a;background-color:#fff;width:100%}.card-title[_ngcontent-%COMP%]{font-size:24px;font-weight:500;color:#202124;margin-bottom:20px;text-align:center}.form-label[_ngcontent-%COMP%]{display:none}.form-control[_ngcontent-%COMP%]{height:40px;padding:10px 20px;font-size:16px;border:1px solid #dadce0;border-radius:4px;background-color:#fff;transition:border-color .3s ease;box-shadow:none}.form-control[_ngcontent-%COMP%]:focus{border-color:#1a73e8;outline:none}[_ngcontent-%COMP%]::placeholder{color:#5f6368;opacity:1}.btn-primary[_ngcontent-%COMP%]{height:44px;border-radius:4px;font-size:16px;font-weight:600;background-color:#1a73e8;border:none;margin-top:20px;width:100%}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#1558c7}.btn-danger[_ngcontent-%COMP%]{height:44px;border-radius:4px;font-size:16px;font-weight:600;background-color:#db4437;border:none;margin-top:20px;width:100%}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c23321}.divider[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center}.divider[_ngcontent-%COMP%]:before, .divider[_ngcontent-%COMP%]:after{content:"";flex:1;border-bottom:1px solid #dadce0}.divider[_ngcontent-%COMP%]:not(:empty):before{margin-right:15px}.divider[_ngcontent-%COMP%]:not(:empty):after{margin-left:15px}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#5f6368;font-size:14px}@media (max-width: 576px){.card[_ngcontent-%COMP%]{padding:30px}.card-title[_ngcontent-%COMP%]{font-size:22px}.form-control[_ngcontent-%COMP%]{height:50px;padding:8px 16px;font-size:15px}.btn-primary[_ngcontent-%COMP%], .btn-danger[_ngcontent-%COMP%]{height:42px;font-size:15px}}']})};var Sh=class t{constructor(e,n){this.router=e;this.auth=n;this.auth.refresh.subscribe(r=>{r==null&&this.router.navigate(["home"])})}logout(){K_(this.auth.auth).then(()=>this.auth.logout())}static \u0275fac=function(n){return new(n||t)(B(nt),B(Jt))};static \u0275cmp=Oe({type:t,selectors:[["app-logout"]],standalone:!0,features:[ke],decls:7,vars:0,consts:[[1,"row","text-center","p-3"],[1,"col-md-4","col-sm-6","col-xs-12","form"],[2,"font-weight","600","font-size","18px"],[3,"click"]],template:function(n,r){n&1&&(O(0,"div",0)(1,"div",1)(2,"p",2),X(3," Are you sure you want to log-off? "),Pe(4,"br"),L(),O(5,"button",3),Ee("click",function(){return r.logout()}),X(6,"Logout"),L()()())},styles:["img[_ngcontent-%COMP%]{display:block;width:80px;margin:30px auto;box-shadow:0 5px 10px -7px #333;border-radius:50%}.form[_ngcontent-%COMP%]{background-color:#fff;margin:50px auto 10px;padding:30px;border-radius:8px;overflow:hidden;box-shadow:0 2px 10px -3px #333;text-align:center}button[_ngcontent-%COMP%]{border-radius:100px;border:none;background:#719be6;width:50%;padding:10px;color:#fff;box-shadow:0 2px 10px -3px #719be6;display:block;margin:30px auto 10px}"]})};var Zt=class t{constructor(e,n){this.firestore=e;this.loader=n;q.log("DataService: Init",this),q.log("DataService: Init Complete",this)}data={};load(){return _(this,null,function*(){let e=["pages","models","rules","menu"];for(var n of e){this.loader.show();let r=window.localStorage.getItem(n),i=yield this.get("config",n),o=window.localStorage.getItem(n+"_refresh_dtm"),s=!0;if(o!=null&&i!=null&&i.refresh!=null&&new Date(o).getTime()>new Date(i.refresh).getTime()&&(s=!1),r==null||s){this.data[n]=yield this.firestore.read(n),this.loader.hide();try{window.localStorage.setItem(n,JSON.stringify(this.data[n])),window.localStorage.setItem(n+"_refresh_dtm",new Date().toISOString())}catch(a){console.error(a)}}else this.data[n]=JSON.parse(r),this.loader.hide()}})}get(e,n){return _(this,null,function*(){let r=null;return this.data[e]==null&&(this.data[e]=yield this.firestore.read(e)),this.data[e]!=null&&Array.isArray(this.data[e])&&(r=this.data[e].filter(i=>i.id==n)[0]),r})}read(e,n){let r=null;return n==null||n==""?r=this.data[e]:this.data[e]!=null&&Array.isArray(this.data[e])?r=this.data[e].filter(i=>i.id==n)[0]:r=null,r}static \u0275fac=function(n){return new(n||t)(W(Bn),W(Yt))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};var ys=class t{constructor(e){this.router=e;q.log("AppService: Init",this),app=this,q.log("AppService: Init Complete",this)}$header=new Je;header(e){q.log("AppService: header::",e),e!=null&&this.$header.next(e)}navigate(e){q.log("AppService: navigate:: "+e),this.router.navigateByUrl(e)}static \u0275fac=function(n){return new(n||t)(W(nt))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};var X_=t=>({a:t});function X4(t,e){if(t&1){let n=Ct();O(0,"button",6),Ee("click",function(){Re(n);let i=ue(2);return xe(i.editPageModal=!0)}),O(1,"i",7),X(2,"edit"),L()()}}function e$(t,e){if(t&1&&(O(0,"div",3)(1,"div",4),Ge(2,X4,3,0,"button",5),L()()),t&2){let n=ue();ce(2),ve("ngIf",n.page)}}function t$(t,e){if(t&1){let n=Ct();O(0,"div",25)(1,"textarea",26),Sn("ngModelChange",function(i){Re(n);let o=ue(2);return nr(o.page.html,i)||(o.page.html=i),xe(i)}),L()()}if(t&2){let n=ue(2);ce(),Tn("ngModel",n.page.html)}}function n$(t,e){if(t&1){let n=Ct();O(0,"div",25)(1,"textarea",26),Sn("ngModelChange",function(i){Re(n);let o=ue(2);return nr(o.page.script,i)||(o.page.script=i),xe(i)}),L()()}if(t&2){let n=ue(2);ce(),Tn("ngModel",n.page.script)}}function r$(t,e){if(t&1){let n=Ct();O(0,"div",25)(1,"textarea",26),Sn("ngModelChange",function(i){Re(n);let o=ue(2);return nr(o.page.style,i)||(o.page.style=i),xe(i)}),L()()}if(t&2){let n=ue(2);ce(),Tn("ngModel",n.page.style)}}function i$(t,e){if(t&1){let n=Ct();O(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"h4",12),X(5,"Edit Page"),L(),O(6,"button",13),Ee("click",function(){Re(n);let i=ue();return xe(i.editPageModal=!1)}),L()(),O(7,"div",14)(8,"div",15)(9,"div",16)(10,"input",17),Sn("ngModelChange",function(i){Re(n);let o=ue();return nr(o.page.auth,i)||(o.page.auth=i),xe(i)}),L(),O(11,"label",18),X(12," Authentication "),L()(),O(13,"div",16)(14,"input",19),Sn("ngModelChange",function(i){Re(n);let o=ue();return nr(o.page.header,i)||(o.page.header=i),xe(i)}),L(),O(15,"label",18),X(16," Header "),L()()(),O(17,"div",15)(18,"div",20)(19,"span",21),Ee("click",function(){Re(n);let i=ue();return xe(i.editPageView="html")}),X(20,"HTML"),L(),O(21,"span",21),Ee("click",function(){Re(n);let i=ue();return xe(i.editPageView="script")}),X(22,"Script"),L(),O(23,"span",21),Ee("click",function(){Re(n);let i=ue();return xe(i.editPageView="style")}),X(24,"Style"),L()()(),O(25,"div",15),Ge(26,t$,2,1,"div",22)(27,n$,2,1,"div",22)(28,r$,2,1,"div",22),L()(),O(29,"div",23)(30,"button",24),Ee("click",function(){Re(n);let i=ue();return xe(i.save())}),X(31,"Update"),L()()()()()}if(t&2){let n=ue();ce(10),Tn("ngModel",n.page.auth),ce(4),Tn("ngModel",n.page.header),ce(5),ve("ngClass",Mo(8,X_,n.editPageView=="html")),ce(2),ve("ngClass",Mo(10,X_,n.editPageView=="script")),ce(2),ve("ngClass",Mo(12,X_,n.editPageView=="style")),ce(3),ve("ngIf",n.editPageView=="html"),ce(),ve("ngIf",n.editPageView=="script"),ce(),ve("ngIf",n.editPageView=="style")}}var vs=class t{constructor(e,n,r,i,o,s,a){this.router=e;this.route=n;this.data=r;this.user=i;this.loader=o;this.firestore=s;this.app=a;e.events.subscribe(u=>{u instanceof ln&&this.init()})}id;page;editPageModal=!1;editPageView="html";ngOnInit(){this.init()}init(){let e=this.id?this.id:this.route.snapshot.paramMap.get("id");q.log("PageComponent: init:: "+e),e&&this.refresh(e)}refresh(e){return _(this,null,function*(){var n=yield this.data.get("pages",e);if(n&&n.auth&&this.user.user==null){if(q.log("PageComponent: refresh:: Redirect to Login"),this.route.snapshot.url.length>0){let r=[];this.route.snapshot.url.forEach(i=>r.push(i.path)),sessionStorage.setItem("redirect",r.join("/"))}this.router.navigate(["login"])}else n?(this.page=n,n.header&&this.app.header(n.header),n.html&&this.updateView(),n.style&&n.style!=""&&this.updateStyle(n.style),n.script&&n.script!=""&&this.updateScript(n.script)):this.router.navigate(["home"])})}updateView(){var e=document.getElementById("3593661b72952004");q.log("PageComponent: updateView::",e),e&&this.page&&this.page.html&&(e.innerHTML=this.page.html)}updateStyle(e){var n=document.getElementById("3593661b72952004"),r=document.createElement("style");r.innerText=e,n&&n.appendChild(r)}updateScript(e){var n=document.getElementById("3593661b72952004"),r=document.createElement("script");r.innerText=e,n&&n.appendChild(r)}save(){return _(this,null,function*(){this.page&&(this.editPageModal=!1,this.loader.show(),yield ki(Un(Qt(this.firestore.firestore,"pages"),this.page.id),this.page),this.loader.hide(),alert("Page Updated"))})}static \u0275fac=function(n){return new(n||t)(B(nt),B(Rn),B(Zt),B(Jt),B(Yt),B(Bn),B(ys))};static \u0275cmp=Oe({type:t,selectors:[["app-page"]],inputs:{id:"id"},standalone:!0,features:[ke],decls:3,vars:2,consts:[["id","3593661b72952004"],["class","floating",4,"ngIf"],["class","modal extended",4,"ngIf"],[1,"floating"],[1,"d-flex","flex-column","bd-highlight","mb-3"],["class","btn btn-warning",3,"click",4,"ngIf"],[1,"btn","btn-warning",3,"click"],[1,"material-icons","pointer"],[1,"modal","extended"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"form-check"],["type","checkbox","id","flexCheck1",1,"form-check-input",3,"ngModelChange","ngModel"],["for","flexCheckDefault",1,"form-check-label"],["type","checkbox","id","flexCheckDefault",1,"form-check-input",3,"ngModelChange","ngModel"],[1,"col-12"],[1,"mx-2","pointer",3,"click","ngClass"],["class","col-12 my-2",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],[1,"col-12","my-2"],["rows","15",1,"form-control","x",3,"ngModelChange","ngModel"]],template:function(n,r){n&1&&(Pe(0,"div",0),Ge(1,e$,3,1,"div",1)(2,i$,32,14,"div",2)),n&2&&(ce(),ve("ngIf",r.user.user&&r.user.user.role=="ADMIN"),ce(),ve("ngIf",r.page&&r.editPageModal))},dependencies:[Wt,Sl,eh,hs,a_,Zd,lc],styles:[".floating[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;bottom:60px;right:30px}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50px;width:50px;height:50px;box-shadow:0 .25rem .5rem #000;margin:10px;cursor:pointer;padding:0}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.modal.extended[_ngcontent-%COMP%]{display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#fffaf0}span.a[_ngcontent-%COMP%]{color:#00f;font-weight:700;text-decoration:underline}"]})};var bc=class t{page="home";constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Oe({type:t,selectors:[["app-home"]],standalone:!0,features:[ke],decls:1,vars:1,consts:[[3,"id"]],template:function(n,r){n&1&&Pe(0,"app-page",0),n&2&&ve("id",r.page)},dependencies:[vs]})};function o$(t,e){if(t&1){let n=Ct();O(0,"tr")(1,"td"),X(2),L(),O(3,"td"),X(4),L(),O(5,"td")(6,"button",4),Ee("click",function(){let i=Re(n).$implicit,o=ue();return xe(o.navigate(i))}),O(7,"i",5),X(8,"edit"),L()(),O(9,"button",6)(10,"i",5),X(11,"delete"),L()()()()}if(t&2){let n=e.$implicit;ce(2),Cn(n.id),ce(2),Cn(n.name)}}var Mh=class t{constructor(e,n){this.data=e;this.router=n}pages=[];ngOnInit(){this.refresh()}refresh(){return _(this,null,function*(){this.pages=yield this.data.read("pages")})}navigate(e){this.router.navigateByUrl("p/"+e.id)}static \u0275fac=function(n){return new(n||t)(B(Zt),B(nt))};static \u0275cmp=Oe({type:t,selectors:[["app-pages"]],standalone:!0,features:[ke],decls:14,vars:1,consts:[[1,"container","mt-5"],[1,"mb-4"],["id","example",1,"table","table-striped","table-bordered",2,"width","100%"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-primary","mx-2",3,"click"],[1,"material-icons"],[1,"btn","btn-sm","btn-danger"]],template:function(n,r){n&1&&(O(0,"div",0)(1,"h2",1),X(2,"Pages"),L(),O(3,"table",2)(4,"thead")(5,"tr")(6,"th"),X(7,"ID"),L(),O(8,"th"),X(9,"Name"),L(),O(10,"th"),X(11,"Actions"),L()()(),O(12,"tbody"),Ge(13,o$,12,2,"tr",3),L()()()),n&2&&(ce(13),ve("ngForOf",r.pages))},dependencies:[Ro]})};var vM=[{path:"",component:bc},{path:"admin",component:sh,canActivate:[b_]},{path:"pages",component:Mh,canActivate:[b_]},{path:"login",component:Th},{path:"logout",component:Sh},{path:"home",component:bc},{path:"p/:id",component:vs}];function s$(t){return()=>t.load()}var _M={providers:[tb({eventCoalescing:!0}),cC(vM),{provide:Il,useFactory:s$,multi:!0,deps:[Zt]}]};function a$(t,e){t&1&&(O(0,"div",1),Pe(1,"div",2),L())}var Rh=class t{constructor(e){this.loader=e;this.loading=this.loader.loading}loading;static \u0275fac=function(n){return new(n||t)(B(Yt))};static \u0275cmp=Oe({type:t,selectors:[["app-loader"]],standalone:!0,features:[ke],decls:2,vars:3,consts:[["class","c d-flex align-items-center justify-content-center",4,"ngIf"],[1,"c","d-flex","align-items-center","justify-content-center"],[1,"loader"]],template:function(n,r){n&1&&(Ge(0,a$,2,0,"div",0),YD(1,"async")),n&2&&ve("ngIf",JD(1,1,r.loading))},dependencies:[yb,Wt],styles:[".c[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1000;text-align:center;background:#000;opacity:.5}.loader[_ngcontent-%COMP%]{border:15px solid #f3f3f3;border-radius:50%;border-top:15px solid #3498db;width:100px;height:100px;-webkit-animation:_ngcontent-%COMP%_spin 2s linear infinite;animation:_ngcontent-%COMP%_spin 2s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(360deg)}}@-webkit-keyframes _ngcontent-%COMP%_spin{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(360deg)}}"]})};function c$(t,e){if(t&1&&Pe(0,"div",2),t&2){let n=ue();ve("innerHTML",n.logo,oD)}}function u$(t,e){t&1&&(O(0,"div"),A0(),O(1,"svg",3)(2,"g",4),Pe(3,"rect",5)(4,"rect",6),L(),O(5,"g",7),Pe(6,"path",8),L(),O(7,"g",9),Pe(8,"path",10),L(),O(9,"g",11),Pe(10,"path",12),L()()())}var xh=class t{logo;constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Oe({type:t,selectors:[["app-logo"]],inputs:{logo:"logo"},standalone:!0,features:[ke],decls:2,vars:2,consts:[[3,"innerHTML",4,"ngIf"],[4,"ngIf"],[3,"innerHTML"],["width","200","height","80","viewBox","0 0 400 150"],["id","SvgjsG6266","featurekey","rootContainer","transform","matrix(1,0,0,1,0,0)","fill","#f9e1cf"],["y","0","height","1","width","1","opacity","0"],["y","122","width","370","height","5"],["id","SvgjsG6267","featurekey","symbolFeature-0","transform","matrix(1.028017879379319,0,0,1.028017879379319,-5.140089396896595,12.444349912652363)","fill","#fdfaa4"],["xmlns","http://www.w3.org/2000/svg","fill-rule","evenodd","clip-rule","evenodd","d","M5,78.067c0-7.466,0-49.264,0-56.729C5,10.333,11.833,5.333,20.933,5.405  c7.466,0,50.264,0,57.729,0c10.837,0,15.933,7.095,15.933,14.933c0,7.466,0,52.264,0,59.729C94.595,90.333,88.667,95,78.662,95  c-7.466,0-50.263,0-57.729,0C11,95,5,88.667,5,78.067z M23.399,12.872c-7.419,0-10.933,2.466-10.933,9.932  c0,7.466,0,34.865,0,34.865h7.466l7.466-14.933l17.976,20.389l11.889-42.787L73,61l3.5-3.331h10.629c0,0,0-26.399,0-33.865  c0-7.466-2.467-10.932-9.933-10.932H23.399z M71.5,71.875l-13.125-29.25L48.25,77.25L28.399,54.669l-4,10.466H12.466  c0,0,0,4,0,11.467c0,7.466,3.466,10.933,10.933,10.933c7.466,0,44.598,0,52.428,0c7.835,0,11.302-3.467,11.302-10.933  c0-7.467,0-11.467,0-11.467L78.125,65L71.5,71.875z"],["id","SvgjsG6268","featurekey","nameFeature-0","transform","matrix(1.5633774866697607,0,0,1.5633774866697607,111.18704373675078,9.114959226611326)","fill","#fde300"],["_ngcontent-ibt-c17","","d","M0.52 40 c0 0 1.88 -2.4 1.88 -4.76 l0 -18.48 c0 -2.36 -1.88 -4.76 -1.88 -4.76 l11.76 0 s-1.88 2.4 -1.88 4.76 l0 18.48 c0 2.36 1.88 4.76 1.88 4.76 l-11.76 0 z M13.32 40 c0 0 1.88 -2.36 1.88 -4.76 l0 -18.44 c0 -2.4 -1.88 -4.8 -1.88 -4.8 l12.16 0 s-0.454 1.5708 0.23641 4.2232 l3.6836 11.817 l3.6836 -11.817 c0.69 -2.6524 0.23641 -4.2232 0.23641 -4.2232 l12.16 0 s-1.88 2.4 -1.88 4.8 l0 18.44 c0 2.4 1.88 4.76 1.88 4.76 l-10.96 0 s1.88 -2.36 1.88 -4.76 l0 -10.76 l-5 11.92 l-4 0 l-5 -11.92 l0 10.76 c0 2.4 1.88 4.76 1.88 4.76 l-10.96 0 z M26.240000000000002 36.4 c0 0 0.36 -1.88 -0.84 -4.76 l2 4.76 l-1.16 0 z M31.400000000000002 36.4 l2 -4.76 c-1.2 2.88 -0.84 4.76 -0.84 4.76 l-1.16 0 z M46.52 40 c0 0 1.88 -2.4 1.88 -4.76 l0 -18.48 c0 -2.36 -1.88 -4.76 -1.88 -4.76 l12.4 0 c6.6 0 12.24 2.68 12.24 8.88 c0 4.16 -2.08 6.84 -5.2 8.4 c-1.8 0.88 -3.92 1.36 -6.24 1.56 c-0.72 0.08 -2.6 0.08 -3.32 0.08 l0 4.32 c0 2.36 1.88 4.76 1.88 4.76 l-11.76 0 z M56.4 25.6 l1.44 0 c2.84 0 4.96 -1.36 4.96 -3.92 c0 -3 -2.44 -3.96 -5.28 -3.96 l-1.12 0 l0 7.88 z M85.92 40.56 c-6.56 0 -11.56 -3.72 -11.56 -10.56 l0 -13.08 c0 -2.48 -1.88 -4.92 -1.88 -4.92 l11.76 0 s-1.88 2.4 -1.88 4.8 l0 13.2 c0 3.24 1.16 4.72 3.56 4.72 c2.44 0 3.6 -1.48 3.6 -4.72 l0 -13.08 c0 -2.48 -1.88 -4.92 -1.88 -4.92 l11.76 0 s-1.88 2.4 -1.88 4.8 l0 13.2 c0 6.84 -5 10.56 -11.6 10.56 z M100.03999999999999 40 c0 0 1.88 -2.4 1.88 -4.8 l0 -18.44 c0 -2.4 -1.88 -4.76 -1.88 -4.76 l11.76 0 s-1.88 2.36 -1.88 4.76 l0 16.84 l6.04 0 c2.36 0 4.76 -1.88 4.76 -1.88 l0 8.28 l-20.68 0 z M130.12 40.64 c-3.44 0 -8.2 -1.48 -8.2 -1.48 l2.8 -7.96 s1.88 3.8 5.2 3.8 c2.68 0 4.36 -1.16 4.36 -2.92 c0 -3.2 -11.76 -3.3984 -11.76 -11.52 c0 -5.96 4.92 -9.12 11.64 -9.12 c3.32 0 7.36 1.8 7.36 1.8 l-2.76 7.52 s-2.24 -3.96 -4.8 -3.96 c-2.16 0 -3.36 1.36 -3.36 2.68 c0 3.12 12.08 3.64 12.08 11.6 c0 5.92 -5.52 9.56 -12.56 9.56 z M144.00000000000003 40 c0 0 1.88 -2.36 1.88 -4.76 l0 -18.44 c0 -2.4 -1.88 -4.8 -1.88 -4.8 l21.48 0 l0 8.28 s-2.4 -1.88 -4.8 -1.88 l-6.8 0 l0 5.2 l2.8 0 c2.4 0 4.8 -1.88 4.8 -1.88 l0 9.36 s-2.4 -1.88 -4.8 -1.88 l-2.8 0 l0 4.4 l6.8 0 c2.4 0 4.8 -1.88 4.8 -1.88 l0 8.28 l-21.48 0 z"],["id","SvgjsG6269","featurekey","sloganFeature-0","transform","matrix(1.2395395249917074,0,0,1.2395395249917074,109.73635290905752,75.94291572161438)","fill","#f4ee39"],["_ngcontent-ibt-c17","","d","M1.8262 20 l0 -14.111 l2.9297 0 l0 14.111 l-2.9297 0 z M18.037265625 5.888999999999999 l2.9199 0 l0 14.111 l-3.3887 0 l-6.25 -10.088 l0 10.088 l-2.9199 0 l0 -14.111 l3.3496 0 l6.2891 10.029 l0 -10.029 z M32.929203125 8.467 l-5.3711 0 l0 3.2031 l4.6387 0 l0 2.5488 l-4.6387 0 l0 5.7813 l-2.9492 0 l0 -14.111 l8.3203 0 l0 2.5781 z M35.429715625 20 l0 -14.111 l2.9297 0 l0 14.111 l-2.9297 0 z M51.64078125 5.888999999999999 l2.9199 0 l0 14.111 l-3.3887 0 l-6.25 -10.088 l0 10.088 l-2.9199 0 l0 -14.111 l3.3496 0 l6.2891 10.029 l0 -10.029 z M58.21291875 20 l0 -14.111 l2.9297 0 l0 14.111 l-2.9297 0 z M72.968984375 5.888999999999999 l0 2.5781 l-3.3496 0 l0 11.533 l-2.9004 0 l0 -11.533 l-3.3691 0 l0 -2.5781 l9.6191 0 z M83.369375 8.467 l-5.2344 0 l0 3.2031 l4.6387 0 l0 2.5488 l-4.6387 0 l0 3.1934 l5.2344 0 l0 2.5879 l-8.1836 0 l0 -14.111 l8.1836 0 l0 2.5781 z M91.582059375 20 l0 -14.111 l2.9297 0 l0 14.111 l-2.9297 0 z M114.326125 20 l-2.9199 0 l-0.92773 -10.635 l-3.5742 10.635 l-1.8945 0 l-3.5742 -10.635 l-0.9375 10.635 l-2.9297 0 l1.1816 -14.111 l4.1797 0 l3.0078 8.8574 l3.0469 -8.8574 l4.1797 0 z M123.26170625 5.888999999999999 c2.7637 0 4.4824 2.0508 4.4824 4.5605 c0 2.5684 -1.7188 4.4922 -4.4824 4.4922 l-2.9395 0 l0 5.0586 l-2.9297 0 l0 -14.111 l5.8691 0 z M122.77340625 12.4902 c1.4648 0 2.1484 -0.81055 2.1484 -2.0801 c0 -1.2207 -0.68359 -2.0703 -2.1484 -2.0703 l-2.4512 0 l0 4.1504 l2.4512 0 z M139.64890625 20 l-1.0254 -2.9102 l-5.9277 0 l-1.0254 2.9102 l-2.998 0 l5.1953 -14.111 l3.584 0 l5.1953 14.111 l-2.998 0 z M133.55470625 14.6387 l4.209 0 l-2.0996 -5.9863 z M151.015653125 20.19531 c-4.1504 0 -7.2168 -2.8223 -7.2168 -7.2559 s3.0664 -7.2461 7.2168 -7.2461 c3.1445 0 5.6641 1.6113 6.6699 4.2871 l-2.7344 0.99609 c-0.625 -1.6406 -2.1191 -2.5879 -3.9355 -2.5879 c-2.4316 0 -4.2969 1.6992 -4.2969 4.5508 s1.8652 4.5605 4.2969 4.5605 c1.8164 0 3.3105 -0.95703 3.9355 -2.5977 l2.7344 0.99609 c-1.0059 2.6758 -3.5254 4.2969 -6.6699 4.2969 z M168.27171875 5.888999999999999 l0 2.5781 l-3.3496 0 l0 11.533 l-2.9004 0 l0 -11.533 l-3.3691 0 l0 -2.5781 l9.6191 0 z"]],template:function(n,r){n&1&&Ge(0,c$,1,1,"div",0)(1,u$,11,0,"div",1),n&2&&(ve("ngIf",r.logo),ce(),ve("ngIf",!r.logo))},dependencies:[Wt]})};var l$=t=>({active:t});function d$(t,e){if(t&1&&(O(0,"div",4)(1,"h4",6),X(2),L()()),t&2){let n=ue();ce(2),Cn(n.auth.user.name)}}function h$(t,e){if(t&1){let n=Ct();O(0,"div",7),Ee("click",function(){let i=Re(n).$implicit,o=ue();return xe(o.focus(i.route))}),O(1,"i",8),X(2),L(),O(3,"span",9),X(4),L()()}if(t&2){let n=e.$implicit,r=ue();ve("ngClass",Mo(3,l$,r.active=="/"+n.route)),ce(2),Cn(n.icon),ce(2),Cn(n.name)}}var Nh=class t{constructor(e,n,r,i){this.router=e;this.route=n;this.auth=r;this.data=i;q.log("MenuComponent: Init",this),this.active=this.router.url,this.user=this.auth.user,this.load(),this.router.events.subscribe(o=>{o instanceof ln&&(this.active=this.router.url)}),this.smenus=i.read("menu"),this.auth.refresh.subscribe(o=>{this.user=o,this.load()}),q.log("MenuComponent: Init Complete",this)}close=new Le;active="";user;menus=[];smenus=[];load(){this.menus=[],this.menus.push({name:"Home",icon:"home",route:"home"});for(var e in this.smenus){var n=this.smenus[e];(this.user==null&&n.role==null||this.user!=null&&n.role!=null&&n.role.indexOf(this.user.role)>-1)&&this.menus.push({name:this.smenus[e].name,icon:this.smenus[e].icon,route:this.smenus[e].route})}this.user?this.menus.push({name:"Logout",icon:"logout",route:"logout"}):this.menus.push({name:"Login",icon:"login",route:"login"})}focus(e){console.log(e),this.router.navigate([e]),setTimeout(()=>this.close.emit(),100)}static \u0275fac=function(n){return new(n||t)(B(nt),B(Rn),B(Jt),B(Zt))};static \u0275cmp=Oe({type:t,selectors:[["app-menu"]],outputs:{close:"close"},standalone:!0,features:[ke],decls:7,vars:2,consts:[[1,"c"],[1,"text-end"],[1,"material-icons","pointer","m-2",3,"click"],["class","m",4,"ngIf"],[1,"m"],["class","pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[2,"margin-left","10px"],[1,"pointer",3,"click","ngClass"],[1,"material-icons","align-middle","mx-2"],[1,"align-middle"]],template:function(n,r){n&1&&(O(0,"div",0)(1,"div",1)(2,"i",2),Ee("click",function(){return r.close.emit(!0)}),X(3,"close"),L()(),Ge(4,d$,3,1,"div",3),O(5,"div",4),Ge(6,h$,5,5,"div",5),L()()),n&2&&(ce(4),ve("ngIf",r.auth.user),ce(2),ve("ngForOf",r.menus))},dependencies:[Ro,Sl,Wt],styles:[".c[_ngcontent-%COMP%]{position:fixed;top:68px;left:0;height:-webkit-fill-available;background-color:#252526;width:200px;z-index:100}.c[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#fff}.c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:10px 20px 10px 15px;margin-bottom:10px;font-size:20px;border-left:5px solid transparent}.c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div.pointer[_ngcontent-%COMP%]:hover, .c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div.pointer.active[_ngcontent-%COMP%]{border-left:5px solid white;background:#696969}"]})};var Ph=class t{constructor(e){this.data=e;q.log("ConfigService: Init",this),q.log("ConfigService: Init Complete",this)}get(e){return this.data.read("config",e)}static \u0275fac=function(n){return new(n||t)(W(Zt))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};function p$(t,e){t&1&&(O(0,"i",10),X(1,"menu"),L())}function g$(t,e){if(t&1&&Pe(0,"img",11),t&2){let n=ue(2);yg("src",n.auth.user.image,sD)}}function m$(t,e){if(t&1){let n=Ct();O(0,"div")(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),Ee("click",function(){Re(n);let i=ue();return xe(i.menu=!i.menu)}),Ge(5,p$,2,0,"i",5)(6,g$,1,1,"img",6),L()(),O(7,"div",7)(8,"app-logo",8),Ee("click",function(){Re(n);let i=ue();return xe(i.home())}),L()()()(),O(9,"app-menu",9),Ee("close",function(){Re(n);let i=ue();return xe(i.menu=!1)}),L()()}if(t&2){let n=ue();ce(5),ve("ngIf",!n.auth.user),ce(),ve("ngIf",n.auth.user&&n.auth.user.image),ce(2),ve("logo",n.logo),ce(),ve("hidden",!n.menu)}}var Oh=class t{constructor(e,n,r){this.app=e;this.auth=n;this.config=r;q.log("HeaderComponent: Init",this),this.header=this.config.get("header"),this.header&&(this.enabled=this.header.show?this.header.show:!1,this.menu=this.header.menu?this.header.menu:!1,this.logo=this.header.logo?this.header.logo:void 0),this.app.$header.subscribe(i=>{this.enabled=i,q.log("HeaderComponent: Init Refresh",this)}),q.log("HeaderComponent: Init Complete",this)}enabled=!1;menu=!1;header;logo;home(){window.location.href=window.location.origin}static \u0275fac=function(n){return new(n||t)(B(ys),B(Jt),B(Ph))};static \u0275cmp=Oe({type:t,selectors:[["app-header"]],standalone:!0,features:[ke],decls:1,vars:1,consts:[[4,"ngIf"],[1,"c"],[1,"row","m-0"],[1,"position-absolute","col-2","p-2","m-1"],[1,"btn","btn-default","b",3,"click"],["class","material-icons text-light",4,"ngIf"],[3,"src",4,"ngIf"],[1,"col-12","p-0","text-center"],[3,"click","logo"],[3,"close","hidden"],[1,"material-icons","text-light"],[3,"src"]],template:function(n,r){n&1&&Ge(0,m$,10,4,"div",0),n&2&&ve("ngIf",r.enabled)},dependencies:[xh,Nh,Wt],styles:[".c[_ngcontent-%COMP%]{top:0;position:sticky;height:70px;background:#252526;color:#fff}.c[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:30px}.c[_ngcontent-%COMP%]   .t[_ngcontent-%COMP%]{height:45px;margin:10px 0;font-size:30px;border-right:10px solid #252526;white-space:nowrap;overflow:hidden;display:inline-block;font-weight:500}.c[_ngcontent-%COMP%]   .b[_ngcontent-%COMP%]{padding:0}.c[_ngcontent-%COMP%]   .b[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:50px;height:50px}.c[_ngcontent-%COMP%]   .b[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:5px}.a[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_typetext,_ngcontent-%COMP%_blinkcursor;animation-duration:2s,.5s;animation-timing-function:steps(15),steps(15);animation-delay:.5s,0s;animation-iteration-count:1,8;animation-direction:normal;animation-fill-mode:both}@keyframes _ngcontent-%COMP%_typetext{0%{width:.5rem}to{width:8.5rem}}@keyframes _ngcontent-%COMP%_blinkcursor{0%{border-right-color:#fff}to{border-right-color:#252526}}"]})};var kh=class t{constructor(e){this.router=e;q.log("AppComponent: Init",this);let n=sessionStorage.getItem("redirect");q.log("AppComponent: redirect:: "+n),n&&(sessionStorage.removeItem("redirect"),this.router.navigateByUrl(n)),q.log("AppComponent: Init Complete",this)}static \u0275fac=function(n){return new(n||t)(B(nt))};static \u0275cmp=Oe({type:t,selectors:[["app-root"]],standalone:!0,features:[ke],decls:3,vars:0,template:function(n,r){n&1&&Pe(0,"app-header")(1,"app-loader")(2,"router-outlet")},dependencies:[Oh,Rh,mm]})};Tb(kh,_M).catch(t=>console.error(t));
